define("MsPortalImpl/Commands/Commands.OAuthCommand",["require","exports"],(function(e,t){"use strict";t.executeOAuthCommand=function(e,t,r,c){const l=o.screen;let h=r||Math.max(l.width/2,1060),s=c||l.height/2;h=h>=l.width?l.width:h,s=s>=l.height?l.height:s;const u=l.height/2-s/2,d=l.width/2-h/2,m=`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, width=${h}, height=${s}, top=${u}, left=${d}`,w=e=>{let t;if(e&&(t=i[e],delete i[e]),0===Object.keys(i).length&&(delete o[n],document.cookie=a+"=; expires="+new Date(0).toUTCString()+"; path=/"),clearInterval(C),clearInterval(g),t&&t.close)try{t.close()}catch(e){return}};o[n]=t=>{try{k&&i[k]}catch(e){return}e(t),w(k)};const C=setInterval((()=>{const t=new RegExp(`${a}=(.*?)(?:$|;)`).exec(document.cookie),i=t&&t[1];if(i)return e(i),document.cookie=a+"=; expires="+new Date(0).toUTCString()+"; path=/",void w(k);o[n]||w(k)}),500),g=setInterval((()=>{k&&i[k]?i[k].closed&&w(k):w(k)}),3e5),k=MsPortalFx.getUniqueId();if(i[k]=window.open(t,"",m),!i[k])return w(k),null;return i[k]},t.oauthCookieName=t.oauthCallbackName=void 0;const o=window,n=t.oauthCallbackName="oauthbuttonCallback",a=t.oauthCookieName="oAuthToken",i={}}));