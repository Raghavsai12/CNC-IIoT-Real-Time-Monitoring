define("FxInternal/Assets/Marketplace",["require","exports","FxHubs/Common/AssetTypeCache","Fx","Fx/Ajax"],(function(e,t,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectBetweenClaims=s,t.getSelectedPlan=u,t.getMarketplaceExtractFromCatalogMetadata=f,t.getMarketplaceExtractFromId=function(e){return __awaiter(this,arguments,void 0,(function(e){var t,n,i,a,r,o=this,l=e.marketplaceId,s=e.logToExtensionCallback,c=e.catalogOffer,p=e.getUiDefinition;return __generator(this,(function(e){switch(e.label){case 0:return(n=c)?[3,2]:[4,d(l)];case 1:n=e.sent(),e.label=2;case 2:return i=u((t=n).plans,t.offerType,l),a=function(){return __awaiter(o,void 0,void 0,(function(){var e,n;return __generator(this,(function(a){switch(a.label){case 0:return(e=(null==i?void 0:i.uiDefinitionUri)||t.uiDefinitionUri||(null===(n=t.definitionTemplates)||void 0===n?void 0:n.uiDefinitionFileUri))?[4,p(e)]:[2,{extension:"",name:""}];case 1:return[2,a.sent().createDefinition.createBlade]}}))}))},r=i.metadata,[2,f({marketplaceId:l,metadata:r,logToExtensionCallback:s,getUiDefinition:a})]}}))}))};var r={None:"None",DevService:"DevService",ManagedApplication:"ManagedApplication",VirtualMachine:"VirtualMachine",AzureApplication:"AzureApplication",Container:"Container",ContainerApps:"ContainerApps",SaaS:"SaaS",SolutionTemplate:"SolutionTemplate"},o={Classic:"Classic",ARM:"ARM"},l=function(e,t){return(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase())};function s(e,t,n,i,a,r,o){return __awaiter(this,void 0,void 0,(function(){var s,c,d,u,f,p,_,v,m,h,x,g,b;return __generator(this,(function(y){switch(y.label){case 0:s="",c="",y.label=1;case 1:return y.trys.push([1,3,,4]),[4,n()];case 2:return b=y.sent(),s=b.extension,c=b.name,[3,4];case 3:return y.sent(),[2,[null,null]];case 4:if(d=s&&a.find((function(e){return l(e.extensionName,s)})))return[2,[d,s]];if(u=r.filter((function(e){return e.claimedMarketplaceIds&&l(e.noPdlCreateExtension||e.extensionName,s)&&l(e.noPdlCreateBlade,c)})),f=u.filter((function(e){return l(e.extensionName,s)})),p=f.filter((function(n){return l(n.assetType,e)&&l(n.assetKind,t)})),_=a[0],v=f[0],m=p[0],d=m||v||_)for(h=0,x=a;h<x.length;h++)(g=x[h])!==d&&o(g.extensionName,"Your claimed marketplace id '".concat(i,"' has declared an extension ").concat(d.extensionName,", please remove ").concat(i," from your asset type: ").concat(JSON.stringify(g)));return[2,[d,s]]}}))}))}var c="api-version=2018-08-01-beta";function d(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return t=((0,i.getFeatureValue)("microsoft_azure_marketplace_ItemHideKey")||"").split(",").filter(Boolean).concat(((0,i.getFeatureValue)("ItemHideKey")||"").split(",").filter(Boolean)).map((function(e,t){return"HideKeys[".concat(t,"]=").concat(e)})).join("&"),[4,(0,a.ajax)({cache:!0,uri:"".concat(FxImpl.internalEnv.fxCatalogEndpoint,"view/offers/").concat(e,"?").concat(c,"&").concat(t)})];case 1:return[2,n.sent()]}}))}))}function u(e,t,n){var i,a=(n?__spreadArray(__spreadArray([],e.filter((function(e){return l(e.planId,n)})),!0),e.filter((function(e){return l(e.legacyPlanId,n)})),!0):[])[0];if(a||(a=e[0]),t===r.VirtualMachine&&(null==a?void 0:a.stackType)===o.ARM&&(null===(i=a.metadata)||void 0===i?void 0:i.relatedSkus)){var s=(a.metadata.relatedSkus||[]).filter((function(e){var t;return e.sku.generation>((null===(t=a.metadata)||void 0===t?void 0:t.generation)||1)}))[0];if(s){var c=e.filter((function(e){var t;return l(e.legacyPlanId,null===(t=null==s?void 0:s.sku)||void 0===t?void 0:t.identity)}))[0];return c||a}}return a}function f(e){return __awaiter(this,arguments,void 0,(function(e){var t,i,a,r,o,c,d,u,f,p,_,v,m,h,x,g,b,y,w,I,k,C,S,P=e.marketplaceId,U=e.logToExtensionCallback,A=e.getUiDefinition,F=e.metadata,D=void 0===F?{}:F;return __generator(this,(function(e){switch(e.label){case 0:return D?(t=D.portalfx_createAssetType,i=D.portalfx_createAssetKind,a=D.portalfx_createExtensionName||"",[4,(0,n.getMarketplaceExtracts)([P])]):[2,null];case 1:if(r=e.sent(),o=r.marketplaceExtracts,c=P,d=r.duplicateClaimsMap[c],u=void 0===d?{}:d,a&&t){if(!(f=i?o.find((function(e){return l(e.extensionName,a)&&l(e.assetType,t)&&l(e.assetKind,i)})):o.find((function(e){return l(e.extensionName,a)&&l(e.assetType,t)}))))throw p="The marketplace item '".concat(P,"' references an asset type for an extension that does not exist."),U(a,p),new Error(p);return[2,f]}if(_=Object.keys(u),v=_.map((function(e){return o[u[e]]})),a&&_.length>=1)for(m=0,h=v;m<h.length;m++)x=h[m],g=x.extensionName,b=x.assetType,y=x.assetKind,U(g,"The marketplace item '".concat(P,"' now references an extension. Please remove '").concat(P,"' from the claimedMarketplaceIds on the asset ").concat(JSON.stringify({assetType:b,assetKind:y})));return a?[3,3]:[4,s(t,i,A,P,v,o,U)];case 2:S=e.sent(),f=S[0],a=S[1],f&&(t=f.assetType,i=f.assetKind,a=f.extensionName),e.label=3;case 3:for(a&&t&&!f&&(f=i?o.find((function(e){return l(e.extensionName,a)&&l(e.assetType,t)&&l(e.assetKind,i)&&e.claimedMarketplaceIds})):o.find((function(e){return l(e.extensionName,a)&&l(e.assetType,t)&&e.claimedMarketplaceIds})))&&(t=f.assetType,i=f.assetKind,a=f.extensionName,(null==D?void 0:D.portalfx_createExtensionName)||U(a,"The marketplace item '".concat(P,"' now referenced an extension in it's UIDefinition. Please move ").concat(a," from the UIDefinition.json into the metadata e.g. ").concat(JSON.stringify({metadata:{portalfx_createExtensionName:a}})))),t&&!f&&(w=i?o.filter((function(e){return l(e.assetType,t)&&l(e.assetKind,i)})):o.filter((function(e){return l(e.assetType,t)})),(f=w[0])&&(t=f.assetType,i=f.assetKind,a=f.extensionName,U(a,"The marketplace item '".concat(P,"' does not have an extension. Selecting the first assetType or kind that matches ").concat(JSON.stringify(D),". Please add one of the following [").concat(Array.from(new Set(w.map((function(e){return e.extensionName})))).join(", "),"] into the metadata e.g. ").concat(JSON.stringify({metadata:{portalfx_createExtensionName:a}}),". This is a breaking change. We'll be removing the abiltiy to launch blades with only asset types soon due to asset types being non unique between extensions.")))),I=0,k=v;I<k.length;I++)C=k[I],f!==C&&U(C.extensionName,"The marketplace item '".concat(P,"' did not reference your extension. Please remove it from your claimedMarketplaceIds in the asset type ").concat(JSON.stringify(C)));return[2,f]}}))}))}})),
define("FxHubs/MarketplaceRpc",["require","exports","Fx","Fx/Ajax","Fx/Diagnostics","Fx/ResourceManagement","FxHubs/Resources/FxHubsClientStrings","FxHubs/RpcEndPoints","FxInternal","FxInternal/Assets/Marketplace","FxInternal/AsyncLoader","FxHubs/ArmHelpers/ArmApis","FxHubs/Common/AssetTypeCache"],(function(e,t,n,i,a,r,o,l,s,c,d,u,f){"use strict";var p,_,v;Object.defineProperty(t,"__esModule",{value:!0}),t.getStackSelectionFlag=t.cspQuotaIds=t.msdnQuotaIds=t.zeroDollarQuotaIds=t.notAllowedQuotaIds=t.QuotaIds=t.marketplaceOverrideHandler=t.StackType=t.OfferType=t.GalleryErrorCode=void 0,t.traceCreateFlowLaunched=T,t.checkForCreateFlowOverride=ae,t.getCreateFlowWithMarketplaceItem=re,t.getCreateFlow=function(e,t,n){return __awaiter(this,void 0,void 0,(function(){var i,a,r,o,l,s,d,u,f,p,_,v,m,h,x,g,b,y,w;return __generator(this,(function(I){switch(I.label){case 0:i=C({action:"FxCreateFlow",source:"Marketplace",data:{marketplaceId:e.marketplaceGalleryItemId}}),I.label=1;case 1:return I.trys.push([1,6,,7]),e.catalogId?[4,Y(e.catalogId,e.subscriptionId)]:[3,3];case 2:return r=I.sent(),[3,5];case 3:return[4,Z(e.marketplaceGalleryItemId)];case 4:r=I.sent(),I.label=5;case 5:return a=r,[3,7];case 6:return o=I.sent(),P.error(o),S(i,"FailoverRPC"),[2,q(e)];case 7:return I.trys.push([7,9,,10]),[4,(0,c.getMarketplaceExtractFromId)({marketplaceId:e.marketplaceGalleryItemId,logToExtensionCallback:t,catalogOffer:a,getUiDefinition:oe})];case 8:return(l=I.sent())?(s=MsPortalFx.newGuid(),(null===(g=null==e?void 0:e.launchingContext)||void 0===g?void 0:g.telemetryId)||MsPortalFx.extend(e.launchingContext,{telemetryId:s}),d=l.assetType,u=l.assetKind,f=l.extensionName,p=l.noPdlCreateParameters,_=l.noPdlCreateExtension,v=void 0===_?f:_,m=l.noPdlCreateBlade,h={galleryItemId:e.marketplaceGalleryItemId,blade:m,extension:v,context:null===(b=e.launchingContext)||void 0===b?void 0:b.source,telemetryId:null===(y=e.launchingContext)||void 0===y?void 0:y.telemetryId,isMyGalleryItem:!1,oldCreateApi:!1},T(e.marketplaceGalleryItemId,h),S(i,"CatalogAssetType",{telemetryId:null===(w=e.launchingContext)||void 0===w?void 0:w.telemetryId,extension:v,blade:m}),[2,{bladeName:m,bladeExtension:v,bladeInputs:__assign(__assign({internal_assetTypeInputs:{launchingContext:__assign(__assign({},e.launchingContext),{telemetryId:h.telemetryId}),referenceType:__assign({marketplaceId:e.marketplaceGalleryItemId,extensionName:f,assetType:d},u?{assetKind:u}:{})}},p),e.additionalConfig)}]):[3,10];case 9:return x=I.sent(),P.error(x),[3,10];case 10:return[4,re(e,a,i,n)];case 11:return[2,I.sent()]}}))}))},t.getMarketplaceContext=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,a,r,o,l;return __generator(this,(function(s){switch(s.label){case 0:return[4,Z(e)];case 1:return[4,ee(n=s.sent(),e)];case 2:return i=s.sent().uiDefinition,a=w(),l={},r=H,o=[n,e,t,__assign(__assign({},i.options),{initialData:i.initialData})],[4,a];case 3:return[2,(l.marketplaceItem=r.apply(void 0,o.concat([s.sent()])),l.uiDefinition=i,l)]}}))}))},t.isCSPQuotaId=le,t.getSubscriptionPolicyQuotaIds=se,t.validateSubscriptions=function(e,a){return __awaiter(this,void 0,void 0,(function(){var l;return __generator(this,(function(s){switch(s.label){case 0:return e=K(e),(null==a?void 0:a.length)?"isPrivateOffer"in e&&(null==e?void 0:e.isPrivateOffer)||"isPrivateStore"in e&&(null==e?void 0:e.isPrivateStore)||!(0,n.isFeatureEnabled)("fxmarketplacesubs")?[2,te(e,a)]:(l=a.map((function(n){if(e&&$(e,"47970b32416a")&&!function(e){return t.msdnQuotaIds.includes(ne(e))}(n))return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.msdnOfferRequired});if(e&&$(e,"enterpriseagreementonly")&&!function(e){var n=se(e);return n.some((function(e){return e.toLowerCase()===t.QuotaIds.EnterpriseAgreement}))}([n]))return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.eaOfferRequired});if(function(e){return t.notAllowedQuotaIds.includes(ne(e))}(n)||e&&function(e){if("galleryItemAccess"in e&&0===(null==e?void 0:e.galleryItemAccess))return!1;return!(null==e?void 0:e.categoryIds.includes("free"))}(e)&&function(e){return t.zeroDollarQuotaIds.includes(ne(e))}(n))return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.billableSubscriptionRequired});if(function(e){var t=se(e);return 1===(null==t?void 0:t.length)&&le(t[0])}([n])&&e){var a="isCSPSelective"in e&&(null==e?void 0:e.isCSPSelective);if("isCSPEnabled"in e&&!e.isCSPEnabled)return Promise.resolve({subscriptionId:n.subscriptionId,displayText:o.MarketplaceValidation.cspNotAllowed});if(!a)return null;if(e.products.length>0)try{var l=e.products[0].offerDetails.publisherId+"."+e.products[0].offerDetails.offerId;return function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,a,l,s,c,d;return __generator(this,(function(f){switch(f.label){case 0:n=(0,u.getMarketplaceOfferAPI)(r.ArmId.stringify({subscription:e},1),t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,(0,i.batch)({uri:n,requestHeaderDictionary:{"x-ms-pricing-audience":["PartnerCommercial"]},type:"GET",setTelemetryHeader:"checkAllowList"})];case 2:return f.sent(),[3,4];case 3:a=f.sent();try{if(s="",!(null===(d=null==(l=a)?void 0:l.content)||void 0===d?void 0:d.error)&&(s="Could not validate subscription, please retry later.",404===l.httpStatusCode))return k({source:"Marketplace",action:"FxValidateError",data:{subscription:e,offer:t,error:a||"Unknown error"}}),[2,{subscriptionId:e,displayText:s}];if(c=m[l.content.error.code],404===l.httpStatusCode&&c===m.NotEligibleForCSP)return s=l.content.error.message,k({source:"MarketplaceRPC",action:"CSPIsNotEligibibleToBuy",data:{subscription:e,offer:t,error:a||"Unknown error"}}),[2,Promise.resolve({subscriptionId:e,displayText:o.MarketplaceValidation.cspNotAllowed})]}catch(n){k({source:"Marketplace",action:"CSPIsNotEligibibleToBuy",data:{subscription:e,offer:t,error:a||"Unknown error in create launcher"}})}return[3,4];case 4:return[2]}}))}))}(n.subscriptionId,l)}catch(t){return k({source:"MarketplaceExtension",action:"Constructing LegacyId of offer",data:{subscription:n.subscriptionId,galleryItem:e,error:JSON.stringify(t)}}),Promise.resolve({subscriptionId:n.subscriptionId,displayText:"Offer missing details or its products are malformed."})}}return null})).filter(Boolean),[4,Promise.all(l)]):[2,Promise.resolve({invalidSubscriptions:[]})];case 1:return[2,{invalidSubscriptions:s.sent().filter(Boolean)}]}}))}))},function(e){e[e.OfferBased=0]="OfferBased",e[e.PlanBased=1]="PlanBased"}(p||(p={})),function(e){e[e.template=0]="template",e[e.fragment=1]="fragment",e[e.custom=3]="custom",e[e.metadata=4]="metadata"}(_||(_={})),function(e){e[e.FailedInvalidUIDefinition=0]="FailedInvalidUIDefinition",e[e.FailedPreCheck=1]="FailedPreCheck",e[e.NoMsdnOfferOnSubscriptionsBlade=2]="NoMsdnOfferOnSubscriptionsBlade",e[e.NoSubscriptionsBlade=3]="NoSubscriptionsBlade",e[e.UpgradeSubscriptionBlade=4]="UpgradeSubscriptionBlade",e[e.UiNotAvailableBlade=5]="UiNotAvailableBlade",e[e.AlternateCreateFlowRequested=6]="AlternateCreateFlowRequested",e[e.PreviewFlowRequested=7]="PreviewFlowRequested",e[e.RpcFrameworkFailed=8]="RpcFrameworkFailed",e[e.GalleryServiceCallFailed=9]="GalleryServiceCallFailed"}(v||(v={}));var m,h=Date.parse("2018-02-01"),x={GalleryItem:"GALLERYITEM",ItemGroup:"ITEMGROUP"},g={Single:"Single",Group:"Group"},b=(0,n.isFeatureEnabled)("fxprivatestoreenabled"),y=[_[_.template],_[_.fragment]],w=(0,n.memoizePromise)((function(){return __awaiter(void 0,void 0,void 0,(function(){var e,t,n,a,r,o,l;return __generator(this,(function(s){switch(s.label){case 0:if(!b)return[3,4];e=(0,u.getPrivateStoreApi)(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,i.batch)({uri:e,type:"GET",setTelemetryHeader:"checkAllowList"})];case 2:return t=s.sent(),[2,"enabled"===(null==(n=(null===(l=null===(o=null===(r=null==t?void 0:t.content)||void 0===r?void 0:r.value)||void 0===o?void 0:o[0])||void 0===l?void 0:l.properties)||null)?void 0:n.availability)];case 3:return 401===(a=s.sent()).httpStatusCode?(P.debug(a.name,a.httpStatusCode,a),[2,!1]):(P.error(a.name,a.httpStatusCode,a),[2,!1]);case 4:return[2,Promise.resolve(!1)]}}))}))})),I=MsPortalFx.Base.Diagnostics.Telemetry,k=I.trace,C=I.startTrace,S=I.endTrace,P=(0,a.createLog)(e),U="api-version=2018-08-01-beta",A=["useDetailsIfLinkable","createLanding"],F=["useDetailsIfLinkable","useStackSelectionIfAvailable","createLanding"];function D(e){var t,n,i,a,r,o,l,s=null===(t=null==e?void 0:e.bladeSelection)||void 0===t?void 0:t.detailBladeInputs;return(null===(n=null==s?void 0:s.fx_marketplaceContext)||void 0===n?void 0:n.telemetryId)||(null===(l=null===(o=null===(r=null===(a=FxImpl.fromSerializableObject((null===(i=null==s?void 0:s.internal_bladeCallerParams)||void 0===i?void 0:i.providerConfig)||{}))||void 0===a?void 0:a.provisioningConfig)||void 0===r?void 0:r.galleryCreateOptions)||void 0===o?void 0:o.launchingContext)||void 0===l?void 0:l.telemetryId)}function T(e,t){k({source:"CreateHub",action:"CreateFlowLaunched",name:e,data:t=t||{}})}function M(e){return{planId:e.planId,cspState:e.cspState,displayName:e.displayName,summary:e.summary,description:e.description,isPrivate:!!e.isPrivate,privateSubscriptions:e.privateSubscriptions,isTenantPrivate:e.isTenantPrivate,availabilities:e.availabilities||[],isQuantifiable:e.isQuantifiable,minQuantity:e.minQuantity,maxQuantity:e.maxQuantity,hasFreeTrials:e.hasFreeTrials,planLabels:e.planLabels,planType:e.type}}function N(e,n){if(!e.plans||e.plans.length<=0)return null;var i=[],a=(0,c.getSelectedPlan)(e.plans,e.offerType,n);return e.plans.length&&(i=function(e){return e.offerType===t.OfferType.SaaS||e.offerType===t.OfferType.DevService?p.OfferBased:p.PlanBased}(e)===p.OfferBased?e.plans.map((function(e){return M(e)})):__spreadArray(__spreadArray([],i,!0),[M(a)],!1)),{displayName:e.displayName,publisherDisplayName:e.publisherDisplayName,pricingDetailsUri:e.pricingDetailsUri,offerDetails:{publisherId:e.publisherId,offerId:e.offerId,plans:i,selectedPlan:M(a)},legalTermsUri:e.legalTermsUri,privacyPolicyUri:e.privacyPolicyUri,useEnterpriseContract:e.useEnterpriseContract,hasStandardContractAmendments:e.hasStandardContractAmendments,standardContractAmendmentsRevisionId:e.standardContractAmendmentsRevisionId,cspLegalTermsUri:e.cspLegalTermsUri}}function E(e){return e===g.Group?x.ItemGroup:x.GalleryItem}function B(e,t){var n=__assign(__assign({},e),{leadGeneration:null==t?void 0:t.leadGeneration});return(null==t?void 0:t.metadata)&&(n=__assign(__assign({},n),t.metadata)),n}function z(e,t){return e.createBladeType===p.OfferBased?e.offerId:e.isThirdParty?e.offerId+(0,c.getSelectedPlan)(e.plans,e.offerType,t).planId:(0,c.getSelectedPlan)(e.plans,e.offerType,t).planId}function O(e,t){if(e.createBladeType===p.OfferBased)return __spreadArray([],e.categoryIds,!0);var n=null==t?void 0:t.categoryIds;return n&&n.length||(n=[]),function(e){var t;return null===(t=null==e?void 0:e.categoryIds)||void 0===t?void 0:t.filter((function(t){for(var n,i,a=0,r=e.plans;a<r.length;a++){var o=r[a];if((null===(n=o.categoryIds)||void 0===n?void 0:n.length)&&(null===(i=o.categoryIds)||void 0===i?void 0:i.includes(t)))return!1}return!0}))}(e).concat(n)}function L(e,t,n){return e.itemType===g.Group?function(e){return{identity:e.id,itemDisplayName:e.itemDisplayName,itemType:E(e.itemType),publisherDisplayName:e.publisherDisplayName,iconFileUris:e.iconFileUris}}(e):K(G(e,t,n))}function R(e){return!e.isThirdParty&&!e.isReseller}function G(e,t,n){var i=[];R(e)||i.push(N(e,t));var a=(0,c.getSelectedPlan)(e.plans,e.offerType,t),r=__assign(__assign({},B(e.metadata,a)),{supportUrl:e.supportUri});return{identity:null==a?void 0:a.legacyPlanId,itemName:z(e,t),artifacts:null==a?void 0:a.artifacts,categoryIds:O(e,a),description:e.description,iconFileUris:e.iconFileUris,isMyGalleryItem:e.isMyGalleryItem,itemDisplayName:e.createBladeType===p.OfferBased?e.itemDisplayName:null==a?void 0:a.displayName,links:e.links,longSummary:e.longSummary,metadata:r,products:i,publisher:e.publisherId,publisherDisplayName:e.publisherDisplayName,resourceGroupName:"",screenshotUris:e.screenshotUris,summary:e.summary,uiDefinitionUri:null==a?void 0:a.uiDefinitionUri,version:e.createBladeType===p.OfferBased?e.version:null==a?void 0:a.version,itemType:E(e.itemType),privateBadgeText:e.privateBadgeText,isPrivateOffer:e.isPrivate,curationCategoryDisplayName:e.curationCategoryDisplayName,galleryItemAccess:0,searchId:e.searchId,searchIndex:e.searchIndex,searchScore:e.searchScore,isCSPEnabled:e.isCSPEnabled,isCSPSelective:e.isCSPSelective,isMicrosoftProduct:e.isMicrosoftProduct,productOwnershipSellingMotion:e.productOwnershipSellingMotion,isPrivateStore:n}}function W(e,t,n){return e||(e={}),{errorMessage:t,alternateBladeSelection:{extension:"Microsoft_Azure_Marketplace",detailBlade:"GalleryLaunchCreateFailedBlade",detailBladeInputs:{galleryItem:e,"collectorBindingInternals-inputs":{options:{galleryOptions:{uiDefinition:{markup:{reference:{}}}}}},"collectorBindingInternals-outputs":"","collectorBindingInternals-commit":""}},isOldCreate:!1,errorType:n,logLevel:2}}function Q(e,t,n){var i,a;return null===(a=null===(i=(0,c.getSelectedPlan)(e.plans,e.offerType,n))||void 0===i?void 0:i.artifacts)||void 0===a?void 0:a.reduce((function(e,n){return(null==n?void 0:n.name)&&n.type.toLowerCase()===_[t]&&(e[n.name]=n.uri),e}),{})}function H(e,t,n,i,a){return __assign(__assign({},J(e,t,a)),{deploymentName:"{0}.{1}".format(e.publisherId,e.offerId),deploymentFragmentFileUris:Q(e,_.fragment,t),deploymentTemplateFileUris:Q(e,_.template,t),launchingContext:n,uiMetadata:i})}function V(e,t,n,i,a,r){var o,l;try{!function(e,t){var n=MsPortalFx.clone(e.launchingContext,!0),i=MsPortalFx.newGuid();(null==n?void 0:n.telemetryId)||MsPortalFx.extend(n,{telemetryId:i});var a=t.createDefinition.createBlade.name;MsPortalFx.extend(n,{createBlade:a}),e.launchingContext=n}(e,n);var s=function(e,t,n,i,a){var r;return{fx_marketplaceContext:{telemetryId:null===(r=null==e?void 0:e.launchingContext)||void 0===r?void 0:r.telemetryId,marketplaceItem:H(t,i,__assign(__assign(__assign({},{galleryItemId:t.id}),{createBlade:n.createDefinition.createBlade.name}),null==e?void 0:e.launchingContext),__assign(__assign({},n.options),{initialData:n.initialData}),a),provisioningConfig:{dontDiscardJourney:!1,dashboardPartReference:n.createDefinition.startboardPart&&{dashboardPartKeyId:n.createDefinition.startboardPartKeyId,partName:n.createDefinition.startboardPart.name,options:{extensionName:n.createDefinition.startboardPart.extension},parameters:null}}}}}(e,t,n,a,r),c={},d=n.createDefinition.createBlade;c.extension=d.extension,c.detailBlade=d.name,c.detailBladeInputs=s;var u={isOldCreate:!1,createVersion:3,bladeSelection:c,actionModifier:i?"OverriddenByExtension":"Default"},f=null==e?void 0:e.launchingContext,p=null==f?void 0:f.galleryItemId,_={galleryItemId:null==f?void 0:f.galleryItemId,blade:u.bladeSelection.detailBlade,extension:u.bladeSelection.extension,context:null==f?void 0:f.source,telemetryId:null==f?void 0:f.telemetryId,isMyGalleryItem:!!t.isMyGalleryItem,oldCreateApi:!1};return u.isOldCreate&&(_.oldCreateApi=!0),T(p,_),u}catch(e){P.error(e);var m="Failed to launch create flow from extension\n        ".concat(null===(l=null===(o=null==n?void 0:n.createDefinition)||void 0===o?void 0:o.createBlade)||void 0===l?void 0:l.name,"\n        for gallery item ").concat(null==t?void 0:t.id," with the following error: ").concat(e);throw W(L(t,a,r),m,v.GalleryServiceCallFailed)}}function q(e){return __awaiter(this,void 0,void 0,(function(){var t,n,i;return __generator(this,(function(a){switch(a.label){case 0:return[4,(0,f.getMarketplaceExtracts)([e.marketplaceGalleryItemId])];case 1:return t=a.sent(),n=t.marketplaceExtracts,i=t.duplicateClaimsMap,[4,MsPortalFx.Services.Rpc.invokeCallback("Microsoft_Azure_Marketplace","getCreateFlow",__assign(__assign({},e),{alternateCreateFlowOptions:__assign(__assign({},e.alternateCreateFlowOptions),{useCreateAssetTypeIfAvailable:n,useCreateAssetTypeIfClaimed:i})}))];case 2:return[2,a.sent()]}}))}))}function j(e){return(null==e?void 0:e.length)>=1&&e.some((function(e){return"SelectiveOptIn"===e.cspState}))}function K(e){return JSON.parse(JSON.stringify(e))}function J(e,t,n){var i,a,r=G(e,t,n),o=function(e,t,n){var i,a,r,o=[],l=N(e,t);l&&!R(e)&&o.push(l);var s=(0,c.getSelectedPlan)(e.plans,e.offerType,t),d=((null==s?void 0:s.artifacts)||[]).reduce((function(e,t){return y.includes(t.type.toLowerCase())?e.concat(t):e}),[]),u=__assign(__assign({},B(e.metadata,s)),{resourceProviderNamespace:null==s?void 0:s.resourceProviderNamespace,resourceType:null==s?void 0:s.resourceType,supportUrl:e.supportUri});return{id:e.createBladeType===p.OfferBased?e.id:null===(i=(0,c.getSelectedPlan)(e.plans,e.offerType,t))||void 0===i?void 0:i.legacyPlanId,itemDisplayName:e.itemDisplayName,publisherDisplayName:e.publisherDisplayName,version:e.createBladeType===p.OfferBased?e.version:null===(a=(0,c.getSelectedPlan)(e.plans,e.offerType,t))||void 0===a?void 0:a.version,categoryIds:O(e,s),products:o,productsWithNoPricing:[],specialArtifacts:d,metadata:u,filters:e.filters,isPrivateOffer:e.isPrivate,mediumIconUri:null===(r=e.iconFileUris)||void 0===r?void 0:r.medium,isCSPEnabled:e.isCSPEnabled,galleryItemAccess:0,isPrivateStore:n}}(e,t,n);return K({metadata:r.metadata||{},categoryIds:r.categoryIds||[],version:r.version,products:r.products,isPrivateOffer:r.isPrivateOffer,isCSPEnabled:!!r.isCSPEnabled||(i=e.plans,a=!1,(null==i?void 0:i.length)>=1&&(a=i.some((function(e){return"OptIn"===e.cspState||"SelectiveOptIn"===e.cspState||void 0===e.cspState}))),a),isCSPSelective:!!r.isCSPSelective||j(e.plans),publisherDisplayName:r.publisherDisplayName,itemDisplayName:r.itemDisplayName,filters:o.filters||[],id:o.id,productsWithNoPricing:o.productsWithNoPricing,specialArtifacts:__spreadArray([],o.specialArtifacts,!0),mediumIconUri:o.mediumIconUri,galleryItemAccess:0,isPrivateStore:n})}function $(e,t){return null==e?void 0:e.categoryIds.some((function(e){return(null==e?void 0:e.toLowerCase())===t}))}function Y(e,t){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(a){switch(a.label){case 0:return n=X(),[4,(0,i.batch)({uri:"".concat(t?"/subscriptions/".concat(t):"","/providers/Microsoft.Marketplace/products?api-version=2023-05-01-preview&").concat(n,"&includePrivateOffers=true&$filter=uniqueProductId%20eq%20%27").concat(e,"%27&$top=1&$select=plans,uniqueProductId&$expand=plans($select=planId,metadata;$expand=metadata)"),options:32})];case 1:return[2,a.sent().content.items[0]]}}))}))}function Z(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return t=X(),[4,(0,i.ajax)({cache:!0,uri:"".concat(FxImpl.internalEnv.fxCatalogEndpoint,"view/offers/").concat(e,"?").concat(U,"&").concat(t)})];case 1:return[2,n.sent()]}}))}))}function X(){return((0,n.getFeatureValue)("microsoft_azure_marketplace_ItemHideKey")||"").split(",").filter(s.identity).concat(((0,n.getFeatureValue)("ItemHideKey")||"").split(",").filter(s.identity)).map((function(e,t){return"HideKeys[".concat(t,"]=").concat(e)})).join("&")}function ee(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,a,r,o,l,s,d;return __generator(this,(function(u){switch(u.label){case 0:return(null===(l=null===(o=null===(r=null==e?void 0:e.plans)||void 0===r?void 0:r[0])||void 0===o?void 0:o.metadata)||void 0===l?void 0:l.portalfx_createAssetType)?[2,{offer:e}]:(n=(null===(s=(0,c.getSelectedPlan)(e.plans,e.offerType,t))||void 0===s?void 0:s.uiDefinitionUri)||e.uiDefinitionUri||(null===(d=e.definitionTemplates)||void 0===d?void 0:d.uiDefinitionFileUri),[4,oe(n)]);case 1:return i=u.sent(),oe.clear(),[4,ae(e,i,t)];case 2:return a=u.sent(),[2,{offer:e,uiDefinition:a,overridden:i!==a}]}}))}))}function te(e,t){return __awaiter(this,void 0,void 0,(function(){var i,a;return __generator(this,(function(r){switch(r.label){case 0:return(0,n.isFeatureEnabled)("marketplaceSingleSub")&&1===t.length?(i=t[0],[4,MsPortalFx.Services.Rpc.invokeCallback("Microsoft_Azure_Marketplace","validateSingleSubscription",{galleryItem:e,subscription:i})]):[3,2];case 1:return[2,{invalidSubscriptions:(a=r.sent()).isValid?[]:[{displayText:a.displayText,subscriptionId:i.subscriptionId}]}];case 2:return[2,MsPortalFx.Services.Rpc.invokeCallback("Microsoft_Azure_Marketplace","validateSubscriptions",{galleryItem:e,subscriptions:t})]}}))}))}function ne(e){var t,n;return null===(n=null===(t=null==e?void 0:e.subscriptionPolicies)||void 0===t?void 0:t.quotaId)||void 0===n?void 0:n.toLowerCase()}function ie(e){return!!(e&&e.metadata&&"altStackReference"in e.metadata)||$(e,"virtualmachine")}!function(e){e[e.NotEligibleForCSP=0]="NotEligibleForCSP"}(m||(t.GalleryErrorCode=m={})),t.OfferType={None:"None",DevService:"DevService",ManagedApplication:"ManagedApplication",VirtualMachine:"VirtualMachine",AzureApplication:"AzureApplication",Container:"Container",ContainerApps:"ContainerApps",SaaS:"SaaS",SolutionTemplate:"SolutionTemplate"},t.StackType={Classic:"Classic",ARM:"ARM"},t.marketplaceOverrideHandler=(0,d.defineHandler)(l.Provisioning.marketplaceOverrideEndpoint,(function(e){var t=e.messageArg,n=t.galleryUIDefinition,i=t.marketplaceItemId;return ae(t.offer,n,i,e.diContainer.get(FxImpl.Rpc.Client))})),t.QuotaIds={AAD:"aad_2015-09-01",CSP:"csp_2015-05-01",CSPMG:"csp_mg_2017-12-01",CSPDevTest:"cspdevtest_2018-05-01",MPN:"mpn_2014-09-01",MSDN:"msdn_2014-09-01",Default:"default_2014-09-01",Internal:"internal_2014-09-01",BizSpark:"bizspark_2014-09-01",AzurePass:"azurepass_2014-09-01",FreeTrial:"freetrial_2014-09-01",DreamSpark:"dreamspark_2015-02-01",PayAsYouGo:"payasyougo_2014-09-01",MSDNDevTest:"msdndevtest_2014-09-01",AzureInOpen:"azureinopen_2014-09-01",BizSparkPlus:"bizsparkplus_2014-09-01",BackupStorage:"backupstorage_2014-09-01",AzureDynamics:"azuredynamics_2014-09-01",LightweightTrial:"lightweighttrial_2016-09-01",EnterpriseAgreement:"enterpriseagreement_2014-09-01",LegacyMonetaryCommitment:"legacymonetarycommitment_2014-09-01",AzureStackAdmin:"azurestackadmin",AzureStackReseller:"azurestackreseller",AzureStackTenant:"azurestacktenant"},t.notAllowedQuotaIds=[t.QuotaIds.AAD],t.zeroDollarQuotaIds=[t.QuotaIds.DreamSpark,t.QuotaIds.LightweightTrial],t.msdnQuotaIds=[t.QuotaIds.MSDN,t.QuotaIds.MSDNDevTest,t.QuotaIds.BizSpark,t.QuotaIds.BizSparkPlus],t.cspQuotaIds=[t.QuotaIds.CSP,t.QuotaIds.CSPMG,t.QuotaIds.CSPDevTest];function ae(e,t,n){return __awaiter(this,arguments,void 0,(function(e,t,n,i){var a,r,o,s,c,d,u,f,p,_,m,h,x,g,b,y,I,k;return void 0===i&&(i=FxImpl.Rpc.client),__generator(this,(function(C){switch(C.label){case 0:return(a=t.createDefinition.createBlade.extension)!==FxImpl.extensionName?[3,2]:[4,l.Provisioning.marketplaceOverrideEndpoint.invoke(i,MsPortalFx.Base.Constants.Shell,{offer:e,galleryUIDefinition:t,marketplaceItemId:n})];case 1:return[2,C.sent()];case 2:r=t,s=w(),C.label=3;case 3:return C.trys.push([3,10,12,13]),[4,FxImpl.Extension.getManifestEndPoint.invoke(FxImpl.Rpc.client,"fx",{extensionName:a,propertyName:"flags"})];case 4:return 32&C.sent()?[2,t]:[4,FxImpl.Extension.getExtensionGalleryService.acquireObject(FxImpl.Rpc.client,a)];case 5:return o=C.sent(),null!==(y=null===(b=null==o?void 0:o.value)||void 0===b?void 0:b.content)&&void 0!==y?[3,6]:(c=void 0,[3,8]);case 6:return u=(d=y).galleryCreatePreCheck,f=L,p=[e,n],[4,s];case 7:c=u.apply(d,[f.apply(void 0,p.concat([C.sent()])),!1]),C.label=8;case 8:return[4,c];case 9:return r=C.sent(),[3,13];case 10:return _=C.sent(),P.error(_),m="The call to 'galleryCreatePreCheck' was rejected on extension {0}'s "+"gallery service view model for Gallery Item {1}. The 'galleryCreatePreCheck' should never reject.".format(null===(k=null===(I=null==t?void 0:t.createDefinition)||void 0===I?void 0:I.createBlade)||void 0===k?void 0:k.name,null==e?void 0:e.id),h=W,x=L,g=[e,n],[4,s];case 11:throw h.apply(void 0,[x.apply(void 0,g.concat([C.sent()])),m,v.GalleryServiceCallFailed]);case 12:return null==o||o.dispose(),[7];case 13:if(null==r?void 0:r.$schema)try{r=function(e){if(!e)throw new Error("UI definition is null or undefined.");if(e.declarativeUi)throw new Error("Declarative UI is not supported at the moment.");if(e.createDefinition&&!e.createDefinition.createBlade)throw new Error("Both the create blade and declarative UI are undefined. One of them is required for create.");if(!e.createDefinition)throw new Error("The UI definition must contain a create definition section.");var t=e.createDefinition.createBlade,n=e.createDefinition.startboardPart;if(!t)throw new Error("The create blade is not defined in the UI definition.");if(!t.name||!t.extension)throw new Error("The create blade is not correctly defined in the UI definition. ".concat(t.name?"Extension with create blade name {0} is not correctly defined".format(t.name):"Extension with create blade extension {0} is not correctly defined".format(t.extension)));if(n){if(!n.name||!n.extension)throw new Error("The startboard part is not correctly defined in the UI definition. ".concat(n.name?"Extension with startboard part name {0} is not correctly defined".format(n.name):"Extension with startboard part extension {0} is not correctly defined".format(n.extension)))}else e.createDefinition.startboardPart={name:"ResourceGroupMapPinnedPart",extension:MsPortalFx.Base.Constants.ExtensionNames.Hubs};return e.createDefinition.startboardPartKeyId||(e.createDefinition.startboardPartKeyId="id"),e}(r=function(e){if(!e)throw new Error("UI definition result is null or undefined.");return"string"==typeof e?JSON.parse(e):e}(r))}catch(e){return P.error(e),[2,t]}return[2,r||t]}}))}))}function re(e,i,a,r){return __awaiter(this,void 0,void 0,(function(){var o,l,s,c,d,u,f,p,_,v,m,x,g,b,y,I,C,U,T,M,N,E,B,z,O,L,R,G,W,Q,H,j,K;return __generator(this,(function($){switch($.label){case 0:o=(0,n.startTimer)(),l=(0,n.memoizePromise)((function(){return q(e)})),$.label=1;case 1:return $.trys.push([1,12,,14]),s=(0,t.getStackSelectionFlag)(),c=w(),d=s?A:F,Object.keys((null==e?void 0:e.alternateCreateFlowOptions)||{}).some((function(t){return e.alternateCreateFlowOptions[t]&&d.includes(t)}))?[4,l()]:[3,3];case 2:if(u=$.sent())return S(a,"alternateCreateFlow",{telemetryId:D(u),extension:null===(N=null==u?void 0:u.bladeSelection)||void 0===N?void 0:N.extension,blade:null===(E=null==u?void 0:u.bladeSelection)||void 0===E?void 0:E.detailBlade}),[2,u];$.label=3;case 3:return[4,ee(i,e.marketplaceGalleryItemId)];case 4:return f=$.sent(),p=f.uiDefinition,_=f.overridden,(v=null===(B=null==e?void 0:e.alternateCreateFlowOptions)||void 0===B?void 0:B.useStackSelectionIfAvailable)?(m=ie,x=J,g=[i,e.marketplaceGalleryItemId],[4,c]):[3,6];case 5:v=m.apply(void 0,[x.apply(void 0,g.concat([$.sent()]))]),$.label=6;case 6:return v?[4,l()]:[3,8];case 7:if(b=$.sent())return S(a,"stackSelection",{telemetryId:D(b),extension:null===(z=null==b?void 0:b.bladeSelection)||void 0===z?void 0:z.extension,blade:null===(O=null==b?void 0:b.bladeSelection)||void 0===O?void 0:O.detailBlade}),[2,b];$.label=8;case 8:return function(e){if(!e)return!1;var t="schemas/",n=e.indexOf(t)+8,i=n+10,a=e.slice(n,i);return Date.parse(a)>=h}(p.$schema)?[3,10]:(y=o(),[4,l()]);case 9:if(I=$.sent())return S(a,"InvalidSchemaRPC",{telemetryId:D(I),extension:null===(L=null==I?void 0:I.bladeSelection)||void 0===L?void 0:L.extension,blade:null===(R=null==I?void 0:I.bladeSelection)||void 0===R?void 0:R.detailBlade,catalogTime:y}),[2,I];k({action:"FxCreateFlow",source:"Marketplace",actionModifier:"InvalidSchemaCatalog",data:{telemetryId:D(I),extension:null===(W=null===(G=null==p?void 0:p.createDefinition)||void 0===G?void 0:G.createBlade)||void 0===W?void 0:W.extension,blade:null===(H=null===(Q=null==p?void 0:p.createDefinition)||void 0===Q?void 0:Q.createBlade)||void 0===H?void 0:H.extension,catalogTime:y}}),$.label=10;case 10:return U=V,T=[e,i,p,_,e.marketplaceGalleryItemId],[4,c];case 11:return C=U.apply(void 0,T.concat([$.sent()])),S(a,"Catalog",{telemetryId:D(C),extension:null===(j=null==C?void 0:C.bladeSelection)||void 0===j?void 0:j.extension,blade:null===(K=null==C?void 0:C.bladeSelection)||void 0===K?void 0:K.detailBlade}),[2,C];case 12:return M=$.sent(),P.error(M),"alternateBladeSelection"in M&&!r?[2,__assign(__assign({},M),{bladeSelection:M.alternateBladeSelection})]:(S(a,"FailoverRPC"),[4,l()]);case 13:return[2,$.sent()];case 14:return[2]}}))}))}t.getStackSelectionFlag=function(){return(0,n.isFeatureEnabled)("fxcatalogstackselection")};var oe=(0,n.memoizePromise)((function(e){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,(0,i.ajax)({cache:!0,uri:e})];case 1:return[2,t.sent()]}}))}))}));function le(e){return!!e&&t.cspQuotaIds.some((function(t){return t===e.toLowerCase()}))}function se(e){var t=[];return(null==e?void 0:e.length)>0&&(t=t.concat(e.map((function(e){var t=e.subscriptionPolicies;return null==t?void 0:t.quotaId}))),t=(0,s.unique)(t.filter((function(e){return!!e})))),t}})),
define("FxInternal/CustomDeployment",["require","exports","Fx/Composition/Selectable"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomDeploymentBladeReference=function(e,t,i){var a={bladeSelection:{detailBlade:"DeployToAzure",detailBladeInputs:{internal_bladeCallId:MsPortalFx.getUniqueId(),internal_bladeCallerParams:{initialData:Object.create(null),providerConfig:MsPortalFx.extend2(i,{provisioningConfig:{provisioningEnabled:!0,dontDiscardJourney:!0,startboardProvisioningInfo:{provisioningPart:{name:"AzureResourceManagerProvisioningPart",extension:"HubsExtension"},startboardPart:{name:"ResourceGroupMapPinnedPart",extension:"HubsExtension"},startboardPartKeyId:"id"},galleryCreateOptions:{galleryItem:{id:"Microsoft.Template",itemDisplayName:"Template deployment (deploy using custom templates)",publisherDisplayName:"Microsoft",version:"2.0.2",categoryIds:{},products:[],productsWithNoPricing:[],specialArtifacts:[],metadata:{leadGeneration:null,testDrive:null,resourceProviderNamespace:{},resourceType:{},supportUrl:null},filters:[],isPrivateOffer:!1,mediumIconUri:"",isCSPEnabled:!0,galleryItemAccess:0},launchingContext:{telemetryId:e,source:[t],galleryItemId:"Microsoft.Template",createBlade:"DeployToAzure"},deploymentName:"Microsoft.Template",deploymentTemplateFileUris:{EmptyTemplate:MsPortalFx.Base.Resources.getVersionlessContentUri("/Content/ResourceTemplates/EmptyTemplate.json")},deploymentFragmentFileUris:{}}}})}},extension:"HubsExtension"},createVersion:1};return new n.PdlBladeReference(a.bladeSelection.detailBlade,a.bladeSelection.extension,{parameters:a.bladeSelection.detailBladeInputs})}})),
define("FxInternal/_generated/Less/WeaveControls/Accordion.Component.css",["module"],(function(e){"use strict";return{css:'.fxc-accordion{display:block;width:100%}.fxc-accordion-disabled{opacity:.5;cursor:default!important;pointer-events:none}.fxc-accordion-section{font-family:az_ea_font,"Segoe UI",az_font,system-ui,-apple-system,BlinkMacSystemFont,Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-weight:400;border-style:solid;border-width:0 0 1px;position:relative}.fxc-accordion-section:first-child{border-top-width:1px}.fxc-accordion-section .fxc-markdown{overflow:visible}.fxc-accordion-noborder>.fxc-accordion-section{border:0}.fxc-accordion-heading{margin:0}.fxc-accordion-header{cursor:pointer;font-size:14px;display:flex}.fxc-accordion-header-icon{box-sizing:border-box;height:36px;width:36px;padding:11px 12px;vertical-align:top;flex:0 0 auto}.fxc-accordion-header-icon svg{height:14px;width:12px;vertical-align:top}.fxc-accordion-header-text{line-height:20px;padding:7px 12px 7px 0;flex:1 1 auto;max-width:calc(100% - 36px);overflow:hidden;text-overflow:ellipsis}.fxc-accordion-loading-weave{position:relative;height:24px}.fxc-accordion-section-collapsed>.fxc-accordion-heading>.fxc-accordion-header>.fxc-accordion-header-icon{transition:transform .3s;transform:rotateZ(0deg)}.fxc-accordion-section-expanded>.fxc-accordion-heading>.fxc-accordion-header>.fxc-accordion-header-icon{transition:transform .3s;transform:rotateZ(-180deg)}.fxc-accordion-section-collapsed>.fxc-accordion-panel{max-height:0;padding:0 8px 0 36px;transform:rotateX(-90deg);display:none}.fxc-accordion-section-expanded>.fxc-accordion-panel{max-height:100%;padding:8px 8px 8px 36px;transition:transform .3s;transform-origin:0 0;position:relative}.fxs-mode-dark .fxc-accordion-header-icon svg{color:#a19f9d;fill:#a19f9d}.fxs-mode-dark .fxc-accordion-header-text,.fxs-mode-dark .fxc-accordion-panel{color:var(--colorControlBackgroundDisabledSelected)}body:not(.fxs-mode-highcontrast) .fxc-accordion-header-icon .msportalfx-fill{fill:revert}',moduleId:e.id}})),
define("FxInternal/WeaveControls/Accordion.Component.Internal",["require","exports","Weave/SandboxMode","FxInternal/_generated/Less/WeaveControls/Accordion.Component.css","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/Common"],(function(e,t,n,i,a,r,o){"use strict";function l(e){return e?0:-1}function s(e){return e||null}Object.defineProperty(t,"__esModule",{value:!0}),t.AccordionInner=function(e){var t=(0,a.ensureComputation)(e.sections);return n(a.GetContext,{fn:function(d){var u=(0,r.aggregateDisabled)([d.disabled,e.disabled]),f=new a.ElementRef;return n(a.SetContext,{disabled:u},n(a.Css,{css:i}),n("div",{visible:t.compose(r.isNonEmptyArray),className:[e.className,"fxc-accordion",{"fxc-accordion-disabled":u,"fxc-accordion-noborder":e.noFxPadding}],"aria-label":e.ariaLabel},n(a.ForEach,{collection:t,fn:function(e){var t=e.item,i=e.index,p=e.length,_="_accordion_section_".concat(c++),v="".concat(_,"_header"),m="".concat(_,"_panel"),h=(0,o.ensureInputBindingPair)(t.expanded,!1,t.onExpandChange,(function(e){return e.expand})),x=h.field,g=h.onFieldChange,b=x.compose(r.isTruthy),y=x.compose(r.negation);return n("div",{id:_,className:["fxs-portal-border fxc-accordion-section",{"fxc-accordion-section-expanded":b,"fxc-accordion-section-collapsed":y}]},n("h4",{className:"fxc-accordion-heading"},n("div",{role:"button",ref:f,className:"fxc-accordion-header fxs-portal-hover fxs-portal-focus",tabindex:"0",id:v,"aria-controls":m,"aria-expanded":b,"aria-disabled":u.compose(s),onClick:{handler:function(e){var t=e.ltm;(0,a.evaluate)(t,u)||g({ltm:t,expand:!(0,a.evaluate)(t,b)})},stopPropagation:!0,preventDefault:!0},onKeyDown:{handler:function(e){var t=e.ltm,n=e.keyCode;if(!(0,a.evaluate)(t,u))if(40===n||38===n){var r=(0,a.evaluate)(t,p),o=((0,a.evaluate)(t,i)+r+(40===n?1:-1))%r;f.focus(o)}else 13!==n&&32!==n||g({ltm:t,expand:!(0,a.evaluate)(t,b)})},stopPropagation:[40,38,32,13],preventDefault:[40,38,32,13]}},n("span",{className:"fxc-accordion-header-icon",image:MsPortalFx.Base.Images.CaretDown({customClass:"msportalfx-fill"})}),n(a.If,{condition:(0,a.ensureComputation)(t.title),trueFn:function(){return n("div",{className:"fxc-accordion-header-text msportalfx-tooltip-overflow"},t.title)}}))),n("div",{role:"region",className:"fxc-accordion-panel",id:m,"aria-labelledby":v,"aria-hidden":y.compose(s)},n(a.Once,{"data-odebug":"1",condition:(0,a.composeComputation)([b,d.noLazyRender||r.trueComputation],r.or),trueFn:function(){return n(a.SetContext,{tabIndex:b.compose(l)},t.content)}})))}})))}})};var c=0})),
define("FxInternal/Weave/Components/Accordion",["require","exports","Weave/SandboxMode","FxInternal/WeaveControls/Accordion.Component.Internal","FxInternal/WeaveControls/ComponentHandleCore"],(function(e,t,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=function(e){return(0,a.wrapInsideAggregationNode)(n("div",{visible:e.visible,className:["fxc-accordion-wrapper fxs-validationContainer",e.className]},(0,i.AccordionInner)(__assign(__assign({},e),{className:null}))),e.handle||(0,a.makeSimpleComponentHandle)(),e.visible)}})),
define("FxInternal/Weave/Components/PcControl",["require","exports","Weave/SandboxMode","Weave","FxInternal/Utils/ValidationHelper","Weave/Core/InternalUtil","FxInternal/WeaveControls/Common"],(function(e,t,n,i,a,r,o){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.PcControl=function(e){var t=e.container,l=e.vm,d=e.tagName||"div",u=l&&15!==l.controlType?e.className?["fxc-weave-pccontrol",e.className]:["fxc-weave-pccontrol"]:e.className,f=(0,r.WeaveTsx)(d,__assign(__assign({},e),{className:u,pcControl:l,container:void 0,tagName:void 0,vm:void 0}));if(!l)return n(i.GetContext,{fn:function(e){return s.error("".concat(l,' is passed as "vm" into PcControl component of "').concat(e.extensionName,"/").concat(e.partName,"\", it's very likely a code bug.")),f}});(0,o.isControlValidatable)(l)&&t&&(0,a.setOnTriggerValidationCallback)(l,(function(){t._internal_noLazyRender(!0)}));return n(i.GetContext,{fn:function(e){if(e.hostedInExtension){var t=15===l.controlType?"tabs"in l?"Fx/Controls/TabControl":"Fx/Controls/Section":c[l.controlType];t&&s.warning("".concat(e.extensionName,"/").concat(e.partName," is using ").concat(t,", which is not recommended in TemplateBlade2 for performance and maintainance reason, please check out this doc for replacement: https://aka.ms/portalfx/weave/controlmapping"))}return(0,o.patchFieldControlVM)(e,l),(0,o.tryWrapAggregationSourceForFieldControlVM)(l,f)}})};var s=new MsPortalFx.Base.Diagnostics.Log("FxInternal/Weave/Components/PcControl");var c=((l={})[23]="Fx/Controls/CustomHtml",l[207]="Fx/Controls/Splitter2",l[127]="Fx/Controls/Accordion",l)})),
//! zip.js
//! authors : Gildas Lormeau
//! license : BSD
//! http://gildas-lormeau.github.com/zip.js/
//!
//! Copyright (c) 2013 Gildas Lormeau. All rights reserved.
//!
//! Redistribution and use in source and binary forms, with or without
//! modification, are permitted provided that the following conditions are met:
//!
//! 1. Redistributions of source code must retain the above copyright notice,
//! this list of conditions and the following disclaimer.
//!
//! 2. Redistributions in binary form must reproduce the above copyright
//! notice, this list of conditions and the following disclaimer in
//! the documentation and/or other materials provided with the distribution.
//!
//! 3. The names of the authors may not be used to endorse or promote products
//! derived from this software without specific prior written permission.
//!
//! THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
//! INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
//! FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
//! INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
//! INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
//! LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
//! OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
//! LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
//! NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
//! EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
define("_oss/zip",["require"],(function(e){!function(e){"use strict";var t=15,n=256,i=573,a=256,r=-2,o=-5,l=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function s(){var e=this;function n(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.build_tree=function(a){var r,o,l,s=e.dyn_tree,c=e.stat_desc.static_tree,d=e.stat_desc.elems,u=-1;for(a.heap_len=0,a.heap_max=i,r=0;r<d;r++)0!==s[2*r]?(a.heap[++a.heap_len]=u=r,a.depth[r]=0):s[2*r+1]=0;for(;a.heap_len<2;)s[2*(l=a.heap[++a.heap_len]=u<2?++u:0)]=1,a.depth[l]=0,a.opt_len--,c&&(a.static_len-=c[2*l+1]);for(e.max_code=u,r=Math.floor(a.heap_len/2);r>=1;r--)a.pqdownheap(s,r);l=d;do{r=a.heap[1],a.heap[1]=a.heap[a.heap_len--],a.pqdownheap(s,1),o=a.heap[1],a.heap[--a.heap_max]=r,a.heap[--a.heap_max]=o,s[2*l]=s[2*r]+s[2*o],a.depth[l]=Math.max(a.depth[r],a.depth[o])+1,s[2*r+1]=s[2*o+1]=l,a.heap[1]=l++,a.pqdownheap(s,1)}while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],function(n){var a,r,o,l,s,c,d=e.dyn_tree,u=e.stat_desc.static_tree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,_=e.stat_desc.max_length,v=0;for(l=0;l<=t;l++)n.bl_count[l]=0;for(d[2*n.heap[n.heap_max]+1]=0,a=n.heap_max+1;a<i;a++)(l=d[2*d[2*(r=n.heap[a])+1]+1]+1)>_&&(l=_,v++),d[2*r+1]=l,r>e.max_code||(n.bl_count[l]++,s=0,r>=p&&(s=f[r-p]),c=d[2*r],n.opt_len+=c*(l+s),u&&(n.static_len+=c*(u[2*r+1]+s)));if(0!==v){do{for(l=_-1;0===n.bl_count[l];)l--;n.bl_count[l]--,n.bl_count[l+1]+=2,n.bl_count[_]--,v-=2}while(v>0);for(l=_;0!==l;l--)for(r=n.bl_count[l];0!==r;)(o=n.heap[--a])>e.max_code||(d[2*o+1]!=l&&(n.opt_len+=(l-d[2*o+1])*d[2*o],d[2*o+1]=l),r--)}}(a),function(e,i,a){var r,o,l,s=[],c=0;for(r=1;r<=t;r++)s[r]=c=c+a[r-1]<<1;for(o=0;o<=i;o++)0!==(l=e[2*o+1])&&(e[2*o]=n(s[l]++,l))}(s,e.max_code,a.bl_count)}}function c(e,t,n,i,a){var r=this;r.static_tree=e,r.extra_bits=t,r.extra_base=n,r.elems=i,r.max_length=a}s._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],s.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],s.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],s.d_code=function(e){return e<256?l[e]:l[256+(e>>>7)]},s.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],s.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],c.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],c.static_l_desc=new c(c.static_ltree,s.extra_lbits,257,286,t),c.static_d_desc=new c(c.static_dtree,s.extra_dbits,0,30,t),c.static_bl_desc=new c(null,s.extra_blbits,0,19,7);function d(e,t,n,i,a){var r=this;r.good_length=e,r.max_lazy=t,r.nice_length=n,r.max_chain=i,r.func=a}var u=[new d(0,0,0,0,0),new d(4,4,8,4,1),new d(4,5,16,8,1),new d(4,6,32,32,1),new d(4,4,16,16,2),new d(8,16,32,32,2),new d(8,16,128,128,2),new d(8,32,128,256,2),new d(32,128,258,1024,2),new d(32,258,258,4096,2)],f=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],p=113,_=666,v=258,m=262;function h(e,t,n,i){var a=e[2*t],r=e[2*n];return a<r||a==r&&i[t]<=i[n]}function x(){var e,t,i,l,d,x,g,b,y,w,I,k,C,S,P,U,A,F,D,T,M,N,E,B,z,O,L,R,G,W,Q,H,V,q,j,K,J,$,Y,Z,X,ee=this,te=new s,ne=new s,ie=new s;function ae(){var e;for(e=0;e<286;e++)Q[2*e]=0;for(e=0;e<30;e++)H[2*e]=0;for(e=0;e<19;e++)V[2*e]=0;Q[512]=1,ee.opt_len=ee.static_len=0,K=$=0}function re(e,t){var n,i,a=-1,r=e[1],o=0,l=7,s=4;for(0===r&&(l=138,s=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=r,r=e[2*(n+1)+1],++o<l&&i==r||(o<s?V[2*i]+=o:0!==i?(i!=a&&V[2*i]++,V[32]++):o<=10?V[34]++:V[36]++,o=0,a=i,0===r?(l=138,s=3):i==r?(l=6,s=3):(l=7,s=4))}function oe(e){ee.pending_buf[ee.pending++]=e}function le(e){oe(255&e),oe(e>>>8&255)}function se(e,t){var n,i=t;X>16-i?(le(Z|=(n=e)<<X&65535),Z=n>>>16-X,X+=i-16):(Z|=e<<X&65535,X+=i)}function ce(e,t){var n=2*e;se(65535&t[n],65535&t[n+1])}function de(e,t){var n,i,a=-1,r=e[1],o=0,l=7,s=4;for(0===r&&(l=138,s=3),n=0;n<=t;n++)if(i=r,r=e[2*(n+1)+1],!(++o<l&&i==r)){if(o<s)do{ce(i,V)}while(0!=--o);else 0!==i?(i!=a&&(ce(i,V),o--),ce(16,V),se(o-3,2)):o<=10?(ce(17,V),se(o-3,3)):(ce(18,V),se(o-11,7));o=0,a=i,0===r?(l=138,s=3):i==r?(l=6,s=3):(l=7,s=4)}}function ue(){16==X?(le(Z),Z=0,X=0):X>=8&&(oe(255&Z),Z>>>=8,X-=8)}function fe(e,t){var i,a,r;if(ee.pending_buf[J+2*K]=e>>>8&255,ee.pending_buf[J+2*K+1]=255&e,ee.pending_buf[q+K]=255&t,K++,0===e?Q[2*t]++:($++,e--,Q[2*(s._length_code[t]+n+1)]++,H[2*s.d_code(e)]++),!(8191&K)&&L>2){for(i=8*K,a=M-A,r=0;r<30;r++)i+=H[2*r]*(5+s.extra_dbits[r]);if(i>>>=3,$<Math.floor(K/2)&&i<Math.floor(a/2))return!0}return K==j-1}function pe(e,t){var i,r,o,l,c=0;if(0!==K)do{i=ee.pending_buf[J+2*c]<<8&65280|255&ee.pending_buf[J+2*c+1],r=255&ee.pending_buf[q+c],c++,0===i?ce(r,e):(ce((o=s._length_code[r])+n+1,e),0!==(l=s.extra_lbits[o])&&se(r-=s.base_length[o],l),i--,ce(o=s.d_code(i),t),0!==(l=s.extra_dbits[o])&&se(i-=s.base_dist[o],l))}while(c<K);ce(a,e),Y=e[513]}function _e(){X>8?le(Z):X>0&&oe(255&Z),Z=0,X=0}function ve(e,t,n){se(0+(n?1:0),3),function(e,t,n){_e(),Y=8,n&&(le(t),le(~t)),ee.pending_buf.set(b.subarray(e,e+t),ee.pending),ee.pending+=t}(e,t,!0)}function me(e,t,n){var i,a,r=0;L>0?(te.build_tree(ee),ne.build_tree(ee),r=function(){var e;for(re(Q,te.max_code),re(H,ne.max_code),ie.build_tree(ee),e=18;e>=3&&0===V[2*s.bl_order[e]+1];e--);return ee.opt_len+=3*(e+1)+5+5+4,e}(),i=ee.opt_len+3+7>>>3,(a=ee.static_len+3+7>>>3)<=i&&(i=a)):i=a=t+5,t+4<=i&&-1!=e?ve(e,t,n):a==i?(se(2+(n?1:0),3),pe(c.static_ltree,c.static_dtree)):(se(4+(n?1:0),3),function(e,t,n){var i;for(se(e-257,5),se(t-1,5),se(n-4,4),i=0;i<n;i++)se(V[2*s.bl_order[i]+1],3);de(Q,e-1),de(H,t-1)}(te.max_code+1,ne.max_code+1,r+1),pe(Q,H)),ae(),n&&_e()}function he(t){me(A>=0?A:-1,M-A,t),A=M,e.flush_pending()}function xe(){var t,n,i,a;do{if(0===(a=y-E-M)&&0===M&&0===E)a=d;else if(-1==a)a--;else if(M>=d+d-m){b.set(b.subarray(d,d+d),0),N-=d,M-=d,A-=d,i=t=C;do{n=65535&I[--i],I[i]=n>=d?n-d:0}while(0!=--t);i=t=d;do{n=65535&w[--i],w[i]=n>=d?n-d:0}while(0!=--t);a+=d}if(0===e.avail_in)return;t=e.read_buf(b,M+E,a),(E+=t)>=3&&(k=((k=255&b[M])<<U^255&b[M+1])&P)}while(E<m&&0!==e.avail_in)}function ge(e){var t,n,i=z,a=M,r=B,o=M>d-m?M-(d-m):0,l=W,s=g,c=M+v,u=b[a+r-1],f=b[a+r];B>=G&&(i>>=2),l>E&&(l=E);do{if(b[(t=e)+r]==f&&b[t+r-1]==u&&b[t]==b[a]&&b[++t]==b[a+1]){a+=2,t++;do{}while(b[++a]==b[++t]&&b[++a]==b[++t]&&b[++a]==b[++t]&&b[++a]==b[++t]&&b[++a]==b[++t]&&b[++a]==b[++t]&&b[++a]==b[++t]&&b[++a]==b[++t]&&a<c);if(n=v-(c-a),a=c-v,n>r){if(N=e,r=n,n>=l)break;u=b[a+r-1],f=b[a+r]}}}while((e=65535&w[e&s])>o&&0!=--i);return r<=E?r:E}function be(e){return e.total_in=e.total_out=0,e.msg=null,ee.pending=0,ee.pending_out=0,t=p,l=0,te.dyn_tree=Q,te.stat_desc=c.static_l_desc,ne.dyn_tree=H,ne.stat_desc=c.static_d_desc,ie.dyn_tree=V,ie.stat_desc=c.static_bl_desc,Z=0,X=0,Y=8,ae(),function(){var e;for(y=2*d,I[C-1]=0,e=0;e<C-1;e++)I[e]=0;O=u[L].max_lazy,G=u[L].good_length,W=u[L].nice_length,z=u[L].max_chain,M=0,A=0,E=0,F=B=2,T=0,k=0}(),0}ee.depth=[],ee.bl_count=[],ee.heap=[],Q=[],H=[],V=[],ee.pqdownheap=function(e,t){for(var n=ee.heap,i=n[t],a=t<<1;a<=ee.heap_len&&(a<ee.heap_len&&h(e,n[a+1],n[a],ee.depth)&&a++,!h(e,i,n[a],ee.depth));)n[t]=n[a],t=a,a<<=1;n[t]=i},ee.deflateInit=function(e,t,n,a,o,l){return a||(a=8),o||(o=8),l||(l=0),e.msg=null,-1==t&&(t=6),o<1||o>9||8!=a||n<9||n>15||t<0||t>9||l<0||l>2?r:(e.dstate=ee,g=(d=1<<(x=n))-1,P=(C=1<<(S=o+7))-1,U=Math.floor((S+3-1)/3),b=new Uint8Array(2*d),w=[],I=[],j=1<<o+6,ee.pending_buf=new Uint8Array(4*j),i=4*j,J=Math.floor(j/2),q=3*j,L=t,R=l,be(e))},ee.deflateEnd=function(){return 42!=t&&t!=p&&t!=_?r:(ee.pending_buf=null,I=null,w=null,b=null,ee.dstate=null,t==p?-3:0)},ee.deflateParams=function(e,t,n){var i=0;return-1==t&&(t=6),t<0||t>9||n<0||n>2?r:(u[L].func!=u[t].func&&0!==e.total_in&&(i=e.deflate(1)),L!=t&&(O=u[L=t].max_lazy,G=u[L].good_length,W=u[L].nice_length,z=u[L].max_chain),R=n,i)},ee.deflateSetDictionary=function(e,n,i){var a,o=i,l=0;if(!n||42!=t)return r;if(o<3)return 0;for(o>d-m&&(l=i-(o=d-m)),b.set(n.subarray(l,l+o),0),M=o,A=o,k=((k=255&b[0])<<U^255&b[1])&P,a=0;a<=o-3;a++)k=(k<<U^255&b[a+2])&P,w[a&g]=I[k],I[k]=a;return 0},ee.deflate=function(n,s){var v,h,y,S,z,G;if(s>4||s<0)return r;if(!n.next_out||!n.next_in&&0!==n.avail_in||t==_&&4!=s)return n.msg=f[4],r;if(0===n.avail_out)return n.msg=f[7],o;if(e=n,S=l,l=s,42==t&&(h=8+(x-8<<4)<<8,(y=(L-1&255)>>1)>3&&(y=3),h|=y<<6,0!==M&&(h|=32),t=p,oe((G=h+=31-h%31)>>8&255),oe(255&G)),0!==ee.pending){if(e.flush_pending(),0===e.avail_out)return l=-1,0}else if(0===e.avail_in&&s<=S&&4!=s)return e.msg=f[7],o;if(t==_&&0!==e.avail_in)return n.msg=f[7],o;if(0!==e.avail_in||0!==E||0!=s&&t!=_){switch(z=-1,u[L].func){case 0:z=function(t){var n,a=65535;for(a>i-5&&(a=i-5);;){if(E<=1){if(xe(),0===E&&0==t)return 0;if(0===E)break}if(M+=E,E=0,n=A+a,(0===M||M>=n)&&(E=M-n,M=n,he(!1),0===e.avail_out))return 0;if(M-A>=d-m&&(he(!1),0===e.avail_out))return 0}return he(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(s);break;case 1:z=function(t){for(var n,i=0;;){if(E<m){if(xe(),E<m&&0==t)return 0;if(0===E)break}if(E>=3&&(k=(k<<U^255&b[M+2])&P,i=65535&I[k],w[M&g]=I[k],I[k]=M),0!==i&&(M-i&65535)<=d-m&&2!=R&&(F=ge(i)),F>=3)if(n=fe(M-N,F-3),E-=F,F<=O&&E>=3){F--;do{M++,k=(k<<U^255&b[M+2])&P,i=65535&I[k],w[M&g]=I[k],I[k]=M}while(0!=--F);M++}else M+=F,F=0,k=((k=255&b[M])<<U^255&b[M+1])&P;else n=fe(0,255&b[M]),E--,M++;if(n&&(he(!1),0===e.avail_out))return 0}return he(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(s);break;case 2:z=function(t){for(var n,i,a=0;;){if(E<m){if(xe(),E<m&&0==t)return 0;if(0===E)break}if(E>=3&&(k=(k<<U^255&b[M+2])&P,a=65535&I[k],w[M&g]=I[k],I[k]=M),B=F,D=N,F=2,0!==a&&B<O&&(M-a&65535)<=d-m&&(2!=R&&(F=ge(a)),F<=5&&(1==R||3==F&&M-N>4096)&&(F=2)),B>=3&&F<=B){i=M+E-3,n=fe(M-1-D,B-3),E-=B-1,B-=2;do{++M<=i&&(k=(k<<U^255&b[M+2])&P,a=65535&I[k],w[M&g]=I[k],I[k]=M)}while(0!=--B);if(T=0,F=2,M++,n&&(he(!1),0===e.avail_out))return 0}else if(0!==T){if((n=fe(0,255&b[M-1]))&&he(!1),M++,E--,0===e.avail_out)return 0}else T=1,M++,E--}return 0!==T&&(n=fe(0,255&b[M-1]),T=0),he(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(s)}if(2!=z&&3!=z||(t=_),0==z||2==z)return 0===e.avail_out&&(l=-1),0;if(1==z){if(1==s)se(2,3),ce(a,c.static_ltree),ue(),1+Y+10-X<9&&(se(2,3),ce(a,c.static_ltree),ue()),Y=7;else if(ve(0,0,!1),3==s)for(v=0;v<C;v++)I[v]=0;if(e.flush_pending(),0===e.avail_out)return l=-1,0}}return 4!=s?0:1}}function g(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}g.prototype={deflateInit:function(e,n){var i=this;return i.dstate=new x,n||(n=t),i.dstate.deflateInit(i,e,n)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):r},deflateEnd:function(){var e=this;if(!e.dstate)return r;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var n=this;return n.dstate?n.dstate.deflateParams(n,e,t):r},deflateSetDictionary:function(e,t){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):r},read_buf:function(e,t,n){var i=this,a=i.avail_in;return a>n&&(a=n),0===a?0:(i.avail_in-=a,e.set(i.next_in.subarray(i.next_in_index,i.next_in_index+a),t),i.next_in_index+=a,i.total_in+=a,a)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};var b=e.zip||e;b.Deflater=b._jzlib_Deflater=function(e){var t=new g,n=512,i=new Uint8Array(n),a=e?e.level:-1;void 0===a&&(a=-1),t.deflateInit(a),t.next_out=i,this.append=function(e,a){var r,o=[],l=0,s=0,c=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=n,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==n?o.push(new Uint8Array(i)):o.push(new Uint8Array(i.subarray(0,t.next_out_index)))),c+=t.next_out_index,a&&t.next_in_index>0&&t.next_in_index!=l&&(a(t.next_in_index),l=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return r=new Uint8Array(c),o.forEach((function(e){r.set(e,s),s+=e.length})),r}},this.flush=function(){var e,a,r=[],o=0,l=0;do{if(t.next_out_index=0,t.avail_out=n,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);n-t.avail_out>0&&r.push(new Uint8Array(i.subarray(0,t.next_out_index))),l+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),a=new Uint8Array(l),r.forEach((function(e){a.set(e,o),o+=e.length})),a}}}(this),function(e){"use strict";var t=0,n=1,i=-2,a=-3,r=-4,o=-5,l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],s=1440,c=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],d=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=15;function m(){var e,n,i,l,c,d;function m(e,n,r,u,f,p,_,m,h,x,g){var b,y,w,I,k,C,S,P,U,A,F,D,T,M,N;A=0,k=r;do{i[e[n+A]]++,A++,k--}while(0!==k);if(i[0]==r)return _[0]=-1,m[0]=0,t;for(P=m[0],C=1;C<=v&&0===i[C];C++);for(S=C,P<C&&(P=C),k=v;0!==k&&0===i[k];k--);for(w=k,P>k&&(P=k),m[0]=P,M=1<<C;C<k;C++,M<<=1)if((M-=i[C])<0)return a;if((M-=i[k])<0)return a;for(i[k]+=M,d[1]=C=0,A=1,T=2;0!=--k;)d[T]=C+=i[A],T++,A++;k=0,A=0;do{0!==(C=e[n+A])&&(g[d[C]++]=k),A++}while(++k<r);for(r=d[w],d[0]=k=0,A=0,I=-1,D=-P,c[0]=0,F=0,N=0;S<=w;S++)for(b=i[S];0!=b--;){for(;S>D+P;){if(I++,N=(N=w-(D+=P))>P?P:N,(y=1<<(C=S-D))>b+1&&(y-=b+1,T=S,C<N))for(;++C<N&&!((y<<=1)<=i[++T]);)y-=i[T];if(N=1<<C,x[0]+N>s)return a;c[I]=F=x[0],x[0]+=N,0!==I?(d[I]=k,l[0]=C,l[1]=P,C=k>>>D-P,l[2]=F-c[I-1]-C,h.set(l,3*(c[I-1]+C))):_[0]=F}for(l[1]=S-D,A>=r?l[0]=192:g[A]<u?(l[0]=g[A]<256?0:96,l[2]=g[A++]):(l[0]=p[g[A]-u]+16+64,l[2]=f[g[A++]-u]),y=1<<S-D,C=k>>>D;C<N;C+=y)h.set(l,3*(F+C));for(C=1<<S-1;k&C;C>>>=1)k^=C;for(k^=C,U=(1<<D)-1;(k&U)!=d[I];)I--,U=(1<<(D-=P))-1}return 0!==M&&1!=w?o:t}function h(t){var a;for(e||(e=[],n=[],i=new Int32Array(v+1),l=[],c=new Int32Array(v),d=new Int32Array(v+1)),n.length<t&&(n=[]),a=0;a<t;a++)n[a]=0;for(a=0;a<v+1;a++)i[a]=0;for(a=0;a<3;a++)l[a]=0;c.set(i.subarray(0,v),0),d.set(i.subarray(0,v+1),0)}this.inflate_trees_bits=function(t,i,r,l,s){var c;return h(19),e[0]=0,(c=m(t,0,19,19,null,null,r,i,l,e,n))==a?s.msg="oversubscribed dynamic bit lengths tree":c!=o&&0!==i[0]||(s.msg="incomplete dynamic bit lengths tree",c=a),c},this.inflate_trees_dynamic=function(i,l,s,c,d,v,x,g,b){var y;return h(288),e[0]=0,(y=m(s,0,i,257,u,f,v,c,g,e,n))!=t||0===c[0]?(y==a?b.msg="oversubscribed literal/length tree":y!=r&&(b.msg="incomplete literal/length tree",y=a),y):(h(288),(y=m(s,i,l,0,p,_,x,d,g,e,n))!=t||0===d[0]&&i>257?(y==a?b.msg="oversubscribed distance tree":y==o?(b.msg="incomplete distance tree",y=a):y!=r&&(b.msg="empty distance tree with lengths",y=a),y):t)}}m.inflate_trees_fixed=function(e,n,i,a){return e[0]=9,n[0]=5,i[0]=c,a[0]=d,t};var h=0,x=1,g=2,b=3,y=4,w=5,I=6,k=7,C=8,S=9;function P(){var e,r,o,s,c=this,d=0,u=0,f=0,p=0,_=0,v=0,m=0,P=0,U=0,A=0;function F(e,i,r,o,s,c,d,u){var f,p,_,v,m,h,x,g,b,y,w,I,k,C,S,P;x=u.next_in_index,g=u.avail_in,m=d.bitb,h=d.bitk,y=(b=d.write)<d.read?d.read-b-1:d.end-b,w=l[e],I=l[i];do{for(;h<20;)g--,m|=(255&u.read_byte(x++))<<h,h+=8;if(0!==(v=(p=r)[P=3*((_=o)+(f=m&w))]))for(;;){if(m>>=p[P+1],h-=p[P+1],16&v){for(v&=15,k=p[P+2]+(m&l[v]),m>>=v,h-=v;h<15;)g--,m|=(255&u.read_byte(x++))<<h,h+=8;for(v=(p=s)[P=3*((_=c)+(f=m&I))];;){if(m>>=p[P+1],h-=p[P+1],16&v){for(v&=15;h<v;)g--,m|=(255&u.read_byte(x++))<<h,h+=8;if(C=p[P+2]+(m&l[v]),m>>=v,h-=v,y-=k,b>=C)b-(S=b-C)>0&&2>b-S?(d.window[b++]=d.window[S++],d.window[b++]=d.window[S++],k-=2):(d.window.set(d.window.subarray(S,S+2),b),b+=2,S+=2,k-=2);else{S=b-C;do{S+=d.end}while(S<0);if(k>(v=d.end-S)){if(k-=v,b-S>0&&v>b-S)do{d.window[b++]=d.window[S++]}while(0!=--v);else d.window.set(d.window.subarray(S,S+v),b),b+=v,S+=v,v=0;S=0}}if(b-S>0&&k>b-S)do{d.window[b++]=d.window[S++]}while(0!=--k);else d.window.set(d.window.subarray(S,S+k),b),b+=k,S+=k,k=0;break}if(64&v)return u.msg="invalid distance code",g+=k=h>>3<(k=u.avail_in-g)?h>>3:k,x-=k,h-=k<<3,d.bitb=m,d.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,d.write=b,a;f+=p[P+2],v=p[P=3*(_+(f+=m&l[v]))]}break}if(64&v)return 32&v?(g+=k=h>>3<(k=u.avail_in-g)?h>>3:k,x-=k,h-=k<<3,d.bitb=m,d.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,d.write=b,n):(u.msg="invalid literal/length code",g+=k=h>>3<(k=u.avail_in-g)?h>>3:k,x-=k,h-=k<<3,d.bitb=m,d.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,d.write=b,a);if(f+=p[P+2],0===(v=p[P=3*(_+(f+=m&l[v]))])){m>>=p[P+1],h-=p[P+1],d.window[b++]=p[P+2],y--;break}}else m>>=p[P+1],h-=p[P+1],d.window[b++]=p[P+2],y--}while(y>=258&&g>=10);return g+=k=h>>3<(k=u.avail_in-g)?h>>3:k,x-=k,h-=k<<3,d.bitb=m,d.bitk=h,u.avail_in=g,u.total_in+=x-u.next_in_index,u.next_in_index=x,d.write=b,t}c.init=function(t,n,i,a,l,c){e=h,m=t,P=n,o=i,U=a,s=l,A=c,r=null},c.proc=function(c,D,T){var M,N,E,B,z,O,L,R=0,G=0,W=0;for(W=D.next_in_index,B=D.avail_in,R=c.bitb,G=c.bitk,O=(z=c.write)<c.read?c.read-z-1:c.end-z;;)switch(e){case h:if(O>=258&&B>=10&&(c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,T=F(m,P,o,U,s,A,c,D),W=D.next_in_index,B=D.avail_in,R=c.bitb,G=c.bitk,O=(z=c.write)<c.read?c.read-z-1:c.end-z,T!=t)){e=T==n?k:S;break}f=m,r=o,u=U,e=x;case x:for(M=f;G<M;){if(0===B)return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);T=t,B--,R|=(255&D.read_byte(W++))<<G,G+=8}if(N=3*(u+(R&l[M])),R>>>=r[N+1],G-=r[N+1],0===(E=r[N])){p=r[N+2],e=I;break}if(16&E){_=15&E,d=r[N+2],e=g;break}if(!(64&E)){f=E,u=N/3+r[N+2];break}if(32&E){e=k;break}return e=S,D.msg="invalid literal/length code",T=a,c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);case g:for(M=_;G<M;){if(0===B)return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);T=t,B--,R|=(255&D.read_byte(W++))<<G,G+=8}d+=R&l[M],R>>=M,G-=M,f=P,r=s,u=A,e=b;case b:for(M=f;G<M;){if(0===B)return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);T=t,B--,R|=(255&D.read_byte(W++))<<G,G+=8}if(N=3*(u+(R&l[M])),R>>=r[N+1],G-=r[N+1],16&(E=r[N])){_=15&E,v=r[N+2],e=y;break}if(!(64&E)){f=E,u=N/3+r[N+2];break}return e=S,D.msg="invalid distance code",T=a,c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);case y:for(M=_;G<M;){if(0===B)return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);T=t,B--,R|=(255&D.read_byte(W++))<<G,G+=8}v+=R&l[M],R>>=M,G-=M,e=w;case w:for(L=z-v;L<0;)L+=c.end;for(;0!==d;){if(0===O&&(z==c.end&&0!==c.read&&(O=(z=0)<c.read?c.read-z-1:c.end-z),0===O&&(c.write=z,T=c.inflate_flush(D,T),O=(z=c.write)<c.read?c.read-z-1:c.end-z,z==c.end&&0!==c.read&&(O=(z=0)<c.read?c.read-z-1:c.end-z),0===O)))return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);c.window[z++]=c.window[L++],O--,L==c.end&&(L=0),d--}e=h;break;case I:if(0===O&&(z==c.end&&0!==c.read&&(O=(z=0)<c.read?c.read-z-1:c.end-z),0===O&&(c.write=z,T=c.inflate_flush(D,T),O=(z=c.write)<c.read?c.read-z-1:c.end-z,z==c.end&&0!==c.read&&(O=(z=0)<c.read?c.read-z-1:c.end-z),0===O)))return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);T=t,c.window[z++]=p,O--,e=h;break;case k:if(G>7&&(G-=8,B++,W--),c.write=z,T=c.inflate_flush(D,T),O=(z=c.write)<c.read?c.read-z-1:c.end-z,c.read!=c.write)return c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);e=C;case C:return T=n,c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);case S:return T=a,c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T);default:return T=i,c.bitb=R,c.bitk=G,D.avail_in=B,D.total_in+=W-D.next_in_index,D.next_in_index=W,c.write=z,c.inflate_flush(D,T)}},c.free=function(){}}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=0,F=1,D=2,T=3,M=4,N=5,E=6,B=7,z=8,O=9;function L(e,r){var c,d=this,u=A,f=0,p=0,_=0,v=[0],h=[0],x=new P,g=0,b=new Int32Array(3*s),y=new m;d.bitk=0,d.bitb=0,d.window=new Uint8Array(r),d.end=r,d.read=0,d.write=0,d.reset=function(e,t){t&&(t[0]=0),u==E&&x.free(e),u=A,d.bitk=0,d.bitb=0,d.read=d.write=0},d.reset(e,null),d.inflate_flush=function(e,n){var i,a,r;return a=e.next_out_index,(i=((r=d.read)<=d.write?d.write:d.end)-r)>e.avail_out&&(i=e.avail_out),0!==i&&n==o&&(n=t),e.avail_out-=i,e.total_out+=i,e.next_out.set(d.window.subarray(r,r+i),a),a+=i,(r+=i)==d.end&&(r=0,d.write==d.end&&(d.write=0),(i=d.write-r)>e.avail_out&&(i=e.avail_out),0!==i&&n==o&&(n=t),e.avail_out-=i,e.total_out+=i,e.next_out.set(d.window.subarray(r,r+i),a),a+=i,r+=i),e.next_out_index=a,d.read=r,n},d.proc=function(e,r){var o,s,w,I,k,C,S,P;for(I=e.next_in_index,k=e.avail_in,s=d.bitb,w=d.bitk,S=(C=d.write)<d.read?d.read-C-1:d.end-C;;)switch(u){case A:for(;w<3;){if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);r=t,k--,s|=(255&e.read_byte(I++))<<w,w+=8}switch(g=1&(o=7&s),o>>>1){case 0:s>>>=3,s>>>=o=7&(w-=3),w-=o,u=F;break;case 1:var L=[],R=[],G=[[]],W=[[]];m.inflate_trees_fixed(L,R,G,W),x.init(L[0],R[0],G[0],0,W[0],0),s>>>=3,w-=3,u=E;break;case 2:s>>>=3,w-=3,u=T;break;case 3:return s>>>=3,w-=3,u=O,e.msg="invalid block type",r=a,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r)}break;case F:for(;w<32;){if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);r=t,k--,s|=(255&e.read_byte(I++))<<w,w+=8}if((~s>>>16&65535)!=(65535&s))return u=O,e.msg="invalid stored block lengths",r=a,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);f=65535&s,s=w=0,u=0!==f?D:0!==g?B:A;break;case D:if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);if(0===S&&(C==d.end&&0!==d.read&&(S=(C=0)<d.read?d.read-C-1:d.end-C),0===S&&(d.write=C,r=d.inflate_flush(e,r),S=(C=d.write)<d.read?d.read-C-1:d.end-C,C==d.end&&0!==d.read&&(S=(C=0)<d.read?d.read-C-1:d.end-C),0===S)))return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);if(r=t,(o=f)>k&&(o=k),o>S&&(o=S),d.window.set(e.read_buf(I,o),C),I+=o,k-=o,C+=o,S-=o,0!=(f-=o))break;u=0!==g?B:A;break;case T:for(;w<14;){if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);r=t,k--,s|=(255&e.read_byte(I++))<<w,w+=8}if(p=o=16383&s,(31&o)>29||(o>>5&31)>29)return u=O,e.msg="too many length or distance symbols",r=a,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);if(o=258+(31&o)+(o>>5&31),!c||c.length<o)c=[];else for(P=0;P<o;P++)c[P]=0;s>>>=14,w-=14,_=0,u=M;case M:for(;_<4+(p>>>10);){for(;w<3;){if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);r=t,k--,s|=(255&e.read_byte(I++))<<w,w+=8}c[U[_++]]=7&s,s>>>=3,w-=3}for(;_<19;)c[U[_++]]=0;if(v[0]=7,(o=y.inflate_trees_bits(c,v,h,b,e))!=t)return(r=o)==a&&(c=null,u=O),d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);_=0,u=N;case N:for(;!(_>=258+(31&(o=p))+(o>>5&31));){var Q,H;for(o=v[0];w<o;){if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);r=t,k--,s|=(255&e.read_byte(I++))<<w,w+=8}if(o=b[3*(h[0]+(s&l[o]))+1],(H=b[3*(h[0]+(s&l[o]))+2])<16)s>>>=o,w-=o,c[_++]=H;else{for(P=18==H?7:H-14,Q=18==H?11:3;w<o+P;){if(0===k)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);r=t,k--,s|=(255&e.read_byte(I++))<<w,w+=8}if(w-=o,Q+=(s>>>=o)&l[P],s>>>=P,w-=P,(P=_)+Q>258+(31&(o=p))+(o>>5&31)||16==H&&P<1)return c=null,u=O,e.msg="invalid bit length repeat",r=a,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);H=16==H?c[P-1]:0;do{c[P++]=H}while(0!=--Q);_=P}}h[0]=-1;var V=[],q=[],j=[],K=[];if(V[0]=9,q[0]=6,o=p,(o=y.inflate_trees_dynamic(257+(31&o),1+(o>>5&31),c,V,q,j,K,b,e))!=t)return o==a&&(c=null,u=O),r=o,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);x.init(V[0],q[0],b,j[0],b,K[0]),u=E;case E:if(d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,(r=x.proc(d,e,r))!=n)return d.inflate_flush(e,r);if(r=t,x.free(e),I=e.next_in_index,k=e.avail_in,s=d.bitb,w=d.bitk,S=(C=d.write)<d.read?d.read-C-1:d.end-C,0===g){u=A;break}u=B;case B:if(d.write=C,r=d.inflate_flush(e,r),S=(C=d.write)<d.read?d.read-C-1:d.end-C,d.read!=d.write)return d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);u=z;case z:return r=n,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);case O:return r=a,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r);default:return r=i,d.bitb=s,d.bitk=w,e.avail_in=k,e.total_in+=I-e.next_in_index,e.next_in_index=I,d.write=C,d.inflate_flush(e,r)}},d.free=function(e){d.reset(e,null),d.window=null,b=null},d.set_dictionary=function(e,t,n){d.window.set(e.subarray(t,t+n),0),d.read=d.write=n},d.sync_point=function(){return u==F?1:0}}var R=13,G=[0,0,255,255];function W(){var e=this;function r(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),t):i}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(n){return e.blocks&&e.blocks.free(n),e.blocks=null,t},e.inflateInit=function(n,a){return n.msg=null,e.blocks=null,a<8||a>15?(e.inflateEnd(n),i):(e.wbits=a,n.istate.blocks=new L(n,1<<a),r(n),t)},e.inflate=function(e,r){var l,s;if(!e||!e.istate||!e.next_in)return i;for(r=4==r?o:t,l=o;;)switch(e.istate.mode){case 0:if(0===e.avail_in)return l;if(l=r,e.avail_in--,e.total_in++,8!=(15&(e.istate.method=e.read_byte(e.next_in_index++)))){e.istate.mode=R,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=R,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=1;case 1:if(0===e.avail_in)return l;if(l=r,e.avail_in--,e.total_in++,s=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+s)%31!=0){e.istate.mode=R,e.msg="incorrect header check",e.istate.marker=5;break}if(!(32&s)){e.istate.mode=7;break}e.istate.mode=2;case 2:if(0===e.avail_in)return l;l=r,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=3;case 3:if(0===e.avail_in)return l;l=r,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=4;case 4:if(0===e.avail_in)return l;l=r,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=5;case 5:return 0===e.avail_in?l:(l=r,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=6,2);case 6:return e.istate.mode=R,e.msg="need dictionary",e.istate.marker=0,i;case 7:if((l=e.istate.blocks.proc(e,l))==a){e.istate.mode=R,e.istate.marker=0;break}if(l==t&&(l=r),l!=n)return l;l=r,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=12;case 12:return n;case R:return a;default:return i}},e.inflateSetDictionary=function(e,n,a){var r=0,o=a;return e&&e.istate&&6==e.istate.mode?(o>=1<<e.istate.wbits&&(r=a-(o=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(n,r,o),e.istate.mode=7,t):i},e.inflateSync=function(e){var n,l,s,c,d;if(!e||!e.istate)return i;if(e.istate.mode!=R&&(e.istate.mode=R,e.istate.marker=0),0===(n=e.avail_in))return o;for(l=e.next_in_index,s=e.istate.marker;0!==n&&s<4;)e.read_byte(l)==G[s]?s++:s=0!==e.read_byte(l)?0:4-s,l++,n--;return e.total_in+=l-e.next_in_index,e.next_in_index=l,e.avail_in=n,e.istate.marker=s,4!=s?a:(c=e.total_in,d=e.total_out,r(e),e.total_in=c,e.total_out=d,e.istate.mode=7,t)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():i}}function Q(){}Q.prototype={inflateInit:function(e){var t=this;return t.istate=new W,e||(e=15),t.istate.inflateInit(t,e)},inflate:function(e){var t=this;return t.istate?t.istate.inflate(t,e):i},inflateEnd:function(){var e=this;if(!e.istate)return i;var t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){var e=this;return e.istate?e.istate.inflateSync(e):i},inflateSetDictionary:function(e,t){var n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):i},read_byte:function(e){return this.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}};var H=e.zip||e;H.Inflater=H._jzlib_Inflater=function(){var e=new Q,i=new Uint8Array(512),a=!1;e.inflateInit(),e.next_out=i,this.append=function(r,l){var s,c,d=[],u=0,f=0,p=0;if(0!==r.length){e.next_in_index=0,e.next_in=r,e.avail_in=r.length;do{if(e.next_out_index=0,e.avail_out=512,0!==e.avail_in||a||(e.next_in_index=0,a=!0),s=e.inflate(0),a&&s===o){if(0!==e.avail_in)throw new Error("inflating: bad input")}else if(s!==t&&s!==n)throw new Error("inflating: "+e.msg);if((a||s===n)&&e.avail_in===r.length)throw new Error("inflating: bad input");e.next_out_index&&(512===e.next_out_index?d.push(new Uint8Array(i)):d.push(new Uint8Array(i.subarray(0,e.next_out_index)))),p+=e.next_out_index,l&&e.next_in_index>0&&e.next_in_index!=u&&(l(e.next_in_index),u=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return c=new Uint8Array(p),d.forEach((function(e){c.set(e,f),f+=e.length})),c}},this.flush=function(){e.inflateEnd()}}}(this);var t=new Object;return function(e){"use strict";var n,i="File format is not recognized.",a="CRC failed.",r="File contains encrypted entry.",o="Error while reading zip file.",l="Error while writing file data.",s="Error while reading file data.",c=524288,d="text/plain";try{n=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}function u(){this.crc=-1}function f(){}function p(e,t){var n,i;return n=new ArrayBuffer(e),i=new Uint8Array(n),t&&i.set(t,0),{buffer:n,array:i,view:new DataView(n)}}function _(){}function v(e){var t,n=this;n.size=0,n.init=function(i,a){var r=new Blob([e],{type:d});(t=new h(r)).init((function(){n.size=t.size,i()}),a)},n.readUint8Array=function(e,n,i,a){t.readUint8Array(e,n,i,a)}}function m(t){var n,i=this;i.size=0,i.init=function(e){for(var a=t.length;"="==t.charAt(a-1);)a--;n=t.indexOf(",")+1,i.size=Math.floor(.75*(a-n)),e()},i.readUint8Array=function(i,a,r){var o,l=p(a),s=4*Math.floor(i/3),c=4*Math.ceil((i+a)/3),d=e.atob(t.substring(s+n,c+n)),u=i-3*Math.floor(s/4);for(o=u;o<u+a;o++)l.array[o-u]=d.charCodeAt(o);r(l.array)}}function h(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,i,a){var r=new FileReader;r.onload=function(e){i(new Uint8Array(e.target.result))},r.onerror=a;try{r.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(e){a(e)}}}function x(){}function g(e){var t,i=this;i.init=function(e){t=new Blob([],{type:d}),e()},i.writeUint8Array=function(e,i){t=new Blob([t,n?e:e.buffer],{type:d}),i()},i.getData=function(n,i){var a=new FileReader;a.onload=function(e){n(e.target.result)},a.onerror=i,a.readAsText(t,e)}}function b(t){var n=this,i="",a="";n.init=function(e){i+="data:"+(t||"")+";base64,",e()},n.writeUint8Array=function(t,n){var r,o=a.length,l=a;for(a="",r=0;r<3*Math.floor((o+t.length)/3)-o;r++)l+=String.fromCharCode(t[r]);for(;r<t.length;r++)a+=String.fromCharCode(t[r]);l.length>2?i+=e.btoa(l):a=l,n()},n.getData=function(t){t(i+e.btoa(a))}}function y(e){var t,i=this;i.init=function(n){t=new Blob([],{type:e}),n()},i.writeUint8Array=function(i,a){t=new Blob([t,n?i:i.buffer],{type:e}),a()},i.getData=function(e){e(t)}}function w(){var e,t=this;t.init=function(t,n){e=new Uint8Array,t()},t.writeUint8Array=function(t,n,i){var a=new Uint8Array(e.length+t.length);a.set(e),a.set(t,e.length),e=a,n()},t.getData=function(t){t(e.buffer)}}function I(e,t,n,i,a,r,o,l,s,d){var f,p=0,_=0,v="input"===r,m="output"===r,h=new u;!function r(){var u;if((f=p*c)<a)t.readUint8Array(i+f,Math.min(c,a-f),(function(t){var i;try{i=e.append(t,(function(e){o&&o(f+e,a)}))}catch(e){return void s(e)}i?(_+=i.length,n.writeUint8Array(i,(function(){p++,setTimeout(r,1)}),d),m&&h.append(i)):(p++,setTimeout(r,1)),v&&h.append(t),o&&o(f,a)}),s);else{try{u=e.flush()}catch(e){return void s(e)}u?(m&&h.append(u),_+=u.length,n.writeUint8Array(u,(function(){l(_,h.get())}),d)):l(_,h.get())}}()}function k(e,t,n,i,a,r,o,l,s,d,u){var p="input";o?function(e,t,n,i,a,r,o,l,s,d){var u,f,p,_=0,v=t.sn;function m(){e.removeEventListener("message",h,!1),l(f,p)}function h(t){var n=t.data,a=n.data,l=n.error;if(l)return l.toString=function(){return"Error: "+this.message},void s(l);if(n.sn===v)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":a?(f+=a.length,i.writeUint8Array(a,(function(){x()}),d)):x();break;case"flush":p=n.crc,a?(f+=a.length,i.writeUint8Array(a,(function(){m()}),d)):m();break;case"progress":o&&o(u+n.loaded,r);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function x(){(u=_*c)<=r?n.readUint8Array(a+u,Math.min(c,r-u),(function(n){o&&o(u,r);var i=0===u?t:{sn:v};i.type="append",i.data=n;try{e.postMessage(i,[n.buffer])}catch(t){e.postMessage(i)}_++}),s):e.postMessage({sn:v,type:"flush"})}f=0,e.addEventListener("message",h,!1),x()}(e,{sn:t,codecClass:"NOOP",crcType:p},n,i,a,r,s,l,d,u):I(new f,n,i,a,r,p,s,l,d,u)}u.prototype.append=function(e){for(var t=0|this.crc,n=this.table,i=0,a=0|e.length;i<a;i++)t=t>>>8^n[255&(t^e[i])];this.crc=t},u.prototype.get=function(){return~this.crc},u.prototype.table=function(){var e,t,n,i=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;i[e]=n}return i}(),f.prototype.append=function(e,t){return e},f.prototype.flush=function(){},v.prototype=new _,v.prototype.constructor=v,m.prototype=new _,m.prototype.constructor=m,h.prototype=new _,h.prototype.constructor=h,x.prototype.getData=function(e){e(this.data)},g.prototype=new x,g.prototype.constructor=g,b.prototype=new x,b.prototype.constructor=b,y.prototype=new x,y.prototype.constructor=y,w.prototype=new x,w.prototype.constructor=w;var C=22,S=65634;function P(e){var t,n,i="",a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];for(t=0;t<e.length;t++)i+=(n=255&e.charCodeAt(t))>127?a[n-128]:String.fromCharCode(n);return i}function U(e){return decodeURIComponent(escape(e))}function A(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function F(e,t){return e.getUint32(t,!0)+e.getUint32(t+4,!0)*Math.pow(2,32)}function D(e,t,n,a,o){var l=!1;if(e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}(e.lastModDateRaw),!(1&~e.bitFlag))return o(r),l;if((a||8&~e.bitFlag)&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0),4294967295===e.compressedSize||4294967295===e.uncompressedSize){var s=n+(a?40:26)+e.filenameLength;1!=t.view.getUint16(s,!0)&&o(i),e.uncompressedSize=F(t.view,s+4),e.compressedSize=F(t.view,s+12),t.view.getUint16(s+2,!0)>=24&&(e.offset=F(t.view,s+20)),l=!0}return l}function T(e,t,n){var r=0;function c(){}c.prototype.getData=function(t,o,c,d){var u=this;function f(e,i){d&&!function(e){var t=p(4);return t.view.setUint32(0,e),u.crc32==t.view.getUint32(0)}(i)?n(a):t.getData((function(e){o(e)}))}function _(e){n(e||s)}function v(e){n(e||l)}var m=30+u.filenameLength+u.extraFieldLength;e.readUint8Array(u.offset,m,(function(a){var o,l=p(a.length,a);1347093252==l.view.getUint32(0)?(D(u,l,4,!1,n),m=30+u.filenameLength+u.extraFieldLength,o=u.offset+m,t.init((function(){0===u.compressionMethod?k(u._worker,r++,e,t,o,u.compressedSize,d,f,c,_,v):function(e,t,n,i,a,r,o,l,s,c,d){var u=o?"output":"none";I(new Inflater,n,i,a,r,u,s,l,c,d)}(u._worker,r++,e,t,o,u.compressedSize,d,f,c,_,v)}),v)):n(i)}),_)},c.prototype.getDataChunk=function(t,o,c,d,u){var f=this;function _(e,t){u&&!function(e){var t=p(4);return t.view.setUint32(0,e),f.crc32==t.view.getUint32(0)}(t)?n(a):c.getData((function(e){d(e)}))}function v(e){n(e||s)}function m(e){n(e||l)}var h=30+f.filenameLength+f.extraFieldLength;e.readUint8Array(f.offset,h,(function(a){var l=p(a.length,a);if(1347093252==l.view.getUint32(0)){D(f,l,4,!1,n),h=30+f.filenameLength+f.extraFieldLength;var s=f.offset+h,d=t+s,x=d+o>s+f.compressedSize?f.compressedSize-t:o;c.init((function(){0===f.compressionMethod?k(f._worker,r++,e,c,d,x,u,_,onprogress,v,m):n("Reading data chunk from a compressed file entry is not supported.")}),m)}else n(i)}),v)};var d={getEntries:function(t){var a,r,l,s=this._worker;function d(t,a,r,l,s){a<=0||a>=e.size||r<=0||r>=e.size||l<=0?n(i):e.readUint8Array(a,r,(function(e){var a,r,o,d,u=0,f=[],_=p(e.length,e);for(a=0;a<l;a++){if((r=new c)._worker=t,1347092738!=_.view.getUint32(u))return void n(i);if(1!=D(r,_,u+6,!0,n)&&(r.offset=_.view.getUint32(u+42,!0),4294967295===r.offset)){var v=u+46+r.filenameLength;1==_.view.getUint16(v,!0)&&8==_.view.getUint16(v+2,!0)||n(i),r.offset=F(_.view,v+4)}r.commentLength=_.view.getUint16(u+32,!0),r.directory=!(16&~_.view.getUint8(u+38)),o=A(_.array.subarray(u+46,u+46+r.filenameLength)),r.filename=2048&~r.bitFlag?P(o):U(o),r.directory||"/"!=r.filename.charAt(r.filename.length-1)||(r.directory=!0),d=A(_.array.subarray(u+46+r.filenameLength+r.extraFieldLength,u+46+r.filenameLength+r.extraFieldLength+r.commentLength)),r.comment=2048&~r.bitFlag?P(d):U(d),f.push(r),u+=46+r.filenameLength+r.extraFieldLength+r.commentLength}s(f)}),(function(){n(o)}))}!function(t){function a(t,a,r){var l=[80,75,5,6];e.readUint8Array(e.size-t,t,(function(e){for(var o=0;o<=e.length-4;o++)if(e[o]===l[0]&&e[o+1]===l[1]&&e[o+2]===l[2]&&e[o+3]===l[3]){if(t-o>=C)return void a(new DataView(e.buffer,o,C));n(i)}r()}),(function(){n(o)}))}a(C,(function(e){e.byteLength>0?t(e):n(o)}),(function(){var r=Math.min(S,e.size);a(e.size-r,(function(e){e.byteLength>0?t(e):n(o)}),(function(){n(i)}))}))}((function(c){!function(t){function i(t,i,a){var r=[80,75,6,7];e.readUint8Array(e.size-t,t,(function(e){for(var n=0;n<=e.length-4;n++)if(e[n]===r[0]&&e[n+1]===r[1]&&e[n+2]===r[2]&&e[n+3]===r[3]&&t-n>=20)return void i(!0);a()}),(function(){n(o)}))}i(42,t,(function(){i(Math.min(S,e.size),t,(function(){t(!1)}))}))}((function(u){u?function(t){function a(t,a,r){var l=[80,75,6,6];e.readUint8Array(e.size-t,t,(function(e){for(var o=0;o<=e.length-4;o++)if(e[o]===l[0]&&e[o+1]===l[1]&&e[o+2]===l[2]&&e[o+3]===l[3]){if(t-o>=56)return void a(new DataView(e.buffer,o,56));n(i)}r()}),(function(){n(o)}))}a(98,(function(e){e.byteLength>0?t(e):n(o)}),(function(){a(Math.min(S,e.size),(function(e){e.byteLength>0?t(e):n(o)}),(function(){n(i)}))}))}((function(e){l=e.getUint32(32,!0),r=e.getUint32(40,!0),a=F(e,48),d(s,a,r,l,(function(e){t(e)}))})):(l=c.getUint16(10,!0),r=c.getUint32(12,!0),a=c.getUint32(16,!0),d(s,a,r,l,(function(e){t(e)})))}))}))},getEmbeddedEntries:function(t,a,r){var l,s,d=this._worker;l=a,s=function(l){const s=a+l;!function(t,a){function r(t,i,r){e.readUint8Array(t-i,i,(function(e){for(var t=e.length-98;t>=0;t--)if(80===e[t]&&75===e[t+1]&&6===e[t+2]&&6===e[t+3])return void a(new DataView(e.buffer,t,56));r()}),(function(){n(o)}))}r(t,98,(function(){r(t,Math.min(65634,e.size),(function(){n(i)}))}))}(t,(function(t){var a,l,u;u=t.getUint32(32,!0),l=t.getUint32(40,!0),(a=t.getUint32(48,!0)+s)<=0||a>=e.size||l<=0||l>=e.size||u<=0?n(i):e.readUint8Array(a,l,(function(e){var t,a,o,l,f=0,_=[],v=p(e.length,e);for(t=0;t<u;t++){if((a=new c)._worker=d,1347092738!=v.view.getUint32(f))return void n(i);1==D(a,v,f+6,!0,n)?a.offset+=s:a.offset=v.view.getUint32(f+42,!0)+s,a.commentLength=v.view.getUint16(f+32,!0),a.directory=!(16&~v.view.getUint8(f+38)),o=A(v.array.subarray(f+46,f+46+a.filenameLength)),a.filename=2048&~a.bitFlag?P(o):U(o),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),l=A(v.array.subarray(f+46+a.filenameLength+a.extraFieldLength,f+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048&~a.bitFlag?P(l):U(l),_.push(a),f+=46+a.filenameLength+a.extraFieldLength+a.commentLength}r(_)}),(function(){n(o)}))}))},e.readUint8Array(l,30,(function(e){var t,a,r=p(e.length,e);1347093252==r.view.getUint32(0)?(t=r.view.getUint16(26,!0),a=r.view.getUint16(28,!0),s(30+t+a)):n(i)}),(function(){n(o)}))},getCDStartOffset:function(t){!function(t){e.size<98?n(i):a(98,(function(){a(Math.min(65634,e.size),(function(){n(i)}))}));function a(i,a){e.readUint8Array(e.size-i,i,(function(e){for(var n=e.length-98;n>=0;n--)if(80===e[n]&&75===e[n+1]&&6===e[n+2]&&6===e[n+3])return void t(new DataView(e.buffer,n,56));a()}),(function(){n(o)}))}}((function(e){var n=e.getUint32(48,!0);t(n)}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};t(d)}function M(e){return unescape(encodeURIComponent(e))}function N(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function E(e,t,n,i){var a={},r=[],o=0,l=0;function c(e){n(e||"Error while writing zip file.")}function d(e){n(e||s)}var u={add:function(t,s,u,f,_){var v,m,h,x=this._worker;function g(t,n){var i=p(16);o+=t||0,i.view.setUint32(0,1347094280),void 0!==n&&(v.view.setUint32(10,n,!0),i.view.setUint32(4,n,!0)),s&&(i.view.setUint32(8,t,!0),v.view.setUint32(14,t,!0),i.view.setUint32(12,s.size,!0),v.view.setUint32(18,s.size,!0)),e.writeUint8Array(i.array,(function(){o+=16,u()}),c)}function b(){_=_||{},t=t.trim(),_.directory&&"/"!=t.charAt(t.length-1)&&(t+="/"),a.hasOwnProperty(t)?n("File already exists."):(m=N(M(t)),r.push(t),function(n){var r;h=_.lastModDate||new Date,v=p(26),a[t]={headerArray:v.array,directory:_.directory,filename:m,offset:o,comment:N(M(_.comment||""))},v.view.setUint32(0,335546376),_.version&&v.view.setUint8(0,_.version),i||0===_.level||_.directory||v.view.setUint16(4,2048),v.view.setUint16(6,(h.getHours()<<6|h.getMinutes())<<5|h.getSeconds()/2,!0),v.view.setUint16(8,(h.getFullYear()-1980<<4|h.getMonth()+1)<<5|h.getDate(),!0),v.view.setUint16(22,m.length,!0),(r=p(30+m.length)).view.setUint32(0,1347093252),r.array.set(v.array,4),r.array.set(m,30),o+=r.array.length,e.writeUint8Array(r.array,n,c)}((function(){s?i||0===_.level?k(x,l++,s,e,0,s.size,!0,g,f,d,c):function(e,t,n,i,a,r,o,l,s){I(new Deflater,n,i,0,n.size,"input",o,r,l,s)}(0,l++,s,e,_.level,g,f,d,c):g()})))}s?s.init(b,d):b()},close:function(t){this._worker&&(this._worker.terminate(),this._worker=null);var n,i,l,s=0,d=0;for(i=0;i<r.length;i++)s+=46+(l=a[r[i]]).filename.length+l.comment.length;for(n=p(s+22),i=0;i<r.length;i++)l=a[r[i]],n.view.setUint32(d,1347092738),n.view.setUint16(d+4,5120),n.array.set(l.headerArray,d+6),n.view.setUint16(d+32,l.comment.length,!0),l.directory&&n.view.setUint8(d+38,16),n.view.setUint32(d+42,l.offset,!0),n.array.set(l.filename,d+46),n.array.set(l.comment,d+46+l.filename.length),d+=46+l.filename.length+l.comment.length;n.view.setUint32(d,1347093766),n.view.setUint16(d+8,r.length,!0),n.view.setUint16(d+10,r.length,!0),n.view.setUint32(d+12,s,!0),n.view.setUint32(d+16,o,!0),e.writeUint8Array(n.array,(function(){e.getData(t)}),c)},_worker:null};t(u)}function B(e){console.error(e)}e.zip={Reader:_,Writer:x,BlobReader:h,Data64URIReader:m,TextReader:v,BlobWriter:y,Data64URIWriter:b,TextWriter:g,ArrayBufferWriter:w,createReader:function(e,t,n){n=n||B,e.init((function(){T(e,t,n)}),n)},createWriter:function(e,t,n,i){n=n||B,i=!!i,e.init((function(){E(e,t,n,i)}),n)},useWebWorkers:!1,workerScriptsPath:null,workerScripts:null},t=e.zip}(this),t}));