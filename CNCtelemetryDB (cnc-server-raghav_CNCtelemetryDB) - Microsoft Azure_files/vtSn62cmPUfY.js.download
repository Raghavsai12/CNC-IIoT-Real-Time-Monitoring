define("@azure/portal-internal-reactview-frame/lib/utilities/estimateObjectSize",["exports"],(function(e){"use strict";function t(e,r){switch(typeof e){case"string":return 2*e.length;case"boolean":return 4;case"number":return 8;case"object":if(Array.isArray(e))return e.map((e=>t(e,r))).reduce(((e,t)=>e+t),0);if(null!==e){let n=0;for(const a in e){const o=e[a];if("object"==typeof o&&null!==o){if(r.has(o))continue;r.add(o)}n+=t(a,r);try{n+=t(o,r)}catch(e){e instanceof RangeError&&(n=0)}}return n}}return 0}e.estimateObjectSize=function(e){return t(e,new WeakSet)}})),
define("@azure/portal-internal-reactview-frame/lib/viewSetup/createReactServiceRegistry",["exports","@azure/portalfx-core/lib/utilities/ensureSerializable","@azure/portal-internal-reactview-frame/lib/InternalMessaging.types","@azure/portal-internal-reactview-frame/lib/reactViewFramePolyfills"],(function(e,t,r,n){"use strict";e.createReactServiceRegistry=function(e,o,i,s,l){const d={},c=(e,t)=>{const r=++a;return d[r]=(...n)=>(t.disposeAfterUse&&delete d[r],e(...n)),r},{handleServiceEvent:u,serviceRegistry:g}=i.createAzurePortalServiceRegistry({armContext:o.armContext,browserTabId:o.browserTabId,cacheEntries:e.queryStoreEntries,effectiveLocale:e.effectiveLocale,endpoints:o.endpoints,environment:e.environment||{},extensionContentRoot:o.extensionContentRoot,extensionName:o.extensionName,features:e.features||{},fullScreenMode:o.fullScreenMode,getProxyServiceCallbackStub:(e,t)=>({stubId:c(e,t)}),hasParentMenu:o.isMenuBladeContent,inContextPane:o.inContextPane,initialDeepLink:o.initialDeepLink,internalEnvironment:o.internalEnv,invokeProxiedServiceMethod:t=>((t,a)=>{const i=(0,n.promiseWithResolvers)(),l=(0,n.promiseWithResolvers)(),d=performance.now(),u=Date.now();e.postMessageToParent(r.InternalMessageKind.InvokeReactServiceProxyMethod,{...t,methodArgs:t.useJsonSerialization||o.experiments.reactServiceJsonSerialization?JSON.stringify(t.methodArgs):t.methodArgs,responseStubId:c((e=>{l.resolve({...e,calleeEndTime:Date.now()})}),{disposeAfterUse:!0})});let g=l.promise;const m=s();return a&&m&&!t.ignoreResponse&&(g=m.getNetworkThrottler().onPostAsyncRequest(a,u,g),g.then((e=>{m?.noteCallFromFrame(a,d,e.calleeEndTime)}))),g.then((e=>{e.error?i.reject(e.error):i.resolve(e.result)})),t.ignoreResponse?void 0:i.promise})(t),linkedDomainMap:e.environment?.linkedDomainMap||{},location:{hashQuery:o.hashQueryString,portalUrl:e.portalUri},log:e=>{s()?.getBaseFunctionProxy().invoke("___diagnostics___log",{entries:e.map((e=>({...e,level:"debug"===e.level?-1:"verbose"===e.level?0:"warning"===e.level?1:2})))},!0)},parameters:e.parameters,queryStringAssignments:o.queryStringAssignments,recordMetric:t=>{e.frameReadyDataPromise.then((()=>{s()?.getBaseFunctionProxy().invoke("___metrics___record",{...t,extension:o.extensionName},!0)}))},registerForDispose:l,sessionId:o.sessionId,shellTrustedLinkedDomains:e.environment?.shellTrustedLinkedDomains||[],sideBarLayoutMode:o.sideBarLayoutMode,theme:1===o.theme.mode?"dark":"light",trace:t=>{e.frameReadyDataPromise.then((e=>{s()?.getBaseFunctionProxy().invoke("___diagnostics___trace",{events:t,telemetryContext:e.diagnostics.telemetryContext},!0)}))},trustedLinkedDomains:e.environment?.trustedLinkedDomains||[],urlQueryParams:o.urlQueryParams,userInfo:e.userInfo,viewLayoutMode:"normal",viewLoadStartTime:o.viewLoadStartTime,viewName:o.name});return e.addMessageHandler(r.InternalMessageKind.OnReactServiceCallback,(async n=>{try{let t=d[n.stubId]?.(...n.args);n.responseStubId&&(t instanceof Promise&&(t=await t),e.postMessageToParent(r.InternalMessageKind.InvokeReactServiceCallbackFunctionResponse,{response:{result:t},responseStubId:n.responseStubId}))}catch(a){n.responseStubId&&e.postMessageToParent(r.InternalMessageKind.InvokeReactServiceCallbackFunctionResponse,{response:{error:(0,t.ensureSerializable)(a)},responseStubId:n.responseStubId})}})),e.addMessageHandler(r.InternalMessageKind.OnReactServiceEvent,(e=>{u(e.serviceName,e.eventType,e.eventData)})),e.handleServiceRegistryCreated(g),g};let a=0})),
define("@azure/portal-internal-reactview-frame/lib/viewSetup/handlePerfToolsToggled",["exports","@azure/portal-internal-reactview-frame/lib/AzFrameworkShims/InternalApi","@azure/portal-internal-reactview-frame/lib/InternalMessaging.types"],(function(e,t,r){"use strict";e.handlePerfToolsToggled=function(e,n,a,o,i){const s=e.portalUri,l=s.startsWith("https://ms.")||s.startsWith("https://rc.")||s.startsWith("https://localhost")||s.startsWith("https://local-prod.");let d=l?t.AzInternalApi.internalApi.getTelemetryProfiles():void 0;d?.catch((()=>{}));const c=l?t.AzInternalApi.internalApi.getTelemetryProfilesMetadata():void 0;c?.catch((()=>{}));let u=l?t.AzInternalApi.internalApi.getSummaryTelemetryProfile().catch((()=>{})):void 0;const g=Promise.all([n.forceMeasure(),n.getPerfTimings().getProfileData(),t.AzInternalApi.internalApi.getTelemetryContext(),e.frameReadyDataPromise,new Promise(((e,t)=>{window.require(["@microsoft/azureportal-reactview/Experimentation"],(({getAssignments:r})=>{r().then((t=>e(t.data?.variables||{})),t)}))})),a.getStats()]).then((([e,r,n,{openedBy:a,openedByBladeName:i},s,g])=>{e&&window.require(["@microsoft/azureportal-reactview/internal/ReactPerfTools"],(m=>{const{data:p,metrics:f}=e,h=n?.Blade?.instanceId;m.togglePerfTools({data:{...r,...p,ajaxCalls:p.ajaxCalls||[],featureFlags:s,longTasks:p.longTasks||[],openedBy:a,openedByBladeName:i,resourceStats:g},instanceId:h,lighthouseMetrics:f},l?c:void 0,l?e=>{const r=u;return u=void 0,r??t.AzInternalApi.internalApi.getSummaryTelemetryProfile(e)}:void 0,l?e=>{const r=d;return d=void 0,r??t.AzInternalApi.internalApi.getTelemetryProfiles(e)}:void 0,l?e=>t.AzInternalApi.internalApi.getTelemetryProfile(e):void 0,l?{setThrottlingEnabled:e=>{t.AzInternalApi.internalApi.setThrottlingEnabled(e)},throttlingEnabled:!!o.networkRequestDurations}:void 0)}))})),{responseStubId:m}=i,p=t=>{e.postMessageToParent(r.InternalMessageKind.InvokeFunctionResponse,{response:t,responseStubId:m})};g.then((()=>p({result:null}))).catch((e=>p({error:e?.message??"Unknown error"})))}})),
define("@azure/portal-internal-reactview-frame/lib/viewSetup/reactBootMessageHandler",["exports","@azure/portalfx-internal-services/lib/services/PerformanceService","@azure/portal-internal-reactview-frame/lib/AzFrameworkShims/AuthTokens","@azure/portal-internal-reactview-frame/lib/AzFrameworkShims/CommonApi","@azure/portal-internal-reactview-frame/lib/InternalMessaging.types","@azure/portal-internal-reactview-frame/lib/utilities/estimateObjectSize","@azure/portal-internal-reactview-frame/lib/viewSetup/createReactServiceRegistry","@azure/portal-internal-reactview-frame/lib/viewSetup/handlePerfToolsToggled"],(function(e,t,r,n,a,o,i,s){"use strict";e.getReactBootMessageHandler=function(e,l){let d;return c=>{const u=c.data;switch(u.kind){case 1:e.handleFrameReadyResponse(u.data);break;case 2:e.handleDefaultAuthTokenResponse(u.data);break;case 3:{const u=c.data,g=Date.now();switch(u.data.type){case"early":d=function(e,l,d,c){const u="DataFetcher",g="ReactView initialize",m=[{groupName:"ReactView boot",name:"early",timeStamp:Date.now()}],p=!e.isBoundToView;e.handleBoundToView(),e.handleViewDataSet({azHostId:l.azHostId,isMenuBladeContent:l.isMenuBladeContent,parameters:l.parameters}),e.handleEnvironmentSet(l);const f=e.environment?.sdkEnv?.viewMetadata||{},h={...f["*"],...f[l.name]},w=h.usedFluentVersions??[1],v=[],S=(0,i.createReactServiceRegistry)(e,l,c.createAzurePortalServiceRegistry,(()=>R),(e=>v.push(e))),y=S.get("performance"),R=new c.ReactInternal.ReactView({azHostId:l.azHostId,browserTabId:l.browserTabId,extensionName:l.extensionName,hashQueryString:l.hashQueryString,inContextPane:l.inContextPane,linkedDomainMap:e.environment?.linkedDomainMap||{},networkRequestDurations:l.networkRequestDurations,portalUri:e.portalUri,queryStringAssignments:l.queryStringAssignments,reactRootInjectionPromise:Promise.all([e.reactRootDomPrepared,e.queryStoreEntries,e.serializedStorageData]).then((()=>{})),reactVersion:18,serviceRegistry:S,sessionId:l.sessionId,shellTrustedLinkedDomains:e.environment?.shellTrustedLinkedDomains||[],toUrl:e=>{let t=window.require.toUrl(e);return!t||t.endsWith(".js")||t.includes(".js?")||(t+=".js"),t},trustedLinkedDomains:e.environment?.trustedLinkedDomains||[],useQueryCache:!0,usesFluent:e=>w.includes(e),verifyLinks:l.verifyLinks,viewMetadata:h,viewName:l.name});e.serializedStorageData.then((e=>{R.polyfillSessionStorage(e)})),l.perfLogEntries&&m.push(...l.perfLogEntries);const M=R.getPerfTimings();M.onRenderStart(l.loadReactViewStart),M.addEntries(e.prewarmingProfileData.perfLogEntries),M.addEntries(m);const I=R.getResourceStatsCollector();Promise.all([M.getTelemetryData(),I.getStats(),e.serializedStorageData,e.queryStoreEntries]).then((([t,r,n,i])=>{e.postMessageToParent(a.InternalMessageKind.SendPerfTelemetry,{...t,...l.perfTelemetry,profileData:{...t.profileData,resourceStats:r},startupMetrics:{earlyMessageSize:(0,o.estimateObjectSize)(l),preRequiredScriptGroups:e.preRequiredScriptGroups,prewarmedFrame:p,queryStoreSize:(0,o.estimateObjectSize)(i),requireConfigSize:(0,o.estimateObjectSize)(l.requireConfig),storageSize:(0,o.estimateObjectSize)(n)}})}));const T=R.getNetworkThrottler(),b=T.isEnabled();l.copilotFxRequireConfig&&window.require.config(l.copilotFxRequireConfig);window.require.config({...l.requireConfig,onBundleLoad:b?(e,t)=>{T.onBundleLoad(e,t)}:void 0,onDependencyStateChange:M.onModuleDependencyStateChange.bind(M),onResolveModule:b?T.onResolveModule.bind(T):void 0}),e.addMessageHandler(a.InternalMessageKind.Dispose,(t=>{R.dispose(t),v.forEach((e=>e())),e.reset()})),e.addMessageHandler(a.InternalMessageKind.OnStorageChange,(e=>{R.getStorageChangeHandler()(e)})),l.serializedStorage&&R.polyfillSessionStorage(l.serializedStorage);if(R.getBaseFunctionProxy().setPort(d[0]),l.loadReactViewStart<Date.now()){const{noteAjaxCall:t,noteLongTask:r}=R.startLighthouseMeasure(l.loadReactViewStart)||{};t&&e.prewarmingProfileData.ajaxCalls.forEach(t),r&&e.prewarmingProfileData.longTasks.forEach(r)}else e.postMessageToParent(a.InternalMessageKind.LogLighthouse,{complete:!0,data:void 0});c.ReactInternal.showLoadingIndicator(),l.profileOnLoad&&window.require(["@microsoft/azureportal-reactview/internal/ReactDevTools"],(({activate:e})=>{e()}));const P=e=>window.require.mapDependencies(e),z=(e,t)=>{M.addEntries([{groupName:e,name:t,timeStamp:Date.now()}])},A=(t,r)=>{z(t,"storage"),e.queryStoreEntries.then((()=>{z(t,"storage"),l.parameters?r(l.parameters):(z(t,"parameters"),e.parameters.then((e=>{z(t,"parameters"),r(e)})))}))};if(l.fetcherId){const e=l.fetcherId;z(u,"require"),M.onRootModuleLoadStart(e,"DataFetcher"),y.logAsyncStart(t.ReactViewLifecycleEvents.LoadDataFetcherModules),I.onRootModuleLoadStart(e),window.require([l.fetcherId],((...r)=>{z(u,"require");const n=r[0];I.onRootModuleLoadEnd(e,P(e));const a=Date.now();A(u,(r=>{M.onRootModuleLoadEnd(e,"DataFetcher",a),y.logAsyncEnd(t.ReactViewLifecycleEvents.LoadDataFetcherModules),n.fetchData&&(z(u,"fetchData"),n.fetchData({parameters:r,serviceRegistry:S}),z(u,"fetchData"))}))}))}const k=l.initModules[0];z(g,"require"),M.onRootModuleLoadStart(k,"ReactView"),y.logAsyncStart(t.ReactViewLifecycleEvents.LoadReactViewModules),I.onRootModuleLoadStart(k),window.require(l.initModules,((...r)=>{z(g,"require"),M.onRootModuleLoadEnd(k,"ReactView",Date.now()),y.logAsyncEnd(t.ReactViewLifecycleEvents.LoadReactViewModules),I.onRootModuleLoadEnd(k,P(k));const o=l.name.endsWith(".MenuView");if(o||l.name.endsWith(".AssetType"))window.require(["@microsoft/azureportal-reactview/internal/MenuConfig"],(({getMenuConfig:t})=>{const{deregisterFunction:i,registerFunction:s,stubBladeReference:d}=n.AzCommonApi.utilities,c=n=>{z(g,"getMenuConfig");const o=t({deregisterFunction:i,entryPointArgs:n,entryPointName:l.entryPointName,module:r[0],moduleName:l.initModules[0],onFailed:(t,r)=>e.postMessageToParent(a.InternalMessageKind.MenuFailed,{error:t,handled:r}),registerFunction:s,sendInitial:t=>e.postMessageToParent(a.InternalMessageKind.RenderMenu,t),sendUpdates:t=>e.postMessageToParent(a.InternalMessageKind.UpdateMenu,t),stubBladeReference:d});o&&"function"==typeof o.then?o.then((()=>z(g,"getMenuConfig"))):z(g,"getMenuConfig")};o?A(g,c):c(l.entryPointArgs)}));else{const e=r[0]?.default;e&&A(g,(r=>{y.logAsyncStart(t.ReactViewLifecycleEvents.RenderNodeIntoRoot),R.renderComponentIntoRoot(e,l.theme,r).finally((()=>{setTimeout((()=>{y.logAsyncEnd(t.ReactViewLifecycleEvents.RenderNodeIntoRoot)}))}))}))}}),(t=>{window.require(["FxInternal/Resources/ReactComponents"],(r=>{e.postMessageToParent(a.InternalMessageKind.Fail,{details:t.message,message:r.ReactError.initModulesLoadError})}))})),e.addMessageHandler(a.InternalMessageKind.TogglePerfTools,(t=>{(0,s.handlePerfToolsToggled)(e,R,I,l,t)})),e.addMessageHandler(a.InternalMessageKind.ToggleTelemetryInsights,(e=>{window.require(["@microsoft/azureportal-reactview/internal/ReactTelemetry"],(t=>{t.toggleTelemetryInsights(e)}))})),e.addMessageHandler(a.InternalMessageKind.ShowTours,(e=>{window.require(["@microsoft/azureportal-reactview/internal/TourGuide"],(t=>{t.showTours(e)}))})),d[1]&&l.copilotInitModuleId&&window.require([l.copilotInitModuleId],(e=>{e.setPort(d[1])}));return l.tokenResourceNames.forEach((e=>r.AzAuthTokens.getAuthorizationToken({isBackground:!0,resourceName:e}))),e.capturedErrors.forEach((e=>{c.ReactInternal.errorHandler(e)})),R}(e,u.data,c.ports,l);break;case"init":if(!d)throw new Error("ReactView not initialized before init event");d?.getPerfTimings().addEntries([{groupName:"ReactView boot",name:"init",timeStamp:g}]),d?.getFunctionProxy().setPort(c.ports[0]),l.ReactInternal.setPrintHandler(),e.handleEnvironmentSet(u.data);break;case"pushPerfTimings":d?d.getPerfTimings().addEntries(u.data.entries):e.prewarmingProfileData.perfLogEntries.push(...u.data.entries)}break}case 4:e.handleUserInfoResponse(u.data);break;default:e.handleMessage(u.kind,u.data)}}}}));