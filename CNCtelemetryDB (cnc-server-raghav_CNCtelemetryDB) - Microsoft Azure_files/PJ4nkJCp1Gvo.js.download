"use strict";var __extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__createBinding,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension,Reflect,ko;"function"==typeof self.importScripts&&(window=function(e){function t(){}function n(){var e={parentNode:null,toString:function(){return"FakeElement:"+e.nodeType},getAttribute:t,setAttribute:t,removeChild:t,addEventListener:t,removeEventListener:t,getElementById:n,createElement:n,cloneNode:n,createDocumentFragment:n,ownerDocument:r,documentElement:r,appendChild:function(e){return e},checked:!0,defaultValue:"checked",nodeType:1};return e.lastChild=e.firstChild=e,e.getElementsByTagName=e.getElementsByClassName=function(){return[e]},e}e.window=e;var r=e.document=n();r.head=n(),r.body=n(),r.ownerDocument=r.documentElement=r,r.nodeType=9;var o={},i={clear:function(){o={}},getItem:function(e){return o[e]||null},setItem:function(e,t){o[e]=t},removeItem:function(e){delete o[e]},key:function(e){return Object.keys(o)[e]}};return e.sessionStorage=i,e.localStorage=i,e}(self),document=window.document),function(){var e=window;e.module=void 0,e.performance||(e.performance={}),e.performance.mark||(e.performance.mark=function(){}),e.performance.measure||(e.performance.measure=function(){});var t=e.fx=e.fx||{},n=Date.now,r=n(),o=e.performance,i=o.now&&function(){return o.now()};o.mark("OssStart");var a=t.getTimestamp=t.getTimestamp||i||function(){return n()-r};o.now||(o.now=t.getTimestamp),t.bootstrapTelemetry={ossFxScriptsBegin:a(),ossFxScriptsEnd:0,fxScriptsBegin:0,fxScriptsEnd:0}}(),function(e){var t="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};function n(e,n){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,r){return e[t]=n?n(t,r):r}}"function"==typeof define&&define.amd?(
define("tslib",["exports"],(function(r){e(n(t,n(r)))})),require(["tslib"])):"object"==typeof module&&"object"==typeof module.exports?e(n(t,n(module.exports))):e(n(t))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};__extends=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){Object.defineProperty(this,"constructor",{configurable:!0,value:e,writable:!0})}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param=function(e,t){return function(n,r){t(n,r,e)}},__esDecorate=function(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),p=!1,f=n.length-1;f>=0;f--){var m={};for(var h in r)m[h]="access"===h?{}:r[h];for(var h in r.access)m.access[h]=r.access[h];m.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var v=(0,n[f])("accessor"===l?{get:d.get,set:d.set}:d[u],m);if("accessor"===l){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(s=a(v.get))&&(d.get=s),(s=a(v.set))&&(d.set=s),(s=a(v.init))&&o.unshift(s)}else(s=a(v))&&("field"===l?o.unshift(s):d[u]=s)}c&&Object.defineProperty(c,r.name,d),p=!0},__runInitializers=function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0},__propKey=function(e){return"symbol"==typeof e?e:"".concat(e)},__setFunctionName=function(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},__exportStar=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||__createBinding(t,e,n)},__createBinding=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof __await?Promise.resolve(n.value.v).then(l,u):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:__await(e[r](t)),done:!1}:o?o(t):t}:o}},__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return n(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},__classPrivateFieldSet=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},__classPrivateFieldIn=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},__addDisposableResource=function(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t};var r="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};__disposeResources=function(e){function t(t){e.error=e.hasError?new r(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,o=0;return function r(){for(;n=e.stack.pop();)try{if(!n.async&&1===o)return o=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(i).then(r,(function(e){return t(e),r()}))}else o|=1}catch(e){t(e)}if(1===o)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()},__rewriteRelativeImportExtension=function(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,r,o,i){return n?t?".jsx":".js":!r||o&&i?r+o+"."+i.toLowerCase()+"js":e})):e},e("__extends",__extends),e("__assign",__assign),e("__rest",__rest),e("__decorate",__decorate),e("__param",__param),e("__esDecorate",__esDecorate),e("__runInitializers",__runInitializers),e("__propKey",__propKey),e("__setFunctionName",__setFunctionName),e("__metadata",__metadata),e("__awaiter",__awaiter),e("__generator",__generator),e("__exportStar",__exportStar),e("__createBinding",__createBinding),e("__values",__values),e("__read",__read),e("__spread",__spread),e("__spreadArrays",__spreadArrays),e("__spreadArray",__spreadArray),e("__await",__await),e("__asyncGenerator",__asyncGenerator),e("__asyncDelegator",__asyncDelegator),e("__asyncValues",__asyncValues),e("__makeTemplateObject",__makeTemplateObject),e("__importStar",__importStar),e("__importDefault",__importDefault),e("__classPrivateFieldGet",__classPrivateFieldGet),e("__classPrivateFieldSet",__classPrivateFieldSet),e("__classPrivateFieldIn",__classPrivateFieldIn),e("__addDisposableResource",__addDisposableResource),e("__disposeResources",__disposeResources),e("__rewriteRelativeImportExtension",__rewriteRelativeImportExtension)})),Promise.withResolvers||(Promise.withResolvers=function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}}),Promise.try||(Promise.try=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Promise((function(n,r){try{n(e.apply(void 0,t))}catch(e){r(e)}}))}),function(){var e;!function(){var e=window||self;function t(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,value:n})}function n(e,t){var n={threw:!1,result:null};try{n.result=e(t)}catch(e){n.threw=!0,n.result=e}return n}function r(e){return r.resolve(e)}!function(r){if(function(t){var n,r,o,i,a=null===(r=null===(n=e.fx)||void 0===n?void 0:n.environment)||void 0===r?void 0:r.features;if(a)return"true"===a[t];var s=null===(i=null===(o=e.FxImpl)||void 0===o?void 0:o.bootEnv)||void 0===i?void 0:i.shellFeatures;if(s){var l="feature.".concat(t),u=(null==s?void 0:s.fromQuery[l])||(null==s?void 0:s.fromConfig[l]);if(u)return"true"===u}return!1}("debugpromise")){var o=globalThis.Promise,i=function(t){var n,r,i,a,s=Reflect.construct(o,[function(e,t){i=e,a=t}],this.constructor);s.dState="pending",s.dResult=void 0,s.dExtension=null===(r=null===(n=e.fx)||void 0===n?void 0:n.environment)||void 0===r?void 0:r.extensionName,s.dCreateStack=(new Error).stack,s.dResultStack=void 0;var l=function(e){var t;"pending"===s.dState&&(null!==(t=s.dResultStack)&&void 0!==t||(s.dResultStack=(new Error).stack),h(e)?e.then(l,u):(s.dState="fulfilled",s.dResult=e,i(e)))},u=function(e){var t;"pending"===s.dState&&(null!==(t=s.dResultStack)&&void 0!==t||(s.dResultStack=(new Error).stack),e||(e=new Error("Unspecified rejection reason")),s.dState="rejected",s.dResult=e,a(e))};return t(l,u),s};Object.setPrototypeOf(i,o),Object.setPrototypeOf(i.prototype,o.prototype),globalThis.Promise=i}var a=globalThis.Promise;function s(e){return((null==Reflect?void 0:Reflect.construct)?Reflect.construct(a,[e],this.constructor):a.call(this,e))||this}function l(){var e,t,n=new u((function(n,r){e=n,t=r}));return{resolve:e,reject:t,notify:function(e){return n.notify(e)},promise:n}}e.__extends(s,a);var u=function(o){function i(e){var n,r,i=o.call(this,(function(e,t){n=e,r=t}))||this;t(i,"_qState","pending"),t(i,"_qResult",void 0),t(i,"_qSettling",!1),t(i,"_qProgressHandlers",[]),t(i,"_qChildProgressHandlers",[]);var a=function(e,t){if(i._qSettling=!0,"rejected"===e)i._qProgressHandlers=null,i._qChildProgressHandlers=null,i._qState="rejected",i._qResult=t,r(t);else if(m(t)&&!t.isPending()){var o=t.inspect();t.isFulfilled()?a("fulfilled",o.value):(t.catch((function(){})),a("rejected",o.reason))}else h(t)?t.then((function(e){a("fulfilled",e)}),(function(e){a("rejected",e)})):(i._qProgressHandlers=null,i._qChildProgressHandlers=null,i._qState="fulfilled",i._qResult=t,n(t))};return e((function(e){var t;"pending"!==i._qState||i._qSettling||(m(e)&&i._qChildProgressHandlers&&i._qChildProgressHandlers.length&&e._qChildProgressHandlers&&(t=e._qChildProgressHandlers).push.apply(t,i._qChildProgressHandlers),a("fulfilled",e))}),(function(e){"pending"!==i._qState||i._qSettling||a("rejected",e)})),i}return __extends(i,o),i.prototype.then=function(e,t,n){var r=o.prototype.then.call(this,e,t);return n&&r._qProgressHandlers&&r._qProgressHandlers.push(n),this._qChildProgressHandlers&&this._qChildProgressHandlers.push((function(e){return r.notify(e)})),r},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.finally=function(e){return o.prototype.finally.call(this,e)},i.prototype.spread=function(e,t){return this.then((function(n){return p(n,e,t)}))},i.prototype.progress=function(e){return this.then(void 0,void 0,e)},i.prototype.done=function(e,t,n){(e||t||n?this.then(e,t,n):this).catch((function(e){v((function(){if(!r.onerror)throw e;r.onerror(e)}))}))},i.prototype.get=function(e){return this.then((function(t){return t[e+""]}))},i.prototype.set=function(e,t){return this.then((function(n){n[e+""]=t}))},i.prototype.delete=function(e){return this.then((function(t){delete t[e+""]}))},i.prototype.del=function(e){return this.delete(e)},i.prototype.post=function(e,t){return this.then((function(n){return e?n[e+""].apply(n,t):n.apply(n,t)}))},i.prototype.invoke=function(e){return this.post.apply(this,arguments)},i.prototype.keys=function(){return this.then(Object.keys)},i.prototype.thenResolve=function(e){return this.then((function(){return e}))},i.prototype.thenReject=function(e){return this.then((function(){throw e}))},i.prototype.timeout=function(t,n){var r=l();return this.then(r.resolve,r.reject,r.notify),e.setTimeout((function(){if(r.promise.isPending()){var e=void 0;void 0!==n?"string"==typeof n||n instanceof String?(e=new Error(n)).code="ETIMEDOUT":e=n:(e=new Error("Timed out after ".concat(t," ms"))).code="ETIMEDOUT",r.reject(e)}}),t),r.promise},i.prototype.delay=function(t){var n=l();return this.then((function(r){e.setTimeout((function(){n.resolve(r)}),t)}),n.reject,n.notify),n.promise},i.prototype.isFulfilled=function(){return"fulfilled"===this._qState},i.prototype.isRejected=function(){return"rejected"===this._qState},i.prototype.isPending=function(){return"pending"===this._qState},i.prototype.valueOf=function(){return this.inspect().value},i.prototype.inspect=function(){var e={state:this._qState};return void 0!==this._qResult&&(this.isFulfilled()?e.value=this._qResult:this.isRejected()&&(e.reason=this._qResult)),e},i.prototype.notify=function(e){if(this.isPending()){var t=!0;this._qProgressHandlers&&this._qProgressHandlers.forEach((function(o){var i=n(o,e);i.threw?(t=!1,null==r||r.onerror(i.result)):i.result&&(e=i.result)})),this._qChildProgressHandlers&&t&&this._qChildProgressHandlers.forEach((function(t){t(e)}))}return e},i}(s);function c(e,t,n,r){var o=l(),i=1;try{e.forEach((function(e,a){h(e)?(++i,e.then((function(e){return t(o,e,a,--i)}),(function(e){return n(o,e,--i)}),(function(e){return o.notify({index:a,value:e})}))):r&&r(o,e)}))}catch(e){o.reject(e)}return 0==--i&&o.resolve(e),o.promise}function d(e){return c(e,(function(t,n,r,o){e[r]=n,0===o&&t.resolve(e)}),(function(e,t,n){return e.reject(t)}))}function p(e,t,n){return d(e).then((function(e){return t.apply(void 0,e)}),n)}function f(e){var t=l();return e(t.resolve,t.reject,t.notify),t.promise}function m(e){return!!(null==e?void 0:e._qState)}function h(e){return!(!e||"function"!=typeof e.then)}function v(t){g().then((function(){var r=n(t);r.threw&&e.setTimeout((function(){throw r.result}))}))}function g(e){if(e){if(m(e))return e;if(e instanceof a)return new u((function(t){t(e)}));if(h(e)){var t=l();return v((function(){var r=n((function(){return e.then((function(e){return t.resolve(e)}),(function(e){return t.reject(e)}),(function(e){return t.notify(e)}))}));r.threw&&t.reject(r.result)})),t.promise}return new u((function(t){t(e)}))}return new u((function(t){t(e)}))}r.QPromise=u,r.when=function(e,t,n,o){return t||n||o?r(e).then(t,n,o):r(e)},r.fcall=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return g().then((function(){return e.apply(void 0,t)}))},r.any=function(e){return c(e,(function(e,t,n){return e.resolve(t)}),(function(e,t,n){return 0===n&&e.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}),(function(e,t){return e.resolve(t)}))},r.progress=function(e,t){return e.progress(t)},r.post=function(e,t,n){return t?e[t+""].apply(e,n):e.apply(e,n)},r.all=d,r.allSettled=function(e){return d(e.map(r.resolve).map((function(e){return e.then((function(){return e.inspect()}),(function(){return e.inspect()}))})))},r.allResolved=function(e){return c(e,(function(t,n,r,o){return 0===o&&t.resolve(e)}),(function(t,n,r){return 0===r&&t.resolve(e)}))},r.spread=p,r.timeout=function(e,t,n){if(e.timeout)return e.timeout(t,n);var r=l();return e.then(r.resolve,r.reject,r.notify),r.promise.timeout(t,n)},r.delay=function(t,n){return m(t)?t.delay(n):void 0!==n?new u((function(t,r){e.setTimeout((function(){t()}),n)})).then((function(){return t})):new u((function(n,r){e.setTimeout((function(){n()}),t)}))},r.isFulfilled=function(e){return!m(e)||e.isFulfilled()},r.isRejected=function(e){return!!m(e)&&e.isRejected()},r.isPending=function(e){return!!m(e)&&e.isPending()},r.defer=function(){return l()},r.reject=function(e){return new u((function(t,n){n(e)}))},r.promise=f,r.Promise=function(e){return f(e)},r.isPromise=m,r.isPromiseAlike=h,r.nextTick=v,r.resolve=g}(r||(r={})),e.Q=r}(e||(e={}))}(FxImpl||(FxImpl={})),function(e){!function(){var t="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=r(e);function r(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===t.Reflect?t.Reflect=e:n=r(t.Reflect,n),function(e){var t=Object.getPrototypeOf(Function),n=new WeakMap;function r(e,t,n,r){if(P(n)){if(!D(e))throw new TypeError;if(!B(t))throw new TypeError;return f(e,t)}if(!D(e))throw new TypeError;if(!M(t))throw new TypeError;if(!M(r)&&!P(r)&&!E(r))throw new TypeError;return E(r)&&(r=void 0),m(e,t,n=T(n),r)}function o(e,t){function n(n,r){if(!M(n))throw new TypeError;if(!P(r)&&!N(r))throw new TypeError;x(e,t,n,r)}return n}function i(e,t,n,r){if(!M(n))throw new TypeError;return P(r)||(r=T(r)),x(e,t,n,r)}function a(e,t,n){if(!M(t))throw new TypeError;return P(n)||(n=T(n)),v(e,t,n)}function s(e,t,n){if(!M(t))throw new TypeError;return P(n)||(n=T(n)),g(e,t,n)}function l(e,t,n){if(!M(t))throw new TypeError;return P(n)||(n=T(n)),y(e,t,n)}function u(e,t,n){if(!M(t))throw new TypeError;return P(n)||(n=T(n)),b(e,t,n)}function c(e,t){if(!M(e))throw new TypeError;return P(t)||(t=T(t)),C(e,t)}function d(e,t){if(!M(e))throw new TypeError;return P(t)||(t=T(t)),_(e,t)}function p(e,t,r){if(!M(t))throw new TypeError;P(r)||(r=T(r));var o=h(t,r,!1);if(P(o))return!1;if(!o.delete(e))return!1;if(o.size>0)return!0;var i=n.get(t);return i.delete(r),i.size>0||n.delete(t),!0}function f(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!P(r)&&!E(r)){if(!B(r))throw new TypeError;t=r}}return t}function m(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!P(i)&&!E(i)){if(!M(i))throw new TypeError;r=i}}return r}function h(e,t,r){var o=n.get(e);if(P(o)){if(!r)return;o=new Map,n.set(e,o)}var i=o.get(t);if(P(i)){if(!r)return;i=new Map,o.set(t,i)}return i}function v(e,t,n){if(g(e,t,n))return!0;var r=H(t);return!E(r)&&v(e,r,n)}function g(e,t,n){var r=h(t,n,!1);return!P(r)&&k(r.has(e))}function y(e,t,n){if(g(e,t,n))return b(e,t,n);var r=H(t);return E(r)?void 0:y(e,r,n)}function b(e,t,n){var r=h(t,n,!1);if(!P(r))return r.get(e)}function x(e,t,n,r){h(n,r,!0).set(e,t)}function C(e,t){var n=_(e,t),r=H(e);if(null===r)return n;var o=C(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new Set,a=[],s=0,l=n;s<l.length;s++){var u=l[s];i.has(u)||(i.add(u),a.push(u))}for(var c=0,d=o;c<d.length;c++){u=d[c];i.has(u)||(i.add(u),a.push(u))}return a}function _(e,t){var n=[],r=h(e,t,!1);if(P(r))return n;for(var o=O(r.keys()),i=0;;){var a=j(o);if(!a)return n.length=i,n;var s=L(a);try{n[i]=s}catch(e){try{V(o)}finally{throw e}}i++}}function w(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function P(e){return void 0===e}function E(e){return null===e}function F(e){return"symbol"==typeof e}function M(e){return"object"==typeof e?null!==e:"function"==typeof e}function S(e,t){switch(w(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n);if(M(o))throw new TypeError;return o}return I(e,"default"===n?"number":n)}function I(e,t){if("string"===t){var n=e.toString;if(R(n))if(!M(o=n.call(e)))return o;if(R(r=e.valueOf))if(!M(o=r.call(e)))return o}else{var r;if(R(r=e.valueOf))if(!M(o=r.call(e)))return o;var o,i=e.toString;if(R(i))if(!M(o=i.call(e)))return o}throw new TypeError}function k(e){return!!e}function A(e){return""+e}function T(e){var t=S(e,3);return F(t)?t:A(t)}function D(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function R(e){return"function"==typeof e}function B(e){return"function"==typeof e}function N(e){switch(w(e)){case 3:case 4:return!0;default:return!1}}function O(e){var t=e[Symbol.iterator];if(!R(t))throw new TypeError;var n=t.call(e);if(!M(n))throw new TypeError;return n}function L(e){return e.value}function j(e){var t=e.next();return!t.done&&t}function V(e){var t=e.return;t&&t.call(e)}function H(e){var n=Object.getPrototypeOf(e);if("function"!=typeof e||e===t)return n;if(n!==t)return n;var r=e.prototype,o=r&&Object.getPrototypeOf(r);if(null==o||o===Object.prototype)return n;var i=o.constructor;return"function"!=typeof i||i===e?n:i}e("decorate",r),e("metadata",o),e("defineMetadata",i),e("hasMetadata",a),e("hasOwnMetadata",s),e("getMetadata",l),e("getOwnMetadata",u),e("getMetadataKeys",c),e("getOwnMetadataKeys",d),e("deleteMetadata",p)}(n)}()}(Reflect||(Reflect={})),
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
function(e){!function(e,t){var n=[],r=Object.getPrototypeOf,o=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,l={},u=l.toString,c=l.hasOwnProperty,d=c.toString,p=d.call(Object),f={},m="function"==typeof importScripts,h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},g=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,o,i=(n=n||g).createElement("script");if(i.text=e,t)for(r in y)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e}var C="3.7.1",_=/HTML$/i,w=function(e,t){return new w.fn.init(e,t)};w.fn=w.prototype={jquery:C,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||h(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(w.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||w.isPlainObject(n)?n:{},o=!1,a[t]=w.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r(e))||"function"==typeof(n=c.call(t,"constructor")&&t.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){FxImpl&&FxImpl.skipEval(e,"jquery")||b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(P(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,o=e.nodeType;if(!o)for(;t=e[r++];)n+=w.text(t);return 1===o||11===o?e.textContent:9===o?e.documentElement.textContent:3===o||4===o?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(P(Object(e))?w.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!_.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(P(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return i(s)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]);function P(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!h(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var F=n.pop,M=n.sort,S=n.splice,I="[\\x20\\t\\r\\n\\f]",k=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g");w.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var A=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function T(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}w.escapeSelector=function(e){return(e+"").replace(A,T)};var D=g,R=a;!function(){var t,r,i,a,l,u,d,p,m,h,v=R,g=w.expando,y=0,b=0,x=te(),C=te(),_=te(),P=te(),A=function(e,t){return e===t&&(l=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N="\\["+I+"*("+B+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+I+"*\\]",O=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",L=new RegExp(I+"+","g"),j=new RegExp("^"+I+"*,"+I+"*"),V=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),H=new RegExp(I+"|>"),W=new RegExp(O),q=new RegExp("^"+B+"$"),z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},U=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Q=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),J=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},X=function(){ue()},Z=fe((function(e){return!0===e.disabled&&E(e,"fieldset")}),{dir:"parentNode",next:"legend"});function Y(){try{return u.activeElement}catch(e){}}try{v.apply(n=o.call(D.childNodes),D.childNodes),n[D.childNodes.length].nodeType}catch(e){v={apply:function(e,t){R.apply(e,o.call(t))},call:function(e){R.apply(e,o.call(arguments,1))}}}function ee(e,t,n,r){var o,i,a,s,l,c,d,h=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(ue(t),t=t||u,p)){if(11!==y&&(l=$.exec(e)))if(o=l[1]){if(9===y){if(!(a=t.getElementById(o)))return n;if(a.id===o)return v.call(n,a),n}else if(h&&(a=h.getElementById(o))&&ee.contains(t,a)&&a.id===o)return v.call(n,a),n}else{if(l[2])return v.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&t.getElementsByClassName)return v.apply(n,t.getElementsByClassName(o)),n}if(!(P[e+" "]||m&&m.test(e))){if(d=e,h=t,1===y&&(H.test(e)||V.test(e))){for((h=K.test(e)&&le(t.parentNode)||t)==t&&f.scope||((s=t.getAttribute("id"))?s=w.escapeSelector(s):t.setAttribute("id",s=g)),i=(c=de(e)).length;i--;)c[i]=(s?"#"+s:":scope")+" "+pe(c[i]);d=c.join(",")}try{return v.apply(n,h.querySelectorAll(d)),n}catch(t){P(e,!0)}finally{s===g&&t.removeAttribute("id")}}}return Ce(e.replace(k,"$1"),t,n,r)}function te(){var e=[];function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}return t}function ne(e){return e[g]=!0,e}function re(e){var t=u.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e){return function(t){return E(t,"input")&&t.type===e}}function ie(e){return function(t){return(E(t,"input")||E(t,"button"))&&t.type===e}}function ae(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return ne((function(t){return t=+t,ne((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function le(e){return e&&void 0!==e.getElementsByTagName&&e}function ue(e){var t,n=e?e.ownerDocument||e:D;return n!=u&&9===n.nodeType&&n.documentElement?(d=(u=n).documentElement,p=!w.isXMLDoc(u),h=d.matches||d.webkitMatchesSelector||d.msMatchesSelector,d.msMatchesSelector&&D!=u&&(t=u.defaultView)&&t.top!==t&&t.addEventListener("unload",X),f.getById=re((function(e){return d.appendChild(e).id=w.expando,!u.getElementsByName||!u.getElementsByName(w.expando).length})),f.disconnectedMatch=re((function(e){return h.call(e,"*")})),f.scope=re((function(){return u.querySelectorAll(":scope")})),f.cssHas=re((function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),f.getById?(r.filter.ID=function(e){var t=e.replace(Q,J);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Q,J);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},r.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&p)return t.getElementsByClassName(e)},m=[],re((function(e){var t;d.appendChild(e).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||m.push("\\["+I+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+g+"-]").length||m.push("~="),e.querySelectorAll("a#"+g+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll(":checked").length||m.push(":checked"),(t=u.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),(t=u.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")")})),f.cssHas||m.push(":has"),m=m.length&&new RegExp(m.join("|")),A=function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument==D&&ee.contains(D,e)?-1:t===u||t.ownerDocument==D&&ee.contains(D,t)?1:a?s.call(a,e)-s.call(a,t):0:4&n?-1:1)},u):u}for(t in ee.matches=function(e,t){return ee(e,null,null,t)},ee.matchesSelector=function(e,t){if(ue(e),p&&!P[t+" "]&&(!m||!m.test(t)))try{var n=h.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return ee(t,u,null,[e]).length>0},ee.contains=function(e,t){return(e.ownerDocument||e)!=u&&ue(e),w.contains(e,t)},ee.attr=function(e,t){(e.ownerDocument||e)!=u&&ue(e);var n=r.attrHandle[t.toLowerCase()],o=n&&c.call(r.attrHandle,t.toLowerCase())?n(e,t,!p):void 0;return void 0!==o?o:e.getAttribute(t)},ee.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},w.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!f.sortStable,a=!f.sortStable&&o.call(e,0),M.call(e,A),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)S.call(e,n[r],1)}return a=null,e},w.fn.uniqueSort=function(){return this.pushStack(w.uniqueSort(o.apply(this)))},r=w.expr={cacheLength:50,createPseudo:ne,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,J),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ee.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ee.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=de(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return E(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ee.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(L," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,m=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,x=!1;if(h){if(i){for(;m;){for(d=t;d=d[m];)if(s?E(d,v):1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?h.firstChild:h.lastChild],a&&b){for(x=(p=(u=(c=h[g]||(h[g]={}))[e]||[])[0]===y&&u[1])&&u[2],d=p&&h.childNodes[p];d=++p&&d&&d[m]||(x=p=0)||f.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[y,p,x];break}}else if(b&&(x=p=(u=(c=t[g]||(t[g]={}))[e]||[])[0]===y&&u[1]),!1===x)for(;(d=++p&&d&&d[m]||(x=p=0)||f.pop())&&(!(s?E(d,v):1===d.nodeType)||!++x||(b&&((c=d[g]||(d[g]={}))[e]=[y,x]),d!==t)););return(x-=o)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ee.error("unsupported pseudo: "+e);return o[g]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ne((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=s.call(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ne((function(e){var t=[],n=[],r=xe(e.replace(k,"$1"));return r[g]?ne((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ne((function(e){return function(t){return ee(e,t).length>0}})),contains:ne((function(e){return e=e.replace(Q,J),function(t){return(t.textContent||w.text(t)).indexOf(e)>-1}})),lang:ne((function(e){return q.test(e||"")||ee.error("unsupported lang: "+e),e=e.replace(Q,J).toLowerCase(),function(t){var n;do{if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===Y()&&u.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:ae(!1),disabled:ae(!0),checked:function(e){return E(e,"input")&&!!e.checked||E(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return U.test(e.nodeName)},button:function(e){return E(e,"input")&&"button"===e.type||E(e,"button")},text:function(e){var t;return E(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=oe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ie(t);function ce(){}function de(e,t){var n,o,i,a,s,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(a in n&&!(o=j.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=V.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(k," ")}),s=s.slice(n.length)),r.filter)!(o=z[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ee.error(e):C(e,l).slice(0)}function pe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function fe(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=b++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var u,c,d=[y,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=t[g]||(t[g]={}),o&&E(t,o))t=t[r]||t;else{if((u=c[i])&&u[0]===y&&u[1]===s)return d[2]=u[2];if(c[i]=d,d[2]=e(t,n,l))return!0}return!1}}function me(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function he(e,t,n){for(var r=0,o=t.length;r<o;r++)ee(e,t[r],n);return n}function ve(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function ge(e,t,n,r,o,i){return r&&!r[g]&&(r=ge(r)),o&&!o[g]&&(o=ge(o,i)),ne((function(i,a,l,u){var c,d,p,f,m=[],h=[],g=a.length,y=i||he(t||"*",l.nodeType?[l]:l,[]),b=!e||!i&&t?y:ve(y,m,e,l,u);if(n?n(b,f=o||(i?e:g||r)?[]:a,l,u):f=b,r)for(c=ve(f,h),r(c,[],l,u),d=c.length;d--;)(p=c[d])&&(f[h[d]]=!(b[h[d]]=p));if(i){if(o||e){if(o){for(c=[],d=f.length;d--;)(p=f[d])&&c.push(b[d]=p);o(null,f=[],c,u)}for(d=f.length;d--;)(p=f[d])&&(c=o?s.call(i,p):m[d])>-1&&(i[c]=!(a[c]=p))}}else f=ve(f===a?f.splice(g,f.length):f),o?o(null,a,f,u):v.apply(a,f)}))}function ye(e){for(var t,n,o,a=e.length,l=r.relative[e[0].type],u=l||r.relative[" "],c=l?1:0,d=fe((function(e){return e===t}),u,!0),p=fe((function(e){return s.call(t,e)>-1}),u,!0),f=[function(e,n,r){var o=!l&&(r||n!=i)||((t=n).nodeType?d(e,n,r):p(e,n,r));return t=null,o}];c<a;c++)if(n=r.relative[e[c].type])f=[fe(me(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[g]){for(o=++c;o<a&&!r.relative[e[o].type];o++);return ge(c>1&&me(f),c>1&&pe(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(k,"$1"),n,c<o&&ye(e.slice(c,o)),o<a&&ye(e=e.slice(o)),o<a&&pe(e))}f.push(n)}return me(f)}function be(e,t){var n=t.length>0,o=e.length>0,a=function(a,s,l,c,d){var f,m,h,g=0,b="0",x=a&&[],C=[],_=i,P=a||o&&r.find.TAG("*",d),E=y+=null==_?1:Math.random()||.1,M=P.length;for(d&&(i=s==u||s||d);b!==M&&null!=(f=P[b]);b++){if(o&&f){for(m=0,s||f.ownerDocument==u||(ue(f),l=!p);h=e[m++];)if(h(f,s||u,l)){v.call(c,f);break}d&&(y=E)}n&&((f=!h&&f)&&g--,a&&x.push(f))}if(g+=b,n&&b!==g){for(m=0;h=t[m++];)h(x,C,s,l);if(a){if(g>0)for(;b--;)x[b]||C[b]||(C[b]=F.call(c));C=ve(C)}v.apply(c,C),d&&!a&&C.length>0&&g+t.length>1&&w.uniqueSort(c)}return d&&(y=E,i=_),x};return n?ne(a):a}function xe(e,t){var n,r=[],o=[],i=_[e+" "];if(!i){for(t||(t=de(e)),n=t.length;n--;)(i=ye(t[n]))[g]?r.push(i):o.push(i);(i=_(e,be(o,r))).selector=e}return i}function Ce(e,t,n,o){var i,a,s,l,u,c="function"==typeof e&&e,d=!o&&de(e=c.selector||e);if(n=n||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===t.nodeType&&p&&r.relative[a[1].type]){if(!(t=(r.find.ID(s.matches[0].replace(Q,J),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=z.needsContext.test(e)?0:a.length;i--&&(s=a[i],!r.relative[l=s.type]);)if((u=r.find[l])&&(o=u(s.matches[0].replace(Q,J),K.test(a[0].type)&&le(t.parentNode)||t))){if(a.splice(i,1),!(e=o.length&&pe(a)))return v.apply(n,o),n;break}}return(c||xe(e,d))(o,t,!p,n,!t||K.test(e)&&le(t.parentNode)||t),n}ce.prototype=r.filters=r.pseudos,r.setFilters=new ce,f.sortStable=g.split("").sort(A).join("")===g,ue(),f.sortDetached=re((function(e){return 1&e.compareDocumentPosition(u.createElement("fieldset"))})),w.find=ee,w.expr[":"]=w.expr.pseudos,w.unique=w.uniqueSort,ee.compile=xe,ee.select=Ce,ee.setDocument=ue,ee.tokenize=de,ee.escape=w.escapeSelector,ee.getText=w.text,ee.isXML=w.isXMLDoc,ee.selectors=w.expr,ee.support=w.support,ee.uniqueSort=w.uniqueSort}();var B=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&w(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},O=w.expr.match.needsContext,L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return h(t)?w.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?w.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?w.grep(e,(function(e){return s.call(t,e)>-1!==n})):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<r;t++)if(w.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,o[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&O.test(e)?w(e):e||[],!1).length}});var V,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||V,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:H.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),L.test(r[1])&&w.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=g.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,V=w(g);var W=/^(?:parents|prev(?:Until|All))/,q={children:!0,contents:!0,next:!0,prev:!0};function z(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&w(e);if(!O.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return B(e,"parentNode")},parentsUntil:function(e,t,n){return B(e,"parentNode",n)},next:function(e){return z(e,"nextSibling")},prev:function(e){return z(e,"previousSibling")},nextAll:function(e){return B(e,"nextSibling")},prevAll:function(e){return B(e,"previousSibling")},nextUntil:function(e,t,n){return B(e,"nextSibling",n)},prevUntil:function(e,t,n){return B(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(n,r){var o=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=w.filter(r,o)),this.length>1&&(q[e]||w.uniqueSort(o),W.test(e)&&o.reverse()),this.pushStack(o)}}));var U=/[^\x20\t\r\n\f]+/g;function G(e){var t={};return w.each(e.match(U)||[],(function(e,n){t[n]=!0})),t}function $(e){return e}function K(e){throw e}function Q(e,t,n,r){var o;try{e&&h(o=e.promise)?o.call(e).done(t).fail(n):e&&h(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?G(e):w.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){w.each(n,(function(n,r){h(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return w.each(arguments,(function(e,t){for(var n;(n=w.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?w.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(n,(function(n,r){var o=h(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,o){var i=0;function a(t,n,r,o){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<i)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,h(u)?o?u.call(e,a(i,n,$,o),a(i,n,K,o)):(i++,u.call(e,a(i,n,$,o),a(i,n,K,o),a(i,n,$,n.notifyWith))):(r!==$&&(s=void 0,l=[e]),(o||n.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.error),t+1>=i&&(r!==K&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?c():(w.Deferred.getErrorHook?c.error=w.Deferred.getErrorHook():w.Deferred.getStackHook&&(c.error=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred((function(e){n[0][3].add(a(0,e,h(o)?o:$,e.notifyWith)),n[1][3].add(a(0,e,h(t)?t:$)),n[2][3].add(a(0,e,h(r)?r:K))})).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},i={};return w.each(n,(function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(Q(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||h(i[n]&&i[n].then)))return a.then();for(;n--;)Q(i[n],s(n),a.reject);return a.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&J.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var X=w.Deferred();function Z(){g.removeEventListener("DOMContentLoaded",Z),e.removeEventListener("load",Z),w.ready()}w.fn.ready=function(e){return X.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||X.resolveWith(g,[w]))}}),w.ready.then=X.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",Z),e.addEventListener("load",Z));var Y=function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===x(n))for(s in o=!0,n)Y(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,h(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(w(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i},ee=/^-ms-/,te=/-([a-z])/g;function ne(e,t){return t.toUpperCase()}function re(e){return e.replace(ee,"ms-").replace(te,ne)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ie(){this.expando=w.expando+ie.uid++}ie.uid=1,ie.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[re(t)]=n;else for(r in t)o[re(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in r?[t]:t.match(U)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var ae=new ie,se=new ie,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function ce(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}function de(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=ce(n)}catch(e){}se.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return se.hasData(e)||ae.hasData(e)},data:function(e,t,n){return se.access(e,t,n)},removeData:function(e,t){se.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=se.get(i),1===i.nodeType&&!ae.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=re(r.slice(5)),de(i,r,o[r]));ae.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){se.set(this,e)})):Y(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=se.get(i,e))||void 0!==(n=de(i,e))?n:void 0;this.each((function(){se.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){se.remove(this,e)}))}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,o=n.shift(),i=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:w.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each((function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=w.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ae.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+pe+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],he=g.documentElement,ve=function(e){return w.contains(e.ownerDocument,e)},ge={composed:!0};he.getRootNode&&(ve=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ge)===e.ownerDocument});var ye=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ve(e)&&"none"===w.css(e,"display")};function be(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},l=s(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),c=e.nodeType&&(w.cssNumber[t]||"px"!==u&&+l)&&fe.exec(w.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)w.style(e,t,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,w.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var xe={};function Ce(e){var t,n=e.ownerDocument,r=e.nodeName,o=xe[r];return o||(t=n.body.appendChild(n.createElement(r)),o=w.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),xe[r]=o,o)}function _e(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=ae.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ye(r)&&(o[i]=Ce(r))):"none"!==n&&(o[i]="none",ae.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}w.fn.extend({show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ye(this)?w(this).show():w(this).hide()}))}});var we=/^(?:checkbox|radio)$/i,Pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;Fe=g.createDocumentFragment().appendChild(g.createElement("div")),Me=g.createElement("input"),Me.setAttribute("type","radio"),Me.setAttribute("checked","checked"),Me.setAttribute("name","t"),Fe.appendChild(Me),f.checkClone=Fe.cloneNode(!0).cloneNode(!0).lastChild.checked,Fe.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!Fe.cloneNode(!0).lastChild.defaultValue,Fe.innerHTML="<option></option>",f.option=!!Fe.lastChild;var Fe,Me;var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,f.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);function Ie(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?w.merge([e],n):n}function ke(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}var Ae=/<|&#?\w+;/;function Te(e,t,n,r,o){for(var i,a,s,l,u,c,d=t.createDocumentFragment(),p=[],f=0,m=e.length;f<m;f++)if((i=e[f])||0===i)if("object"===x(i))w.merge(p,i.nodeType?[i]:i);else if(Ae.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(Pe.exec(i)||["",""])[1].toLowerCase(),l=Se[s]||Se._default,a.innerHTML=l[1]+w.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;w.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",f=0;i=p[f++];)if(r&&w.inArray(i,r)>-1)o&&o.push(i);else if(u=ve(i),a=Ie(d.appendChild(i),"script"),u&&ke(a),n)for(c=0;i=a[c++];)Ee.test(i.type||"")&&n.push(i);return d}var De=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Be(){return!1}function Ne(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Be;else if(!o)return e;return 1===i&&(a=o,o=function(e){return w().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=w.guid++)),e.each((function(){w.event.add(this,t,o,r,n)}))}function Oe(e,t,n){n?(ae.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=o.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,w.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===ae.get(e,t)&&w.event.add(e,t,Re)}w.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,m,h,v=ae.get(e);if(oe(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&w.find.matchesSelector(he,o),n.guid||(n.guid=w.guid++),(l=v.events)||(l=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(U)||[""]).length;u--;)f=h=(s=De.exec(t[u])||[])[1],m=(s[2]||"").split(".").sort(),f&&(d=w.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=w.event.special[f]||{},c=w.extend({type:f,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},i),(p=l[f])||((p=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,m,h,v=ae.hasData(e)&&ae.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(U)||[""]).length;u--;)if(f=h=(s=De.exec(t[u])||[])[1],m=(s[2]||"").split(".").sort(),f){for(d=w.event.special[f]||{},p=l[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!o&&h!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,m,v.handle)||w.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)w.event.remove(e,f+t[u],n,r,!0);w.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),l=w.event.fix(e),u=(ae.get(this,"events")||Object.create(null))[l.type]||[],c=w.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=w.event.handlers.call(this,l,u),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?w(o,this).index(u)>-1:w.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&E(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&E(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&E(t,"input")&&ae.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Be,isPropagationStopped:Be,isImmediatePropagationStopped:Be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(g.documentMode){var n=ae.get(this,"handle"),r=w.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else w.event.simulate(t,e.target,w.event.fix(e))}w.event.special[e]={setup:function(){var r;if(Oe(this,e,!0),!g.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!g.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},w.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=g.documentMode?this:r,i=ae.get(o,t);i||(g.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(o,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=g.documentMode?this:r,i=ae.get(o,t)-1;i?ae.set(o,t,i):(g.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(o,t))}}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||w.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),w.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Be),this.each((function(){w.event.remove(this,e,n,t)}))}});var Le=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function We(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if(ae.hasData(e)&&(s=ae.get(e).events))for(o in ae.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)w.event.add(t,o,s[o][n]);se.hasData(e)&&(i=se.access(e),a=w.extend({},i),se.set(t,a))}}function Ue(e,t){var n=t.nodeName.toLowerCase();"input"===n&&we.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ge(e,t,n,r){t=i(t);var o,a,s,l,u,c,d=0,p=e.length,m=p-1,v=t[0],g=h(v);if(g||p>1&&"string"==typeof v&&!f.checkClone&&je.test(v))return e.each((function(o){var i=e.eq(o);g&&(t[0]=v.call(this,o,i.html())),Ge(i,t,n,r)}));if(p&&(a=(o=Te(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(l=(s=w.map(Ie(o,"script"),We)).length;d<p;d++)u=o,d!==m&&(u=w.clone(u,!0,!0),l&&w.merge(s,Ie(u,"script"))),n.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,w.map(s,qe),d=0;d<l;d++)u=s[d],Ee.test(u.type||"")&&!ae.access(u,"globalEval")&&w.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):b(u.textContent.replace(Ve,""),u,c))}return e}function $e(e,t,n){for(var r,o=t?w.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||w.cleanData(Ie(r)),r.parentNode&&(n&&ve(r)&&ke(Ie(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=ve(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=Ie(s),r=0,o=(i=Ie(e)).length;r<o;r++)Ue(i[r],a[r]);if(t)if(n)for(i=i||Ie(e),a=a||Ie(s),r=0,o=i.length;r<o;r++)ze(i[r],a[r]);else ze(e,s);return(a=Ie(s,"script")).length>0&&ke(a,!l&&Ie(e,"script")),s},cleanData:function(e){for(var t,n,r,o=w.event.special,i=0;void 0!==(n=e[i]);i++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)o[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[se.expando]&&(n[se.expando]=void 0)}}}),w.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return Y(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ge(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,e).appendChild(e)}))},prepend:function(){return Ge(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=He(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(Ie(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return Y(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!Se[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(Ie(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,(function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(Ie(this)),n&&n.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var n,r=[],o=w(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),w(o[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}}));var Ke=new RegExp("^("+pe+")(?!px)[a-z%]+$","i"),Qe=/^--/,Je=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Xe=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Ze=new RegExp(me.join("|"),"i");function Ye(e,t,n){var r,o,i,a,s=Qe.test(t),l=e.style;return(n=n||Je(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(k,"$1")||void 0),""!==a||ve(e)||(a=w.style(e,t)),!f.pixelBoxStyles()&&Ke.test(a)&&Ze.test(t)&&(r=l.width,o=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=r,l.minWidth=o,l.maxWidth=i)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",he.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),o=36===n(t.width),c.style.position="absolute",i=12===n(c.offsetWidth/3),he.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var r,o,i,a,s,l,u=g.createElement("div"),c=g.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,o;return null==s&&(t=g.createElement("table"),n=g.createElement("tr"),r=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="box-sizing:content-box;border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",he.appendChild(t).appendChild(n).appendChild(r),o=e.getComputedStyle(n),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===n.offsetHeight,he.removeChild(t)),s}}))}();var tt=["Webkit","Moz","ms"],nt=g.createElement("div").style,rt={};function ot(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}function it(e){var t=w.cssProps[e]||rt[e];return t||(e in nt?e:rt[e]=ot(e)||e)}var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var r=fe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ct(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+me[a],!0,o)),r?("content"===n&&(l-=w.css(e,"padding"+me[a],!0,o)),"margin"!==n&&(l-=w.css(e,"border"+me[a]+"Width",!0,o))):(l+=w.css(e,"padding"+me[a],!0,o),"padding"!==n?l+=w.css(e,"border"+me[a]+"Width",!0,o):s+=w.css(e,"border"+me[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l+u}function dt(e,t,n){var r=Je(e),o=(!f.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=o,a=Ye(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n)return a;a="auto"}return(!f.boxSizingReliable()&&o||!f.reliableTrDimensions()&&E(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===w.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ct(e,t,n||(o?"border":"content"),i,r,a)+"px"}function pt(e,t,n,r,o){return new pt.prototype.init(e,t,n,r,o)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=re(t),l=Qe.test(t),u=e.style;if(l||(t=it(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];"string"===(i=typeof n)&&(o=fe.exec(n))&&o[1]&&(n=be(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(w.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=re(t);return Qe.test(t)||(t=it(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ye(e,t,r)),"normal"===o&&t in lt&&(o=lt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!at.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?dt(e,t,r):Xe(e,st,(function(){return dt(e,t,r)}))},set:function(e,n,r){var o,i=Je(e),a=!f.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===w.css(e,"boxSizing",!1,i),l=r?ct(e,t,r,s,i):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-ct(e,t,"border",!1,i)-.5)),l&&(o=fe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),ut(e,n,l)}}})),w.cssHooks.marginLeft=et(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+me[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(w.cssHooks[e+t].set=ut)})),w.fn.extend({css:function(e,t){return Y(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Je(e),o=t.length;a<o;a++)i[t[a]]=w.css(e,t[a],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=pt,pt.prototype={constructor:pt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var e=pt.propHooks[this.prop];return e&&e.get?e.get(this):pt.propHooks._default.get(this)},run:function(e){var t,n=pt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):pt.propHooks._default.set(this),this}},pt.prototype.init.prototype=pt.prototype,pt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},pt.propHooks.scrollTop=pt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=pt.prototype.init,w.fx.step={};var ft,mt,ht=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function gt(){mt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(gt):e.setTimeout(gt,w.fx.interval),w.fx.tick())}function yt(){return e.setTimeout((function(){ft=void 0})),ft=Date.now()}function bt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=me[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function xt(e,t,n){for(var r,o=(wt.tweeners[t]||[]).concat(wt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Ct(e,t,n){var r,o,i,a,s,l,u,c,d="width"in t||"height"in t,p=this,f={},m=e.style,h=e.nodeType&&ye(e),v=ae.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],ht.test(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!v||void 0===v[r])continue;h=!0}f[r]=v&&v[r]||w.style(e,r)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(u=v&&v.display)&&(u=ae.get(e,"display")),"none"===(c=w.css(e,"display"))&&(u?c=u:(_e([e],!0),u=e.style.display||u,c=w.css(e,"display"),_e([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(e,"float")&&(l||(p.done((function(){m.display=u})),null==u&&(c=m.display,u="none"===c?"":c)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",p.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),l=!1,f)l||(v?"hidden"in v&&(h=v.hidden):v=ae.access(e,"fxshow",{display:u}),i&&(v.hidden=!h),h&&_e([e],!0),p.done((function(){for(r in h||_e([e]),ae.remove(e,"fxshow"),f)w.style(e,r,f[r])}))),l=xt(h?v[r]:0,r,p),r in v||(v[r]=l.start,h&&(l.end=l.start,l.start=0))}function _t(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=re(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}function wt(e,t,n){var r,o,i=0,a=wt.prefilters.length,s=w.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=ft||yt(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||yt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(_t(c,u.opts.specialEasing);i<a;i++)if(r=wt.prefilters[i].call(u,e,c,u.opts))return h(r.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,xt,u),h(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(wt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,fe.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=["*"]):e=e.match(U);for(var n,r=0,o=e.length;r<o;r++)n=e[r],wt.tweeners[n]=wt.tweeners[n]||[],wt.tweeners[n].unshift(t)},prefilters:[Ct],prefilter:function(e,t){t?wt.prefilters.unshift(e):wt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=w.isEmptyObject(e),i=w.speed(t,n,r),a=function(){var t=wt(this,w.extend({},e),i);(o||ae.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=w.timers,a=ae.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&vt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(bt(t,!0),e,r,o)}})),w.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(ft=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),ft=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){mt||(mt=!0,gt())},w.fx.stop=function(){mt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var Pt,Et=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return Y(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(o=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?Pt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(U);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Pt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Et[t]||w.find.attr;Et[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=Et[a],Et[a]=o,o=null!=n(e,t,r)?a:null,Et[a]=i),o}}));var Ft=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return Y(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(t=w.propFix[t]||t,o=w.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):Ft.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});function St(e){return(e.match(U)||[]).join(" ")}function It(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(U)||[]}w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,n,r,o,i,a;return h(e)?this.each((function(t){w(this).addClass(e.call(this,t,It(this)))})):(t=kt(e)).length?this.each((function(){if(r=It(this),n=1===this.nodeType&&" "+St(r)+" "){for(i=0;i<t.length;i++)o=t[i],n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=St(n),r!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,r,o,i,a;return h(e)?this.each((function(t){w(this).removeClass(e.call(this,t,It(this)))})):arguments.length?(t=kt(e)).length?this.each((function(){if(r=It(this),n=1===this.nodeType&&" "+St(r)+" "){for(i=0;i<t.length;i++)for(o=t[i];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=St(n),r!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,o,i,a=typeof e,s="string"===a||Array.isArray(e);return h(e)?this.each((function(n){w(this).toggleClass(e.call(this,n,It(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=kt(e),this.each((function(){if(s)for(i=w(this),o=0;o<n.length;o++)r=n[o],i.hasClass(r)?i.removeClass(r):i.addClass(r);else void 0!==e&&"boolean"!==a||((r=It(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+St(It(n))+" ").indexOf(t)>-1)return!0;return!1}});var At=/\r/g;w.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=h(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,w(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(At,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:St(w.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=w.makeArray(t),a=o.length;a--;)((r=o[a]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},f.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Tt=e.location,Dt={guid:Date.now()},Rt=/\?/;w.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||w.error("Invalid XML: "+(r?w.map(r.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Bt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,o){var i,a,s,l,u,d,p,f,m=[r||g],y=c.call(t,"type")?t.type:t,b=c.call(t,"namespace")?t.namespace.split("."):[];if(a=f=s=r=r||g,3!==r.nodeType&&8!==r.nodeType&&!Bt.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[y]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!v(r)){for(l=p.delegateType||y,Bt.test(l+y)||(a=a.parentNode);a;a=a.parentNode)m.push(a),s=a;s===(r.ownerDocument||g)&&m.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=m[i++])&&!t.isPropagationStopped();)f=a,t.type=i>1?l:p.bindType||y,(d=(ae.get(a,"events")||Object.create(null))[t.type]&&ae.get(a,"handle"))&&d.apply(a,n),(d=u&&a[u])&&d.apply&&oe(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(m.pop(),n)||!oe(r)||u&&h(r[y])&&!v(r)&&((s=r[u])&&(r[u]=null),w.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,Nt),r[y](),t.isPropagationStopped()&&f.removeEventListener(y,Nt),w.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}});var Ot=/\[\]$/,Lt=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Vt=/^(?:input|select|textarea|keygen)/i;function Ht(e,t,n,r){var o;if(Array.isArray(t))w.each(t,(function(t,o){n||Ot.test(e)?r(e,o):Ht(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(o in t)Ht(e+"["+o+"]",t[o],n,r)}w.param=function(e,t){var n,r=[],o=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){o(this.name,this.value)}));else for(n in e)Ht(n,e[n],t,o);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Vt.test(this.nodeName)&&!jt.test(e)&&(this.checked||!we.test(e))})).map((function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}})):{name:t.name,value:n.replace(Lt,"\r\n")}})).get()}});var Wt=/%20/g,qt=/#.*$/,zt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,Kt=/^\/\//,Qt={},Jt={},Xt="*/".concat("*"),Zt=g.createElement("a");function Yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(U)||[];if(h(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function en(e,t,n,r){var o={},i=e===Jt;function a(s){var l;return o[s]=!0,w.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function tn(e,t){var n,r,o=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function nn(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}function rn(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}Zt.href=Tt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:Gt.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?tn(tn(e,w.ajaxSettings),t):tn(w.ajaxSettings,e)},ajaxPrefilter:Yt(Qt),ajaxTransport:Yt(Jt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,i,a,s,l,u,c,d,p,f=w.ajaxSetup({},n),m=f.context||f,h=f.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=f.statusCode||{},x={},C={},_="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ut.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)P.always(e[P.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),E(0,t),this}};if(v.promise(P),f.url=((t||f.url||Tt.href)+"").replace(Kt,Tt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(U)||[""],null==f.crossDomain){l=g.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Zt.protocol+"//"+Zt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),en(Qt,f,n,P),u)return P;for(d in(c=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!$t.test(f.type),o=f.url.replace(qt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Wt,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(Rt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(zt,"$1"),p=(Rt.test(o)?"&":"?")+"_="+Dt.guid+++p),f.url=o+p),f.ifModified&&(w.lastModified[o]&&P.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&P.setRequestHeader("If-None-Match",w.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&P.setRequestHeader("Content-Type",f.contentType),P.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Xt+"; q=0.01":""):f.accepts["*"]),f.headers)P.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,P,f)||u))return P.abort();if(_="abort",y.add(f.complete),P.done(f.success),P.fail(f.error),r=en(Jt,f,n,P)){if(P.readyState=1,c&&h.trigger("ajaxSend",[P,f]),u)return P;f.async&&f.timeout>0&&(s=e.setTimeout((function(){P.abort("timeout")}),f.timeout));try{u=!1,r.send(x,E)}catch(e){if(u)throw e;E(-1,e)}}else E(-1,"No Transport");function E(t,n,a,l){var d,p,g,x,C,_=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,i=l||"",P.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(x=nn(f,P,a)),!d&&w.inArray("script",f.dataTypes)>-1&&w.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=rn(f,x,P,d),d?(f.ifModified&&((C=P.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=C),(C=P.getResponseHeader("etag"))&&(w.etag[o]=C)),204===t||"HEAD"===f.type?_="nocontent":304===t?_="notmodified":(_=x.state,p=x.data,d=!(g=x.error))):(g=_,!t&&_||(_="error",t<0&&(t=0))),P.status=t,P.statusText=(n||_)+"",d?v.resolveWith(m,[p,_,P]):v.rejectWith(m,[P,_,g]),P.statusCode(b),b=void 0,c&&h.trigger(d?"ajaxSuccess":"ajaxError",[P,f,d?p:g]),y.fireWith(m,[P,_]),c&&(h.trigger("ajaxComplete",[P,f]),--w.active||w.event.trigger("ajaxStop")))}return P},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,n,r,o){return h(n)&&(o=o||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:o,data:n,success:r},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return h(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=h(e);return this.each((function(n){w(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var on={0:200,1223:204},an=w.ajaxSettings.xhr();f.cors=!!an&&"withCredentials"in an,f.ajax=an=!!an,w.ajaxTransport((function(t){var n,r;if(f.cors||an&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),m||t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(on[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var sn=[],ln=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=sn.pop()||w.expando+"_"+Dt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(ln.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ln.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ln,"$1"+o):!1!==t.jsonp&&(t.url+=(Rt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||w.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always((function(){void 0===i?w(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,sn.push(o)),a&&h(i)&&i(a[0]),a=i=void 0})),"script"})),f.createHTMLDocument=function(){if(!g.implementation)return!1;var e=g.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((r=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(r)):t=g),i=!n&&[],(o=L.exec(e))?[t.createElement(o[1])]:(o=Te([e],t,i),i&&i.length&&w(i).remove(),w.merge([],o.childNodes)));var r,o,i},w.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=St(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&w.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u=w.css(e,"position"),c=w(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),i=w.css(e,"top"),l=w.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),h(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):c.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),o.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-w.css(r,"marginTop",!0),left:t.left-o.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||he}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return Y(this,(function(e,r,o){var i;if(v(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=et(f.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),Ke.test(n)?w(e).position()[t]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){w.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return Y(this,(function(t,n,o){var i;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?w.css(t,n,s):w.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var un=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=E,w.isFunction=h,w.isWindow=v,w.camelCase=re,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(un,"$1")},"function"==typeof define&&define.amd&&
define("jquery",[],(function(){return w}));var cn=e.jQuery,dn=e.$;w.noConflict=function(t){return e.$===w&&(e.$=dn),t&&e.jQuery===w&&(e.jQuery=cn),w},void 0===t&&(e.jQuery=e.$=w)}(e)}("undefined"!=typeof window?window:this),function(e){var t="function"==typeof self.importScripts?void 0:window.document;function n(e,t){return e.nodeType===t}e.version="3.4.1",e.options={deferUpdates:!1,useOnlyNativeEvents:!1},e.isNodeType=n,e.exportSymbol=function(t,n){for(var r=t.split("."),o=e,i=0;i<r.length-1;i++)o=o[r[i]];o[r[r.length-1]]=n},e.exportProperty=function(e,t,n){e[t]=n};var r,o=function(){function e(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1}return e.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},e}();e.subscription=o,function(t){var n="function"==typeof Symbol;t.parseJson=function(t){return"string"==typeof t&&(t=e.utils.stringTrim(t))?JSON.parse(t):null},t.stringTrim=function(e){return null==e?"":e.trim?e.trim():e.toString().replace(/^\s+|\s+$/g,"")},t.createSymbolOrString=function(e){return n?Symbol(e):e},t.stringStartsWith=function(e,t){return e=e||"",!(t.length>e.length)&&e.startsWith(t)},t.makeArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},t.objectMap=function(e,t){if(!e)return e;for(var n={},r=Object.keys(e),o=0,i=r.length;o<i;o++){var a=r[o];n[a]=t(e[a],a,e)}return n},t.range=function(t,n){t=e.utils.unwrapObservable(t),n=e.utils.unwrapObservable(n);for(var r=[],o=t;o<=n;o++)r.push(o);return r}}(e.utils||(e.utils={})),function(r){var o=[0,"",""],i=[1,"<table>","</table>"],a=[3,"<table><tbody><tr>","</tr></tbody></table>"],s=[1,"<select multiple='multiple'>","</select>"],l={thead:i,tbody:i,tfoot:i,tr:[2,"<table><tbody>","</tbody></table>"],td:a,th:a,option:s,optgroup:s};function u(n,r){r||(r=t);var i=r.parentWindow||r.defaultView||window,a=e.utils.stringTrim(n).toLowerCase(),s=r.createElement("div"),u=function(e){var t=/^<([a-z]+)[ >]/.exec(e);return t&&l[t[1]]||o}(a),c=u[0],d="ignored<div>"+u[1]+n+u[2]+"</div>";for("function"==typeof i.innerShiv?s.appendChild(i.innerShiv(d)):s.innerHTML=d;c--;)s=s.lastChild;return e.utils.makeArray(s.lastChild.childNodes)}r.parseHtmlFragment=function(e,t){return $?function(e,t){if($.parseHTML)return $.parseHTML(e,t)||[];var r=$.clean([e],t);if(r&&r[0]){for(var o=r[0];o.parentNode&&!n(o.parentNode,11);)o=o.parentNode;o.parentNode&&o.parentNode.removeChild(o)}return r}(e,t):u(e,t)},r.setHtml=function(t,n){if(e.utils.emptyDomNode(t),null!=(n=e.utils.unwrapObservable(n)))if("string"!=typeof n&&(n=n.toString()),$)$(t).html(n);else for(var r=e.utils.parseHtmlFragment(n,t.ownerDocument),o=0;o<r.length;o++)t.appendChild(r[o])}}(e.utils||(e.utils={})),function(e){var t={};function n(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}e.memoize=function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var r=n()+n();return t[r]=e,"\x3c!--[ko_memo:"+r+"]--\x3e"},e.unmemoize=function(e,n){var r=t[e];if(void 0===r)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete t[e]}},e.parseMemoText=function(e){var t=/^\[ko_memo:(.*?)\]$/.exec(e);return t?t[1]:null}}(e.memoization||(e.memoization={})),function(r){!function(e){var t=0,n="__ko__"+(new Date).getTime(),r={};function o(e,o){var i=e[n];if(!(i&&"null"!==i&&r[i])){if(!o)return;i=e[n]="ko"+t++,r[i]={}}return r[i]}e.get=function(e,t){var n=o(e,!1);return void 0===n?void 0:n[t]},e.set=function(e,t,n){void 0===n&&void 0===o(e,!1)||(o(e,!0)[t]=n)},e.clear=function(e){var t=e[n];return!!t&&(delete r[t],e[n]=null,!0)},e.nextKey=function(){return t+++n}}(r.domData||(r.domData={})),function(t){var r=e.utils.domData.nextKey(),o={1:!0,8:!0,9:!0},i={1:!0,9:!0};function a(t,n){var o=e.utils.domData.get(t,r);return void 0===o&&n&&(o=[],e.utils.domData.set(t,r,o)),o}function s(t){var r=a(t,!1);if(r){r=r.slice(0);for(var o=0;o<r.length;o++)r[o](t)}e.utils.domData.clear(t),e.utils.domNodeDisposal.cleanExternalData(t),i[t.nodeType]&&function(e){var t,r=e.firstChild;for(;t=r;)r=t.nextSibling,n(t,8)&&s(t)}(t)}t.addDisposeCallback=function(e,t){if("function"!=typeof t)throw new Error("Callback must be a function");a(e,!0).push(t)},t.removeDisposeCallback=function(t,n){var o=a(t,!1);o&&(e.utils.arrayRemoveItem(o,n),0===o.length&&function(t){e.utils.domData.set(t,r,void 0)}(t))},t.cleanNode=function(t){if(o[t.nodeType]&&(s(t),i[t.nodeType])){var n=[];e.utils.arrayPushAll(n,t.getElementsByTagName("*"));for(var r=0,a=n.length;r<a;r++)s(n[r])}return t},t.removeNode=function(t){e.cleanNode(t),t.parentNode&&t.parentNode.removeChild(t)},t.cleanExternalData=function(e){$&&"function"==typeof $.cleanData&&$.cleanData([e])}}(r.domNodeDisposal||(r.domNodeDisposal={})),r.fieldsIncludedWithJsonPost=["authenticity_token",/^__RequestVerificationToken(_.*)?$/];var o={},i={};function a(e,t){for(var n=Object.keys(e),r=0,o=n.length;r<o;r++){var i=n[r];t(i,e[i])}}function s(t,n){return window.setTimeout(e.utils.catchFunctionErrors(t),n)}o[navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],o.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],a(o,(function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)i[t[n]]=e})),r.objectForEach=a,r.addOrRemoveItem=function(t,n,r){var o=e.utils.arrayIndexOf(e.utils.peekObservable(t),n);o<0?r&&t.push(n):r||t.splice(o,1)},r.fixUpContinuousNodeArray=function(e,t){if(e&&e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;e.length>1&&e[e.length-1].parentNode!==t;)e.length--;if(e.length>1){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},r.emptyDomNode=function(t){for(;t.firstChild;)e.removeNode(t.firstChild)},r.moveCleanedNodesToContainerElement=function(n){for(var r=e.utils.makeArray(n),o=(r[0]&&r[0].ownerDocument||t).createElement("div"),i=0,a=r.length;i<a;i++)o.appendChild(e.cleanNode(r[i]));return o},r.cloneNodes=function(t,n){for(var r=[],o=0,i=t.length;o<i;o++){var a=t[o].cloneNode(!0);r.push(n?e.cleanNode(a):a)}return r},r.setDomNodeChildren=function(t,n){if(e.utils.emptyDomNode(t),n)for(var r=0,o=n.length;r<o;r++)t.appendChild(n[r])},r.replaceDomNodes=function(t,n){var r=t.nodeType?[t]:t;if(r.length>0){for(var o=r[0],i=o.parentNode,a=0,s=n.length;a<s;a++)i.insertBefore(n[a],o);for(a=0,s=r.length;a<s;a++)e.removeNode(r[a])}},r.setOptionNodeSelectionState=function(e,t){e.selected=t},r.domNodeIsContainedBy=function(e,t){if(e===t)return!0;if(n(e,11))return!1;if(t.contains)return t.contains(n(e,3)?e.parentNode:e);if(t.compareDocumentPosition)return!(16&~t.compareDocumentPosition(e));for(;e&&e!==t;)e=e.parentNode;return!!e},r.domNodeIsAttachedToDocument=function(t){return!!t.ownerDocument.documentElement&&e.utils.domNodeIsContainedBy(t,t.ownerDocument.documentElement)},r.anyDomNodeIsAttachedToDocument=function(t){return!!e.utils.arrayFirst(t,e.utils.domNodeIsAttachedToDocument)},r.tagNameLower=function(e){return e&&e.tagName&&e.tagName.toLowerCase()},r.catchFunctionErrors=function(t){return e.onError?function(){try{return t.apply(this,arguments)}catch(t){throw e.onError&&e.onError(t),t}}:t},r.setTimeout=s,r.deferError=function(t){s((function(){throw e.onError&&e.onError(t),t}),0)},r.setElementName=function(e,t){e.name=t},r.forceRefresh=function(){},r.ensureSelectElementIsRenderedCorrectly=function(){},r.getFormFields=function(t,n){for(var r=e.utils.makeArray(t.getElementsByTagName("input")).concat(e.utils.makeArray(t.getElementsByTagName("textarea"))),o="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},i=[],a=r.length-1;a>=0;a--)o(r[a])&&i.push(r[a]);return i},r.registerEventHandler=function(t,n,r){var o=e.utils.catchFunctionErrors(r);if(!e.options.useOnlyNativeEvents&&$)$(t).bind(n,o);else{if("function"!=typeof t.addEventListener)throw new Error("Browser doesn't support addEventListener or attachEvent");t.addEventListener(n,o,!1)}},r.triggerEvent=function(n,r){if(!n||!n.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var o=function(t,n){if("input"!==e.utils.tagNameLower(t)||!t.type)return!1;if("click"!==n.toLowerCase())return!1;var r=t.type;return"checkbox"===r||"radio"===r}(n,r);if(e.options.useOnlyNativeEvents||!$||o)if("function"==typeof t.createEvent){if("function"!=typeof n.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=i[r]||"HTMLEvents",s=t.createEvent(a);s.initEvent(r,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(s)}else if(o&&n.click)n.click();else{if(void 0===n.fireEvent)throw new Error("Browser doesn't support triggering events");n.fireEvent("on"+r)}else $(n).trigger(r)};var l=/\S+/g;function u(t,n,r,o){var i=t[n].match(l)||[];e.utils.arrayForEach(r.match(l),(function(t){e.utils.addOrRemoveItem(i,t,o)})),t[n]=i.join(" ")}r.toggleDomNodeCssClass=function(t,n,r){var o;n&&("object"==typeof t.classList?(o=t.classList[r?"add":"remove"],e.utils.arrayForEach(n.match(l),(function(e){o.call(t.classList,e)}))):"string"==typeof t.className.baseVal?u(t.className,"baseVal",n,r):u(t,"className",n,r))},r.toggleObjectClassPropertyString=u,r.stringifyJson=function(t,n,r){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(e.utils.unwrapObservable(t),n,r)},r.postJson=function(n,o,i){var a=(i=i||{}).params||{},l=i.includeFields||r.fieldsIncludedWithJsonPost,u=n;if("object"==typeof n&&"form"===e.utils.tagNameLower(n)){var c=n;u=c.action;for(var d=l.length-1;d>=0;d--)for(var p=e.utils.getFormFields(c,l[d]),f=p.length-1;f>=0;f--)a[p[f].name]=p[f].value}o=e.utils.unwrapObservable(o);var m=t.createElement("form");for(var h in m.style.display="none",m.action=u,m.method="post",o){var v=t.createElement("input");v.type="hidden",v.name=h,v.value=e.utils.stringifyJson(e.utils.unwrapObservable(o[h])),m.appendChild(v)}e.utils.objectForEach(a,(function(e,n){var r=t.createElement("input");r.type="hidden",r.name=e,r.value=n,m.appendChild(r)})),t.body.appendChild(m),i.submitter?i.submitter(m):m.submit(),s((function(){m.parentNode.removeChild(m)}),0)},r.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var r=void 0,o=void 0,i=void 0,a=void 0,s=void 0;for(r=o=0;(!n||r<n)&&(a=e[o]);++o){for(i=0;s=t[i];++i)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(i,1),r=i=0;break}r+=i}}}}(e.utils||(e.utils={})),e.cleanNode=e.utils.domNodeDisposal.cleanNode,e.removeNode=e.utils.domNodeDisposal.removeNode,function(t){var n,r=[],o=0;function i(e){r.push(n),n=e}function a(){n=r.pop()}t.begin=i,t.end=a,t.registerDependency=function(t){if(n){if(!e.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");n.callback.call(n.callbackTarget,t,t._id||(t._id=++o))}},t.ignore=function(e,t,n){try{return i(),e.apply(t,n||[])}finally{a()}},t.getDependenciesCount=function(){if(n)return n.computed.getDependenciesCount()},t.isInitial=function(){if(n)return n.isInitial}}(r=e.dependencyDetection||(e.dependencyDetection={})),e.computedContext=r,function(t){function r(t,o){if(t)if(n(t,8)){var i=e.memoization.parseMemoText(t.nodeValue);null!==i&&o.push({domNode:t,memoId:i})}else if(n(t,1))for(var a=0,s=t.childNodes,l=s.length;a<l;a++)r(s[a],o)}t.unmemoizeDomNodeAndDescendants=function(t,n){var o=[];r(t,o);for(var i=0,a=o.length;i<a;i++){var s=o[i].domNode,l=[s];n&&e.utils.arrayPushAll(l,n),e.memoization.unmemoize(o[i].memoId,l),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}}}(e.memoization||(e.memoization={})),function(n){var r,o;n.scheduler=window.MutationObserver?(r=c,o=t.createElement("div"),new MutationObserver(r).observe(o,{attributes:!0}),function(){o.classList.toggle("foo")}):function(e){setTimeout(e,0)};var i=[],a=0,s=1,l=0;function u(){if(a)for(var t=a,n=0,r=void 0;l<a;)if(r=i[l++]){if(l>t){if(++n>=5e3){l=a,e.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}t=a}try{r()}catch(t){e.utils.deferError(t)}}}function c(){u(),l=a=i.length=0}n.runEarly=u,n.schedule=function(t){return a||e.tasks.scheduler(c),i[a++]=t,s++},n.cancel=function(e){var t=e-(s-a);t>=l&&t<a&&(i[t]=null)},n.resetForTesting=function(){var e=a-l;return l=a=i.length=0,e}}(e.tasks||(e.tasks={}));var i={undefined:1,boolean:1,number:1,string:1};function a(e,t){return!!(null===e||typeof e in i)&&e===t}!function(t){var n={debounce:function(t,n){var r;return function(){clearTimeout(r),r=e.utils.setTimeout(t,n)}},throttle:function(t,n){var r;return function(){r||(r=e.utils.setTimeout((function(){r=void 0,t()}),n))}}};function r(e,t){var r,o;"number"==typeof t?r=t:(r=t.timeout,o=t.method),e._deferUpdates=!1;var i="notifyWhenChangesStop"===o?n.debounce:n.throttle;e.limit((function(e){return i(e,r)}))}t.throttle=function(t,n){t.throttleEvaluation=n;var r=null;return e.computed({read:t,write:function(o){clearTimeout(r),r=e.utils.setTimeout((function(){t(o)}),n)}})},t.rateLimit=r,function(e){e.tasks=n}(r=t.rateLimit||(t.rateLimit={})),t.deferred=function(t,n){if(!0!==n)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t._deferUpdates||(t._deferUpdates=!0,t.limit((function(n){var r;return function(){e.tasks.cancel(r),r=e.tasks.schedule(n),t.notifySubscribers(void 0,"dirty")}})))},t.notify=function(e,t){e.equalityComparer="always"===t?null:a},t.trackArrayChanges=function(t,n){if(t.compareArrayOptions={},n&&"object"==typeof n&&e.utils.extend(t.compareArrayOptions,n),t.compareArrayOptions.sparse=!0,!t.cacheDiffForKnownOperation){var r,o,i=!1,a=null,s=0,l=t.beforeSubscriptionAdd,u=t.afterSubscriptionRemove;t.beforeSubscriptionAdd=function(n){l&&l.call(t,n),"arrayChange"===n&&function(){if(i)return;i=!0,o||(o=t.notifySubscribers,t.notifySubscribers=function(e,t){return i&&(t&&"change"!==t||++s),o.apply(this,arguments)});var n=[].concat(t.peek()||[]);a=null,r=t.subscribe((function(r){var o;r=[].concat(r||[]),t.hasSubscriptionsForEvent("arrayChange")&&(o=function(n,r){(!a||s>1)&&(a=e.utils.compareArrays(n,r,t.compareArrayOptions));return a}(n,r)),n=r,a=null,s=0,o&&o.length&&t.notifySubscribers(o,"arrayChange")}))}()},t.afterSubscriptionRemove=function(e){u&&u.call(t,e),"arrayChange"!==e||t.hasSubscriptionsForEvent("arrayChange")||(r.dispose(),i=!1)},t.cacheDiffForKnownOperation=function(t,n,r){if(i&&!s){var o=[],l=t.length,u=r.length,c=0;switch(n){case"push":c=l;case"unshift":for(var d=0;d<u;d++)b("added",r[d],c+d);break;case"pop":c=l-1;case"shift":l&&b("deleted",t[c],c);break;case"splice":for(var p=Math.min(Math.max(0,r[0]<0?l+r[0]:r[0]),l),f=1===u?l:Math.min(p+(r[1]||0),l),m=p+u-2,h=Math.max(f,m),v=[],g=[],y=(d=p,2);d<h;++d,++y)d<f&&g.push(b("deleted",t[d],d)),d<m&&v.push(b("added",r[y],d));e.utils.findMovesInArrayComparison(g,v);break;default:return}a=o}function b(e,t,n){return o[o.length]={status:e,value:t,index:n}}}}}}(e.extenders||(e.extenders={}))}(ko||(ko={})),function(e){function t(e,r,o){if(o=o||new n,!!("object"!=typeof(e=r(e))||null==e||e instanceof RegExp||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean))return e;var i=e instanceof Array?[]:{};return o.save(e,i),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var r in e)t(r)}(e,(function(n){var a=r(e[n]);switch(typeof a){case"boolean":case"number":case"string":case"function":i[n]=a;break;case"object":case"undefined":var s=o.get(a);i[n]=void 0!==s?s:t(a,r,o)}})),i}e.isObservable=function(t){return e.hasPrototype(t,e.observable)},e.isSubscribable=function(e){return e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},function(t){t.extend=function(e,t){if(t)for(var n=Object.keys(t),r=0,o=n.length;r<o;r++){var i=n[r];e[i]=t[i]}return e},t.arrayForEach=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},t.arrayIndexOf=function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.arrayFirst=function(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r))return e[r];return null},t.arrayRemoveItem=function(t,n){var r=e.utils.arrayIndexOf(t,n);r>0?t.splice(r,1):0===r&&t.shift()},t.arrayGetDistinctValues=function(t){for(var n=[],r=0,o=(t=t||[]).length;r<o;r++)e.utils.arrayIndexOf(n,t[r])<0&&n.push(t[r]);return n},t.arrayMap=function(e,t){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)n.push(t(e[r],r));return n},t.arrayFilter=function(e,t){for(var n=[],r=0,o=(e=e||[]).length;r<o;r++)t(e[r],r)&&n.push(e[r]);return n},t.arrayPushAll=function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},t.unwrapObservable=function(t){return e.isObservable(t)?t():t},t.peekObservable=function(t){return e.isObservable(t)?t.peek():t}}(e.utils||(e.utils={})),function(t){var n="added",r="deleted";function o(t,n,r,o,i){var a,s,l,u,c,d=Math.min,p=Math.max,f=[],m=t.length,h=n.length,v=h-m||1,g=m+h+1;for(a=0;a<=m;a++)for(u=l,f.push(l=[]),c=d(h,a+v),s=p(0,a-1);s<=c;s++)if(s)if(a)if(t[a-1]===n[s-1])l[s]=u[s-1];else{var y=u[s]||g,b=l[s-1]||g;l[s]=d(y,b)+1}else l[s]=s+1;else l[s]=a+1;var x,C=[],_=[],w=[];for(a=m,s=h;a||s;)x=f[a][s]-1,s&&x===f[a][s-1]?_.push(C[C.length]={status:r,value:n[--s],index:s}):a&&x===f[a-1][s]?w.push(C[C.length]={status:o,value:t[--a],index:a}):(--s,--a,i.sparse||C.push({status:"retained",value:n[s]}));return e.utils.findMovesInArrayComparison(w,_,!i.dontLimitMoves&&10*m),C.reverse()}t.compareArrays=function(e,t,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],(e=e||[]).length<t.length?o(e,t,n,r,i):o(t,e,r,n,i)}}(e.utils||(e.utils={})),e.unwrap=e.utils.unwrapObservable,e.toJS=function(n){if(0===arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return t(n,(function(t){for(var n=0;e.isObservable(t)&&n<10;n++)t=t();return t}))},e.toJSON=function(t,n,r){var o=e.toJS(t);return e.utils.stringifyJson(o,n,r)};var n=function(){function t(){this.keys=[],this.values=[]}return t.prototype.save=function(t,n){var r=e.utils.arrayIndexOf(this.keys,t);r>=0?this.values[r]=n:(this.keys.push(t),this.values.push(n))},t.prototype.get=function(t){var n=e.utils.arrayIndexOf(this.keys,t);return n>=0?this.values[n]:void 0},t}();e.ignoreDependencies=e.dependencyDetection.ignore}(ko||(ko={})),function(e){var t=this||globalThis,n=t.Object;!function(t){var r=void 0!==t?t:{},o={undefined:1,boolean:1,number:1,string:1};function i(e,t){return!(null!==e&&!(typeof e in o))&&e===t}function a(e){var t=this;return e&&r.utils.objectForEach(e,(function(e,n){var o=r.extenders[e];"function"==typeof o&&(t=o(t,n)||t)})),t}r.subscribable=function(){n.setPrototypeOf(this,u),u.init(this)};var s="change";function l(e,t){t&&t!==s?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}var u={init:function(e){e._subscriptions={},e._versionNumber=1},subscribe:function(e,t,n){var o=this;n=n||s;var i=t?e.bind(t):e,a=new r.subscription(o,i,(function(){r.utils.arrayRemoveItem(o._subscriptions[n],a),o.afterSubscriptionRemove&&o.afterSubscriptionRemove(n)}));return o.beforeSubscriptionAdd&&o.beforeSubscriptionAdd(n),o._subscriptions[n]||(o._subscriptions[n]=[]),o._subscriptions[n].push(a),a},notifySubscribers:function(e,t){if((t=t||s)===s&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{r.dependencyDetection.begin();for(var n,o=this._subscriptions[t].slice(0),i=0;n=o[i];++i)n.isDisposed||n.callback(e)}finally{r.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,o,i=this,a=r.isObservable(i),s="beforeChange";i._origNotifySubscribers||(i._origNotifySubscribers=i.notifySubscribers,i.notifySubscribers=l);var u=e((function(){i._notificationIsPending=!1,a&&o===i&&(o=i()),t=!1,i.isDifferent(n,o)&&i._origNotifySubscribers(n=o)}));i._limitChange=function(e){i._notificationIsPending=t=!0,o=e,u()},i._limitBeforeChange=function(e){t||(n=e,i._origNotifySubscribers(e,s))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return r.utils.objectForEach(this._subscriptions,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:a};r.exportProperty(u,"subscribe",u.subscribe),r.exportProperty(u,"extend",u.extend),r.exportProperty(u,"getSubscriptionsCount",u.getSubscriptionsCount),n.setPrototypeOf(u,Function.prototype),r.subscribable.fn=u,r.exportSymbol("subscribable",r.subscribable);var c=r.utils.createSymbolOrString("_latestValue");r.observable=function(e){function t(){return arguments.length>0?(t.isDifferent(t[c],arguments[0])&&(t.valueWillMutate(),t[c]=arguments[0],t.valueHasMutated()),this):(r.dependencyDetection.registerDependency(t),t[c])}return t[c]=e,r.subscribable.fn.init(t),n.setPrototypeOf(t,d),r.options.deferUpdates&&r.extenders.deferred(t,!0),t};var d={equalityComparer:i,peek:function(){return this[c]},valueHasMutated:function(){this.notifySubscribers(this[c],"spectate"),this.notifySubscribers(this[c])},valueWillMutate:function(){this.notifySubscribers(this[c],"beforeChange")}};n.setPrototypeOf(d,r.subscribable.fn);var p=r.observable.protoProperty="__ko_proto__";d[p]=r.observable,r.hasPrototype=function(t,n){return null!==t&&t!==e&&t[p]!==e&&(t[p]===n||r.hasPrototype(t[p],n))},r.isWriteableObservable=function(e){return"function"==typeof e&&e[p]===r.observable||!("function"!=typeof e||e[p]!==r.dependentObservable||!e.hasWriteFunction)},r.exportSymbol("observable",r.observable),r.exportSymbol("isObservable",r.isObservable),r.exportSymbol("isWriteableObservable",r.isWriteableObservable),r.exportSymbol("isWritableObservable",r.isWriteableObservable),r.exportSymbol("observable.fn",d),r.exportProperty(d,"peek",d.peek),r.exportProperty(d,"valueHasMutated",d.valueHasMutated),r.exportProperty(d,"valueWillMutate",d.valueWillMutate),r.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=r.observable(e);return n.setPrototypeOf(t,r.observableArray.fn),t.extend({trackArrayChanges:!0})},r.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],o="function"!=typeof e||r.isObservable(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var a=t[i];o(a)&&(0===n.length&&this.valueWillMutate(),n.push(a),t.splice(i,1),i--)}return n.length&&this.valueHasMutated(),n},removeAll:function(t){if(t===e){var n=this.peek(),o=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),o}return t?this.remove((function(e){return r.utils.arrayIndexOf(t,e)>=0})):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||r.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var o=t.length-1;o>=0;o--)n(t[o])&&(t[o]._destroy=!0);this.valueHasMutated()},destroyAll:function(t){return t===e?this.destroy((function(){return!0})):t?this.destroy((function(e){return r.utils.arrayIndexOf(t,e)>=0})):[]},indexOf:function(e){var t=this();return r.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},n.setPrototypeOf(r.observableArray.fn,r.observable.fn),r.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){r.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,[].slice.apply(arguments));var n=t[e].apply(t,arguments);return this.valueHasMutated(),n===t?this:n}})),r.utils.arrayForEach(["slice"],(function(e){r.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),r.exportSymbol("observableArray",r.observableArray);var f=r.utils.createSymbolOrString("_state");function m(e,t){null!==t&&t.dispose&&t.dispose()}function h(e,t){var n=this.computedObservable,r=n[f];r.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):r.dependencyTracking[t]||n.addDependencyTracking(t,e,r.isSleeping?{_target:e}:n.subscribeToDependency(e)))}r.computed=r.dependentObservable=function(t,o,i){if("object"==typeof t?i=t:(i=i||{},t&&(i.read=t)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var a=i.write,s={latestValue:e,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:i.read,evaluatorFunctionTarget:o||i.owner,disposeWhenNodeIsRemoved:i.disposeWhenNodeIsRemoved||i.disposeWhenNodeIsRemoved||null,disposeWhen:i.disposeWhen||i.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};function l(){if(arguments.length>0){if("function"!=typeof a)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return a.apply(s.evaluatorFunctionTarget,arguments),this}return r.dependencyDetection.registerDependency(l),(s.isStale||s.isSleeping&&l.haveDependenciesChanged())&&l.evaluateImmediate(),s.latestValue}return l[f]=s,l.hasWriteFunction="function"==typeof a,r.subscribable.fn.init(l),n.setPrototypeOf(l,v),i.pure?(s.pure=!0,s.isSleeping=!0,r.utils.extend(l,g)):i.deferEvaluation&&r.utils.extend(l,y),r.options.deferUpdates&&r.extenders.deferred(l,!0),s.disposeWhenNodeIsRemoved&&(s.suppressDisposalUntilDisposeWhenReturnsFalse=!0,s.disposeWhenNodeIsRemoved.nodeType||(s.disposeWhenNodeIsRemoved=null)),s.isSleeping||i.deferEvaluation||l.evaluateImmediate(),s.disposeWhenNodeIsRemoved&&l.isActive()&&r.utils.domNodeDisposal.addDisposeCallback(s.disposeWhenNodeIsRemoved,s.domNodeDisposalCallback=function(){l.dispose()}),l};var v={equalityComparer:i,getDependenciesCount:function(){return this[f].dependenciesCount},addDependencyTracking:function(e,t,n){if(this[f].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[f].dependencyTracking[e]=n,n._order=this[f].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){for(var e,t=this[f].dependencyTracking,r=n.keys(t),o=0,i=r.length;o<i;o++)if((e=t[r[o]])._target.hasChanged(e._version))return!0},markDirty:function(){this._evalDelayed&&!this[f].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[f].isStale||this[f].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[f].disposeWhenNodeIsRemoved){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&t>=0?(clearTimeout(this[f].evaluationTimeoutInstance),this[f].evaluationTimeoutInstance=r.utils.setTimeout((function(){e.evaluateImmediate(!0)}),t)):e._evalDelayed?e._evalDelayed():e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this,n=t[f],o=n.disposeWhen,i=!1;if(!n.isBeingEvaluated&&!n.isDisposed){if(n.disposeWhenNodeIsRemoved&&!r.utils.domNodeIsAttachedToDocument(n.disposeWhenNodeIsRemoved)||o&&o()){if(!n.suppressDisposalUntilDisposeWhenReturnsFalse)return void t.dispose()}else n.suppressDisposalUntilDisposeWhenReturnsFalse=!1;n.isBeingEvaluated=!0;try{i=this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{n.isBeingEvaluated=!1}return n.dependenciesCount||t.dispose(),i}},evaluateImmediate_CallReadWithDependencyDetection:function(t){var n=this,o=n[f],i=!1,a=o.pure?e:!o.dependenciesCount,s={computedObservable:n,disposalCandidates:o.dependencyTracking,disposalCount:o.dependenciesCount};r.dependencyDetection.begin({callbackTarget:s,callback:h,computed:n,isInitial:a}),o.dependencyTracking={},o.dependenciesCount=0;var l=this.evaluateImmediate_CallReadThenEndDependencyDetection(o,s);return n.isDifferent(o.latestValue,l)&&(o.isSleeping||n.notifySubscribers(o.latestValue,"beforeChange"),o.latestValue=l,n.notifySubscribers(o.latestValue,"spectate"),o.isSleeping?n.updateVersion():t&&n.notifySubscribers(o.latestValue),i=!0),a&&n.notifySubscribers(o.latestValue,"awake"),i},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{r.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&r.utils.objectForEach(t.disposalCandidates,m),e.isStale=!1}},peek:function(){var e=this[f];return(e.isStale&&!e.dependenciesCount||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue},limit:function(e){r.subscribable.fn.limit.call(this,e),this._evalDelayed=function(){this._limitBeforeChange(this[f].latestValue),this[f].isStale=!0,this._limitChange(this)}},dispose:function(){var e=this[f];!e.isSleeping&&e.dependencyTracking&&r.utils.objectForEach(e.dependencyTracking,(function(e,t){t.dispose&&t.dispose()})),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&r.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null}},g={beforeSubscriptionAdd:function(e){var t=this,n=t[f];if(!n.isDisposed&&n.isSleeping&&"change"==e){if(n.isSleeping=!1,n.isStale||t.haveDependenciesChanged())n.dependencyTracking=null,n.dependenciesCount=0,n.isStale=!0,t.evaluateImmediate()&&t.updateVersion();else{var o=[];r.utils.objectForEach(n.dependencyTracking,(function(e,t){o[t._order]=e})),r.utils.arrayForEach(o,(function(e,r){var o=n.dependencyTracking[e],i=t.subscribeToDependency(o._target);i._order=r,i._version=o._version,n.dependencyTracking[e]=i}))}n.isDisposed||t.notifySubscribers(n.latestValue,"awake")}},afterSubscriptionRemove:function(t){var n=this[f];n.isDisposed||"change"!=t||this.hasSubscriptionsForEvent("change")||(r.utils.objectForEach(n.dependencyTracking,(function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())})),n.isSleeping=!0,this.notifySubscribers(e,"asleep"))},getVersion:function(){var e=this[f];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),r.subscribable.fn.getVersion.call(this)}},y={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};n.setPrototypeOf(v,r.subscribable.fn);var b=r.observable.protoProperty;r.computed[b]=r.observable,v[b]=r.computed,r.isComputed=function(e){return r.hasPrototype(e,r.computed)},r.isPureComputed=function(e){return r.hasPrototype(e,r.computed)&&e[f]&&e[f].pure},r.exportSymbol("computed",r.computed),r.exportSymbol("dependentObservable",r.computed),r.exportSymbol("isComputed",r.isComputed),r.exportSymbol("isPureComputed",r.isPureComputed),r.exportSymbol("computed.fn",v),r.exportProperty(v,"peek",v.peek),r.exportProperty(v,"dispose",v.dispose),r.exportProperty(v,"isActive",v.isActive),r.exportProperty(v,"getDependenciesCount",v.getDependenciesCount),r.pureComputed=function(e,t){return"function"==typeof e?r.computed(e,t,{pure:!0}):((e=r.utils.extend({},e)).pure=!0,r.computed(e,t))},r.exportSymbol("pureComputed",r.pureComputed)}(t.ko)}(),
/*! Knockout projections plugin - version 1.1.0
------------------------------------------------------------------------------
Copyright (c) Microsoft Corporation
All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
THIS CODE IS PROVIDED *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions and limitations under the License.
------------------------------------------------------------------------------
*/
function(e){var t={};function n(e,t,n,r,o,i,a){this.inputItem=t,this.stateArrayIndex=n,this.mappingOptions=o,this.arrayOfState=i,this.outputObservableArray=a,this.outputArray=this.outputObservableArray.peek(),this.isIncluded=null,this.suppressNotification=!1,this.outputArrayIndex=e.observable(r),this.disposeFuncFromMostRecentMapping=null,this.mappedValueComputed=e.computed(this.mappingEvaluator,this),this.mappedValueComputed.subscribe(this.onMappingResultChanged,this),this.previousMappedValue=this.mappedValueComputed.peek()}function r(e,t){if(!e)return null;switch(e.status){case"added":return e.index;case"deleted":return e.index+t;default:throw new Error("Unknown diff status: "+e.status)}}function o(e,t,r,o,i,a,s,l,u){var c="number"==typeof t.moved,d=c?r[t.moved]:new n(e,t.value,o,i,a,s,l);return s.splice(o,0,d),d.isIncluded&&u.splice(i,0,d.mappedValueComputed.peek()),c&&(d.stateArrayIndex=o,d.setOutputArrayIndexSilently(i)),d}function i(e,t,n,r,o){var i=t.splice(n,1)[0];i.isIncluded&&o.splice(r,1),"number"!=typeof e.moved&&i.dispose()}function a(e,t,n){return e.stateArrayIndex=t,e.setOutputArrayIndexSilently(n),n+(e.isIncluded?1:0)}function s(e,t){var s=[],l=[],u=e.observableArray(l),d=this.peek();if("function"==typeof t&&(t={mapping:t}),t.mappingWithDisposeCallback){if(t.mapping||t.disposeItem)throw new Error("'mappingWithDisposeCallback' cannot be used in conjunction with 'mapping' or 'disposeItem'.")}else if(!t.mapping)throw new Error("Specify either 'mapping' or 'mappingWithDisposeCallback'.");for(var p=0;p<d.length;p++){var f=d[p],m=new n(e,f,p,l.length,t,s,u),h=m.mappedValueComputed.peek();s.push(m),m.isIncluded&&l.push(h)}var v=function(e,t,n,s,l,u){return t.subscribe((function(t){if(t.length){for(var c=function(e,t){for(var n={},r=0;r<e.length;r++){var o=e[r];"added"===o.status&&"number"==typeof o.moved&&(n[o.moved]=t[o.moved])}return n}(t,n),d=0,p=t[0],f=0,m=p&&function(e,t,n){return n.length&&t[e.index]?t[e.index].outputArrayIndex.peek():n.length}(p,n,s),h=p.index;p||h<n.length;h++)if(r(p,f)===h){switch(p.status){case"added":o(e,p,c,h,m,u,n,l,s).isIncluded&&m++,f++;break;case"deleted":i(p,n,h,m,s),f--,h--;break;default:throw new Error("Unknown diff status: "+p.status)}p=t[++d]}else h<n.length&&(m=a(n[h],h,m));l.valueHasMutated()}}),null,"arrayChange")}(e,this,s,l,u,t),g=e.computed(u).extend({trackArrayChanges:!0}),y=g.dispose;return g.dispose=function(){v.dispose(),e.utils.arrayForEach(s,(function(e){e.dispose()})),y.call(this,arguments)},c(e,g),g}function l(e,n){return s.call(this,e,(function(e){return n(e)?e:t}))}n.prototype.dispose=function(){this.mappedValueComputed.dispose(),this.disposeResultFromMostRecentEvaluation()},n.prototype.disposeResultFromMostRecentEvaluation=function(){if(this.disposeFuncFromMostRecentMapping&&(this.disposeFuncFromMostRecentMapping(),this.disposeFuncFromMostRecentMapping=null),this.mappingOptions.disposeItem){var e=this.mappedValueComputed();this.mappingOptions.disposeItem(e)}},n.prototype.mappingEvaluator=function(){var e;if(null!==this.isIncluded&&this.disposeResultFromMostRecentEvaluation(),this.mappingOptions.mapping)e=this.mappingOptions.mapping(this.inputItem,this.outputArrayIndex);else{if(!this.mappingOptions.mappingWithDisposeCallback)throw new Error("No mapping callback given.");var n=this.mappingOptions.mappingWithDisposeCallback(this.inputItem,this.outputArrayIndex);if(!("mappedValue"in n))throw new Error("Return value from mappingWithDisposeCallback should have a 'mappedItem' property.");e=n.mappedValue,this.disposeFuncFromMostRecentMapping=n.dispose}var r=e!==t;return this.isIncluded!==r&&(null!==this.isIncluded&&this.moveSubsequentItemsBecauseInclusionStateChanged(r),this.isIncluded=r),e},n.prototype.onMappingResultChanged=function(e){e!==this.previousMappedValue&&(this.isIncluded&&this.outputArray.splice(this.outputArrayIndex.peek(),1,e),this.suppressNotification||this.outputObservableArray.valueHasMutated(),this.previousMappedValue=e)},n.prototype.moveSubsequentItemsBecauseInclusionStateChanged=function(e){var t,n,r=this.outputArrayIndex.peek();if(e)for(this.outputArray.splice(r,0,null),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)(n=this.arrayOfState[t]).setOutputArrayIndexSilently(n.outputArrayIndex.peek()+1);else for(this.outputArray.splice(r,1),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)(n=this.arrayOfState[t]).setOutputArrayIndexSilently(n.outputArrayIndex.peek()-1)},n.prototype.setOutputArrayIndexSilently=function(e){this.suppressNotification=!0,this.outputArrayIndex(e),this.suppressNotification=!1};var u="_ko.projections.cache";function c(e,t){return e.utils.extend(t,e[u]),t}function d(e){e.projections={_exclusionMarker:t},function(e){function t(e,t){return function(){return t.apply(this,[e].concat(Array.prototype.slice.call(arguments,0)))}}e[u]={map:t(e,s),filter:t(e,l)}}(e),c(e,e.observableArray.fn)}!function(){if("undefined"!=typeof module&&void 0!==module.exports){var t=require("knockout");d(t),module.exports=t}else"ko"in e&&d(e.ko)}()}(this),window.performance.mark("OssEnd"),fx.bootstrapTelemetry.ossFxScriptsEnd=fx.getTimestamp(),function(e){var t=e.document,n=e.Object,r=e.Array,o=e.console,i=e.Math.random,a=ce(),s=ce();s.require=s.exports=s.module=null;var l,u,c,d,p,f,m=ce(),h=ce(),v=ce(),g=ce(),y=ce(),b=ce(),x=ce(),C=ce(),_=ce(),w=ce(),P=ce(),E=ce(),F=ce(),M=ce(),S=ce(),I=ce(),k=[],A=ce(),T=ce(),D=ce(),R=ce(),B=new Set,N=new Set,O="function"==typeof e.importScripts,L=e.Promise,j="_preorder_anonymous_define_",V="-preorder-shim",H=/[^/]+\/\.\.\/|\/\.(\/)|^\.\//,W=/\.js(?:[?#]|$)/,q=/^\/|:|\?|\.js$/,z=/^data:|^blob:/,U=/^\/|^https?:/,G=/[&?]retryAttempt=/,$=/(.+\/)/,K=408,Q=3e4,J=function(){},X=!O&&function(){var e=L.resolve(),n=null,r=t.createDocumentFragment();function o(){r.childNodes.length&&(t.head.appendChild(r),r=t.createDocumentFragment(),n=null)}return{appendChild:function(t){r.appendChild(t),n=n||e.then(o)},appendToDocument:function(){window.MsPortalFx&&window.MsPortalFx.isFeatureEnabled&&!window.MsPortalFx.isFeatureEnabled("pretick")||o()}}}(),Z="/",Y=0,ee=!1,te="",ne=J,re=J,oe=J,ie=function(e,t){return e},ae=function(e,t,n,r){r||se(e,t,n)},se=function(e,t,n){n?o.warn(t):o.error(t)},le=[];function ue(e,t){return e&&t&&e.endsWith(t)}function ce(){return n.create(null)}function de(e){return e?n.keys(e):[]}function pe(e){return e+(W.test(e)||z.test(e)?"":".js")}function fe(e){return[].concat.apply([],me(e).map((function(e){return E[e]||[]})))}function me(e){var t=[e];return ue(e,"/index")?t.push(e.substring(0,e.length-6)):(t.push(e+"/index"),!ue(e,"/lib")&&t.push(e+"/lib/index")),t}function he(e,t,n,r){void 0===r&&(r=Z);var o=n[e];if(!o)for(var i=0,a=me(e);i<a.length;i++){var s=a[i];if(o=n[s]){T[e]=s.substring(0,s.lastIndexOf("/")+1);break}}if(o){b[e]=!0;var l=W.test(o)||z.test(o),u=t||l||o.includes("?")?"":".js";o=(l||U.test(o)?"":r)+o+u}else if(q.test(e))o=e,x[e]=!0;else{var c="";e.split("/").reduce((function(e,t){var r=(e&&t&&e+"/"||e)+t;return o&&(c+=t&&"/"+t),n[r]&&(o=n[r],c=""),r}),""),o=((o||"")+c||(e.startsWith("/")||/^[\w+.-]+:/.test(e)?"":r)+e)+(t?"":".js")}if(o.includes("@https://")){var d=o.split("@https://");o="https://"+d[1]}return o}function ve(e,t,n){a[e]||(a[j]?Be(e,[],j):n||we(e,t,null,'Module "'.concat(e,'" wasn\'t defined explicitly or anonymously in downloaded file "').concat(t,'"; trying fallback path.'))),n&&n()}function ge(e,t){try{e()}catch(e){var n="(Unserializable)";try{n=JSON.stringify(e,(function(e,t){return t instanceof Error?{message:t.message,stack:t.stack}:t}))}catch(e){}t(n)}}function ye(n,r,o,i){if(void 0===i&&(i=!1),!i&&(null==c||c(r,!0)),O)ge((function(){e.importScripts(r),ve(n,r,o)}),(function(e){we(n,r,o,'self.importscripts failed for "'.concat(n,'" at "').concat(r,'" with error ').concat(e,", retrying."),{warn:1})}));else{R[r]||(R[r]={loadSuccessful:!1,attemptedFallbacks:[r]});var a=t.createElement("script");a.setAttribute("data-requiremodule",n),a.async=!0,a.src=r,a.crossOrigin="anonymous";var s=setTimeout((function(){var e;(null===(e=R[r])||void 0===e?void 0:e.loadSuccessful)||we(n,a.src,o,'define for "'.concat(n,'" wasn\'t called because of a script timeout for "{').concat(r,'}", trying Ajax call.'),{warn:1,status:K})}),Q);if(a.onerror=function(e){var t;if(clearTimeout(s),!(null===(t=R[r])||void 0===t?void 0:t.loadSuccessful)){var i=e&&e.target&&"[".concat(e.target.src,"]")||"{".concat(r,"}");we(n,a.src,o,'define for "'.concat(n,'" wasn\'t called because of a script error for "').concat(i,'", trying Ajax call.'),{warn:1})}},a.onload=function(){var e=R[r];e&&(e.loadSuccessful=!0),!i&&(null==c||c(r,!1)),clearTimeout(s),ve(n,r,o)},l&&l(a,f,n,r),ee){var u=t.createElement("link");u.rel="preload",u.as="script",u.href=a.src,u.crossOrigin="anonymous",X.appendChild(u)}X.appendChild(a)}}function be(e,t,n){if(void 0===n&&(n={}),!(e in s)){var r=new Error(t);r.data=__assign({moduleId:e},n),!n.skipLogging&&ae(e,r,0),Fe(e,null,r)}}function xe(t){return t&&(t.startsWith("data:")||t.startsWith("blob:"))?L.resolve({status:200}):L.race([e.fetch(t).then((function(e){return{status:e.status,message:function(){return e.text()}}})),new L((function(e){setTimeout((function(){return e({status:K,message:function(){return L.resolve("Internal timeout")}})}),Q)}))])}function Ce(e){return e&&new URL(e).hostname}function _e(e,t){w[pe(e)]=t.map(pe)}function we(n,r,o,a,s){void 0===s&&(s={});var l=s.status===K,u=Ce(r),c=l&&N.has(u);l&&N.add(u);var d=function(e){var t=(w[e]||[]).shift();return t?w[t]=w[e]:t=!G.test(e)&&e+"".concat(e.includes("?")?"&":"?","retryAttempt=").concat(1+i()),t}(r);if(d){if(l&&Ce(d)!==u&&B.add(u),!c&&ae(n,a,s.warn),!O){var p=R[r];p&&(R[d]=p,p.attemptedFallbacks.push(d))}if(G.test(d)){if("hidden"===t.visibilityState){var f=function(){"visible"===t.visibilityState&&(e.removeEventListener("visibilitychange",f),Se(n,d,o,!0))};return void e.addEventListener("visibilitychange",f)}if(!e.navigator.onLine){var m=function(){e.removeEventListener("online",m),Se(n,d,o,!0)};return void e.addEventListener("online",m)}}Se(n,d,o,!0)}else be(n,a,__assign(__assign({},s),{skipLogging:c}))}function Pe(e,t,n){null==c||c(t,!0),xe(t).then((function(r){200===r.status?(null==c||c(t,!1),ye(e,t,n,!0)):we(e,t,n,"Couldn't load \"".concat(e,'"; error code ').concat(r.status),{status:r.status,moduleUrl:t})}),(function(r){we(e,t,n,"Couldn't load \"".concat(e,'"; error code 0'),{status:0,moduleUrl:t,error:r})}))}function Ee(e,t){var n,r;(re(e),m[e])||(m[e]={preorderPromise:new L((function(o,i){n=o,t&&(n.error=t),r=function(t){t=t||"[Unknown error]",m[e].rejected=t,i(t)}})),resolve:n,reject:r});return m[e]}function Fe(e,t,n){re(e,!0),oe(e,1),!n&&(s[e]=t);var r=m[e];r&&(n?r.reject(n):r.resolve(t))}function Me(e){var t=e.indexOf("!");if(t>-1)return e.slice(0,t)}function Se(e,t,n,r){B.has(Ce(t))?we(e,t,n,'Skipping source "'.concat(t,'" for module "').concat(e,'" as its host has previously timed out.'),{warn:1,status:K}):(r||O?Pe:ye)(e,t,n)}function Ie(e,t,n){t=De(ie(t,e)),oe(t,0,e);for(var r=0,o=Ne(t,!0);r<o.length;r++){var i=o[r];if(i in s||m[i]||!a[i]||Oe(i,a[i][0],a[i][1]),i in s||m[i])return i in s?s[i]:m[i]}var l=Me(t);if(l){if(l in s||m[l]){var c=Ee(t,(function(e){return ae(t,"Plugin loading error : "+e)})),d=t.slice(l.length+1);return l in s?s[l].load(d,Ae(e),m[t].resolve,f):m[l].preorderPromise.then((function(n){return n.load(d,Ae(e),m[t].resolve,f)})),c}ae(t,'Module "'.concat(t,'", needed by "').concat(e,'", needs plugin "').concat(l,'" which is not defined nor pending at this point.  Attempting to load as normal module.'),1)}!function(e){if(!(e in F))return;var t=new Set,n=function(e){if(!t.has(e)){t.add(e);for(var r=0,o=fe(e);r<o.length;r++){var i=o[r];n(i)}}};F[e].forEach((function(e){return n(e)}));var r=[],o="URL_NOT_FOUND";t.forEach((function(t){var n,i=he(t,!1,C,o);i.includes(o)||h[i]||(h[i]=!0,ne((function(){return'Downloading "'.concat(i,'" for "').concat(t,'" needed by fetchMetaDependency for "').concat(e,'".')})),u&&r.push(new L((function(e){return n=e}))),Se(t,i,n))})),u&&u(e,L.all(r))}(t);var p=he(t,!1,y);if(!h[p])if(h[p]=!0,ne((function(){return'Downloading "'.concat(p,'" for "').concat(t,'" needed by "').concat(e.substring(0,e.indexOf(" Error"))||e,'".')})),n)xe(p),Oe(t+V+"-dependencies",Le(t),(function(){Se(t+V+"-content",p,(function(){var e=a[t+V+"-content"]||[[],null];Oe(t,e[0],e[1])}))}));else{var v=!b[t]&&function(){a[t]||(x[t]||ae(t,'Module "'.concat(t,'" wasn\'t defined explicitly or anonymously in downloaded file "').concat(p,'".  Will proceed assuming it loaded correctly.')),Be(t,[],null))};Se(t,p,v)}return Ee(t)}function ke(e,t){if(!t)return e;if(t.startsWith(".")&&(t=(T[e]||(T[e]=($.exec(e)||[""])[0]))+t),~t.indexOf("./")||~t.indexOf("/."))for(;H.test(t);)t=t.replace(H,"$1");return t}function Ae(e){if(v[e])return v[e];var t=function(t){return ke(e,t)},n=function(e,n,o,i){if("string"==typeof e){if((e=De(t(e)))in s)return s[e];!function(e,t){throw ae(e,t),t}(e,'Uncaught Error: Module name "'.concat(e,'" has not been loaded yet. Use require([]).'))}var a,l="require "+Y++;D[l]=!0,r.isArray(e)?a=[l,e,n]:(je(e),a=r.isArray(n)?[l,n,o]:[l,[],n]);var u=a[1];return u&&(u=u.map(t),a[1]=u.concat.apply(u,u.map((function(e){return Le(e)||[]}))),ne((function(){return"Manually requiring "+JSON.stringify(u)+" which has the following known dependencies "+JSON.stringify(a[1])}))),Oe.apply(null,a),m[l]&&m[l].preorderPromise.then(null,i||o),X&&X.appendToDocument(),v[l]};return n.normalize=t,n.toUrl=function(e){return he(e,!0,y)},n.isPreorder=!0,v[e]=n}function Te(e){var t=M[e];return void 0===t&&(t=M[e]=!!~e.indexOf("**Shim")||!!~e.indexOf(V)),t}function De(e){var t=A[e];return t||(t=A[e]=function(e){return k.reduce((function(e,t){return e.startsWith(t[0]+"/")||e===t[0]?e.replace(t[0],t[1]):e}),e)}(e)),t}function Re(e,t,n,o,i){var a,s=e,l=t,u=n;"string"!=typeof s&&(u=l,l=s,s=null!==(a=null==i?void 0:i.getAttribute("data-requiremodule"))&&void 0!==a?a:j),r.isArray(l)||(u=l,l=[]);var c=!o&&Le(s);c&&(l=l?l.concat(c):c),l&&l.length||(l=["require","exports","module"]);var d=Me(s);d&&(l=l?l.concat(d):[d]);var p=o?s:De(s);return l&&!o&&(l=l.reduce((function(e,t){var n=ke(s,t),r=De(n);return r!==n&&r===p||e.push(r),e}),[])),[p,l||[],u]}function Be(e,n,r){var o,i;if(o=Re(e,n,r,!0,null==t?void 0:t.currentScript),e=o[0],n=o[1],r=o[2],!a[e]){a[e]=[n,r],r===j&&(a[e]=(n=(i=a[j])[0],r=i[1],i),a[j]=null);for(var s=0,l=Ne(e,!1);s<l.length;s++){var u=l[s],c=n.map((function(t){return ke(e,t)}));m[u]&&Oe(u,c,r),a[u]=[c,r]}m[e]&&Oe(e,n,r)}}function Ne(e,t){var n=[];t&&n.push(e);for(var r=0,o=["/index","/lib/index"];r<o.length;r++){var i=o[r];if(ue(e,i)){var a=e.substring(0,e.length-i.length);!y[a]&&n.push(a)}}return n}function Oe(e,t,o){var i;if(i=Re(e,t,o),e=i[0],t=i[1],o=i[2],e in s)ae(e,"Tried to re-execute module definition of "+e,1);else{Ee(e);var a=function(){var i,a,s;i=function(e,t){var n=!Te(e)&&S[e];n&&(t=t.concat(de(n))),ne((function(){return'Loading dependencies for "'.concat(e.substring(0,e.indexOf(" Error"))||e,'", which are ').concat(JSON.stringify(t))}));for(var o=new r(t.length),i=function(n){var r=t[n];"require"===r?o[n]=Ae(e):"exports"===r?o[n]=g[e]={_exportsDefinedId:e}:"module"===r?o[n]={id:e}:Te(r)?(t.forEach((function(e){return(S[e]||(S[e]=ce()))[r]=!0})),o[n]=Ie(e,r,!0)):o[n]=Ie(e,r)},a=t.length-1;a>=0;--a)i(a);return o}(e,t),a=function(t){o&&"function"!=typeof o?Fe(e,o):ge((function(){var r=function(){var r=g[e],i=n.defineProperty,a=void 0;try{n.defineProperty=window.MsPortalFx&&MsPortalFx.defineProperty||n.defineProperty,a=o&&o.apply(r,t)}finally{n.defineProperty=i}Fe(e,a||r)};d?d(e,r):r()}),(function(t){return be(e,"Couldn't load \"".concat(e,'" at "').concat(he(e,!1,y),'" as the following exception was thrown; ').concat(t))}))},s=function(n){var r,o=t.filter((function(e){return m[e]&&m[e].rejected})),i=D[e]?"Manual require of the following modules failed":"Couldn't load \"".concat(e,'" at "').concat(he(e,!1,y),'" as the following dependencies failed to load'),a=o.map((function(e){var t=m[e].rejected,n=t.data,o=n.status,i=n.moduleUrl,a=t.message;return r=void 0===r?o:r,{name:e,moduleUrl:i,message:a,status:o}}));be(e,"".concat(i,"; [").concat(o.map((function(e){return'"'.concat(e,'" : {').concat(m[e].rejected,"}")})).join(","),"];"),{status:r,failedModules:a})},i&&i.length&&i.some((function(e){return e&&e.preorderPromise&&e.preorderPromise.then}))?L.all(i.map((function(e){return e&&e.preorderPromise&&e.preorderPromise.then&&e.preorderPromise||e}))).then(a,s):a(i)},l=r.from(new Set(t.map((function(e){return le.find((function(t){return e.startsWith(t)}))})).filter(Boolean))),u=l.map((function(e){if(_[e])return _[e];var t=p[e]().then((function(t){t?je(t):delete _[e]}));return _[e]=t,t}));u.length?L.all(u).then((function(){return a()})):a()}}function Le(e){e=De(e);var t=P[e];if(!t){t=P[e]=[];for(var n=0,r=fe(e);n<r.length;n++){var o=r[n];t.push(o),Le(o).forEach((function(e){return t.push(e)}))}t=P[e]=de(t.reduceRight((function(e,t){return e[t]=e}),ce())).reverse().filter((function(t){return t!==e}))}return t}function je(t){f=require.s.contexts._.config=t;for(var i=0,a=de(t.paths);i<a.length;i++){var s=a[i];if(r.isArray(t.paths[s])){var m=t.paths[s];y[s]=m[0],m.length>1&&_e(m[0],m.slice(1))}else y[s]=t.paths[s]}for(var h=0,v=de(t.bundles);h<v.length;h++)for(var g=v[h],b=0,x=t.bundles[g];b<x.length;b++){var C=x[b];m=(t.paths||{})[g]||[];r.isArray(m)||(m=[m]),y[C]=m[0],m.length>1&&_e(m[0],m.slice(1))}for(var _=0,w=de(t.shim);_<w.length;_++)for(var F=0,S=[s=w[_]].concat(t.bundles&&t.bundles[s]||[]);F<S.length;F++){C=S[F];var T=t.shim[s]?r.isArray(t.shim[s])?t.shim[s]:t.shim[(M[s]=!0)&&s].deps:[];T.forEach((function(e){return M[e]=!0})),E[C]=T}for(var D=t.dependencyTree,R=0,N=de(D);R<N.length;R++)for(var O=N[R],L=0,j=de(D[O]);L<j.length;L++){C=j[L];E[C]=(E[C]||[]).concat(D[O][C]),y[C]=O}for(var V=!1,H=0,W=de(t.map);H<W.length;H++){var q=W[H];if("*"===q)for(var z=t.map[q],U=0,G=de(z);U<G.length;U++){var $=G[U],K=z[$];I[$]!==K&&(I[$]=K,V=!0)}else ae(q,'This module loader only support property "*" in requireConfig.map, execution will continue without considering property "'.concat(q,'".'),1)}V&&(A=ce(),k=de(I).map((function(e){return[e,I[e]]})).sort((function(e,t){return t[0].length-e[0].length})));for(var Q=0,J=de(t.fallbacks);Q<J.length;Q++){var Y=J[Q];_e(Y,t.fallbacks[Y])}if(te=te||t.profile){ne=function(e){return o.log("[Preorder] ["+te+"] "+e())};var ue=e.performance;ue&&(re=function(e,t){ue.mark(e+(t?"-stop":"")),t&&ue.measure(e,e,e+"-stop")})}return ee=ee||t.preload,t.onDependencyStateChange&&(oe=t.onDependencyStateChange),t.getRedirectModuleId&&(ie=t.getRedirectModuleId),t.blockedHosts&&(B=t.blockedHosts),t.logError&&(se=t.logError),t.externalPreorderConfig&&(p=__assign(__assign({},p),t.externalPreorderConfig),le=n.keys(p).sort((function(e,t){return e.length-t.length}))),t.onNodeCreated&&(l=t.onNodeCreated),t.onMetadependenciesLoaded&&(u=t.onMetadependenciesLoaded),t.baseUrl&&(Z=t.baseUrl.endsWith("/")?t.baseUrl:(t.baseUrl||"")+"/"),t.deps&&t.deps.forEach((function(e){return Oe("_preorder_dep_"+e,[e].concat(P[e]||[]),null)})),X&&X.appendToDocument(),t.onBundleLoad&&(c=t.onBundleLoad),t.onResolveModule&&(d=t.onResolveModule),e.requirejs}e.nodeRequire=e.require;var Ve=e.require=e.requirejs=Ae(null);Ve.config=je,e.define=Be,e.define.amd=ce(),Ve.configureMetadata=function(e,t){for(var n=0,r=de(e);n<r.length;n++){var o=r[n];F[o]=F[o]||[];for(var i=0,a=e[o]||[];i<a.length;i++){var s=a[i];F[o].push(s)}}for(var l=t&&t.dependencyTree,u=0,c=de(l);u<c.length;u++)for(var d=c[u],p=0,f=de(l[d]);p<f.length;p++){var m=f[p];C[m]=d}},Ve.s={contexts:{_:{config:null}}},Ve.loadedDefines=a,Ve.executedDefines=s,Ve.unrequire=function(e,t){if(delete s[e],delete m[e],t){delete a[e];var n=he(e,!1,y);delete h[n];var r=R[n];if(r)for(var o=0,i=r.attemptedFallbacks;o<i.length;o++){var l=i[o];delete R[l]}}},Ve.mapDependencies=Le}(window||self);var ShellWorkerImpl,FxImpl,executeInDevelopmentModeOnly=function(){};!function(e){var t=window,n=t.requirejs;function r(e,t){var n=t.origin,r=t.appPath,o=t.protocol,i=t.replacementOrigin||n;if(l(e=e||"","//")&&(e=o+e),/^\w+:\/\//.test(e))return e.replace(n,i);if(l(e,"/"))return i+e;var a=i+r;return a.endsWith("/")||(a+="/"),a+e}function o(e,t){return r(e,t)}function i(e,t){return e&&e.map((function(e){return o(e,t)}))}function a(e,t,n){if(e){var r=Object.create(null);return s(e,(function(e,a){r[o(e,t)]=n?i(a,t):a})),r}}function s(e,t,n){return e&&Object.keys(e).forEach((function(r){t(r,e[r],n)})),n}function l(e,t){return e&&e.startsWith(t)}e.addLoggingToRequireConfig=function(e,t){var n=/^require \d+$/;e.logError=function(e,r,o){return o||n.test(e)?t.warning(r):t.error(r)}},e.reshapeRequireConfigCore=function(e,t,r){if(n.isPreorder){if(r&&(e.blockedHosts=new Set(MsPortalFx.getEnvironmentValue("blockedHosts")||[])),t.isEnabled("preorderperf")){var o=MsPortalFx.getEnvironmentValue("extensionName")||"fx";e.profile=o}t.isEnabled("preorderpreload")&&(e.preload=!0)}else e.paths=e.paths||{},e.bundles=e.bundles||{},s(e.dependencyTree,(function(t,n){e.paths[t]=[t].concat((e.fallbacks||{})[t]||[]),e.bundles[t]=Object.keys(n)}));return e},e.toAbsoluteUrisRequireCore=function(e,n){var r,l=n.origin,u=n.baseDomains,c=(u||[]).shift()||l,d={origin:l,protocol:n.protocol,appPath:n.appPath,replacementOrigin:c};if(s(e.paths,(function(t,n){Array.isArray(n)?e.paths[t]=i(n,d):e.paths[t]=o(n,d)})),e.baseUrl&&(e.baseUrl=o(e.baseUrl,d)),$.extend(e,{dependencyTree:a(e.dependencyTree,d),fallbacks:e.fallbacks||{}}),u&&u.length){var p=null===(r=t.MsPortalFx)||void 0===r?void 0:r.sessionId,f=e.fallbacks,m=function(e){f[e]=(f[e]||[]).concat(u.map((function(t){var n=e.replace(c,t),r=new URL(n);return!r.pathname.endsWith(".js")&&(r.pathname+=".js"),r.searchParams.set("sessionId",p),r.href})))};s(e.dependencyTree,m),s(e.paths,(function(e,t){return(Array.isArray(t)?t:[t]).forEach(m)}))}$.extend(e,{fallbacks:a(e.fallbacks,d,!0)})},e.ensureAbsoluteUriCore=r}(FxImpl||(FxImpl={})),function(e){var t=function(e,t,n){var r=this;e=e||{flights:{},fromConfig:{},fromQuery:{}},this.shellFeatures=e;var o=["","feature."];t&&o.push(t.toLowerCase()+"_");var i={};[e.flights,e.fromConfig].concat(n).concat([e.fromQuery]).forEach((function(e){var n=Object.keys(e||{});o.forEach((function(r){n.forEach((function(n){var o=n.toLowerCase();if(o.startsWith(r)){var a=o.slice(r.length);!r&&(a.includes(".")||t&&a.includes("_"))||(i[a]=e[n]+"")}}))}))})),this.value=i,this.isEnabled=function(e,t){var n=r.getValue(e);return n?4===n.length&&"true"===n.toLowerCase():t||!1},this.getValue=function(e){return r.value[e.toLowerCase()]},this.isNativePerf=this.isEnabled("nativeperf")};e.Features=t}(FxImpl||(FxImpl={})),function(e){var t=window;e.setFxCoreNonAmdEnvironment=function(e){var n=e.features,r=e.environment;t.MsPortalFx=t.MsPortalFx||{};var o=e.trace;MsPortalFx.trace=o;var i=n.isEnabled("clientDevelopmentMode");MsPortalFx.isDevelopmentMode=i;var a=n.isEnabled("canModifyExtensions");MsPortalFx.canModifyExtensions=a,MsPortalFx.getEnvironmentValue=function(e,t){var n=r[e];return null==n?t:n}}}(FxImpl||(FxImpl={})),function(){const e="undefined"!=typeof window?window:self;function t(e){self.postMessage(e)}function n(t){return new Promise(((n,r)=>{e.requirejs([t],n,r)}))}void 0!==e.importScripts&&!e?.fx?.internalEnv&&(e.onmessage=function r(o){0===o?.data?.kind&&(e.removeEventListener("message",r),function(r,o){const{noOptScripts:i}=r;i&&e.importScripts(...i||[]),async function(r,o){const{internalEnv:i,environment:a,shellFeatures:s,location:l,initOptions:u,blockedHosts:c}=r,d=new FxImpl.Features(s);FxImpl.setFxCoreNonAmdEnvironment({trace:i.trace,features:d,environment:a});const p=FxImpl.reshapeRequireConfigCore(a.requireConfig,d);e.requirejs.config(p);const f=e=>{t({signature:"###SHELLWORKER###",kind:4,data:e})},m=async()=>{const[t,{Logging:s,LogEntryLevel:m},{decycle:h}]=await Promise.all([n("FxInternal/ErrorHandling"),n("Fx/Diagnostics"),n("FxInternal/Diagnostics")]),v=(e,t,...n)=>{f({logEntry:{level:2,area:"ShellWorkerEntryPoint",message:"object"==typeof e?h(e):e,code:t,args:n&&n.map((e=>"object"==typeof e?h(e):e))}})};t.preinitialize(d,v);const[g,{Logging:y,Telemetry:b}]=await Promise.all([n("Fx/DependencyInjectionCore"),n("ShellWorkerImpl/Core/Diagnostics")]),x=g.container,C=new y(f);x.set(s,C),t.initialize(),FxImpl.addLoggingToRequireConfig(p,C.createLog("ShellWorker")),e.requirejs.config(p);const[{Features:_},{Environment:w},{ExperimentationManager:P},{PreloadData:E}]=await Promise.all([n("FxInternal/Features"),n("ShellWorkerImpl/Core/Environment"),n("FxInternal/Experimentation"),n("ShellWorkerImpl/Core/PreloadData")]);x.set(_,d);const F={location:l,displayLanguage:i.displayLanguage,effectiveLocale:u.effectiveLocale,version:a.version,sessionId:i.sessionId,clientOptimizations:a.clientOptimizations,userQuery:r.userQuery},M=new b(f);x.set(w,F),x.set(b,M),x.set(P,new P({frameContext:2,shellVariants:x.get(E).getPreloadedData().then((e=>e?.variants?.hubsextension)),features:d,trace:e=>M.trace(e)}));const{Client:S,Constants:I}=await n("FxInternal/Rpc"),k=(()=>{const e=C.createLog("FxInternal/Rpc");return new S(3e4,(t=>{e.writeEntry(2,t,3,null)}),C,d)})();x.set(S,k);const[{RpcStarter:A},{ExtensionManagerOptions:T},{AuthorizationState:D}]=await Promise.all([n("ShellWorkerImpl/Core/ExtensionManager"),n("ShellWorkerImpl/Core/ExtensionManagerOptions"),n("ShellWorkerImpl/Core/AuthorizationState")]);x.set(A,new A(o,d,F));const{extensions:R,manifests:B,loadTypes:N,extensionRedirectMap:O}=u;x.set(T,new T(R,B,N,O,c));const{authorizationState:L}=u;return x.set(D,new D(L,k)),x},h=await m();await(await n("ShellWorkerImpl/Init")).init(h),t({signature:"###SHELLWORKER###",kind:3})}(r,o)}(o.data.data,o.ports[0]))},t({signature:"###SHELLWORKER###",kind:1}))}(ShellWorkerImpl||(ShellWorkerImpl={})),function(e){var t=window;function n(n){return t.MsPortalFx=t.MsPortalFx||{},[n("Fx/Diagnostics",(function(e){var t=e.getLogFriendlyMessage;MsPortalFx.getLogFriendlyMessage=t})),n("FxInternal/Shared/lib/DomainValidator",(function(t){var n=t.getDomainValidator;e.DomainValidator={getDomainValidator:n}})),n("FxInternal/Diagnostics",(function(n){var r=n.logHelper,o=n.logFunctions,i=n.sanitizeMessage,a=n.sanitizeMessageFull,s=n.setObjectIdToScrub,l=n.serializationPrivacyReplacer;MsPortalFx.sanitizeMessage=i,t.FxImpl.Base=t.FxImpl.Base||{},t.FxImpl.Base.Diagnostics=t.FxImpl.Base.Diagnostics||{},e.Base.Diagnostics.logHelper=r,e.Base.Diagnostics.logFunctions=o,e.Base.Diagnostics.sanitizeMessageFull=a,e.Base.Diagnostics.setObjectIdToScrub=s,e.Base.Diagnostics.serializationPrivacyReplacer=l})),n("FxInternal/ErrorSerialization",(function(n){var r=n.extractErrorDetails,o=n.isExtractableError;t.FxImpl.Base=t.FxImpl.Base||{},t.FxImpl.Base.Diagnostics=t.FxImpl.Base.Diagnostics||{},e.Base.Diagnostics.extractErrorDetails=r,e.Base.Diagnostics.isExtractableError=o})),n("Fx/Errors",(function(e){var n=e.isInstanceOfErrorType,r=e.getErrorOptions,o=e.FxError,i=t.MsPortalFx.Errors=t.MsPortalFx.Errors||{};i.isInstanceOfErrorType=n,i.getErrorOptions=r,i.Error=o})),n("FxInternal/ErrorHandling",(function(n){var r=n.initialize,o=n.preinitialize,i=n.handleError;t.MsPortalFx.Base=t.MsPortalFx.Base||{},t.MsPortalFx.Base.Diagnostics=t.MsPortalFx.Base.Diagnostics||{},t.MsPortalFx.Base.Diagnostics.ErrorReporter=t.MsPortalFx.Base.Diagnostics.ErrorReporter||{},MsPortalFx.Base.Diagnostics.ErrorReporter.initialize=r,e.errorHandlingImpl={preinitialize:o,handleError:i}})),n("FxInternal/Errors",(function(e){var n=e.FxCanceledError,r=e.FxDisposedCanceledError,o=t.MsPortalFx.Errors=t.MsPortalFx.Errors||{};o.CanceledError=n,o.DisposedCanceledError=r})),n("FxInternal/Lifetime",(function(t){var n=t.TriggerableLifetimeManager;e.TriggerableLifetimeManager=n})),n("FxInternal/Rpc",(function(e){var n=e.getMessageContext,r=e.createCallStack,o=e.createRpcError,i=e.getCurrentCallStack,a=e.DisposableValue,s=e.DisposableValueDictionary,l=e.RpcChannel,u=e.Client,c=e.MessageDispatcher,d=e.MessageMultiplexer,p=e.EndPointTable,f=e.PendingObjectTable,m=e.EndPointDefinition,h=e.ActionEndPointDefinitionBase,v=e.FuncEndPointDefinitionBase,g=t.FxImpl.Rpc=t.FxImpl.Rpc||{};g.getMessageContext=n,g.createCallStack=r,g.createRpcError=o,g.getCurrentCallStack=i,g.DisposableValue=a,g.DisposableValueDictionary=s,g.RpcChannel=l,g.MessageDispatcher=c,g.MessageMultiplexer=d,g.EndPointTable=p,g.PendingObjectTable=f,g.CoreClient=u,g.EndPointDefinition=m,g.ActionEndPointDefinitionBase=h,g.FuncEndPointDefinitionBase=v})),n("FxInternal",(function(t){var n=t.isPlainObject,r=t.jqueryExtend,o=t._objectKeysPolyfill,i=t.forEachKey,a=t.disposeDisposable,s=t.isNullOrUndefined,l=t.remove,u=t.makeArray,c=t.unique,d=t.pushUnique,p=t.union,f=t.tryImmediateResolve,m=t.noop,h=t.identity,v=t.isDiagnosticsEnabled,g=t.extend,y=t.extend2,b=t.getCurrentCallStack,x=t.generateNonSerializableProperty,C=t.getFunctionName,_=t.getObjectConstructorName,w=t.getObjectDescriptor,P=t.findIndex,E=t.find,F=t.startTimer,M=t.regexEscape,S=t.delay,I=t.timeout,k=t.nextTick,A=t.isPromise,T=t.isPromiseLike,D=e;D.createError=function(){return t.createError.apply(null,arguments)},D.tryImmediateResolve=f,MsPortalFx.isPlainObject=n,MsPortalFx.jqueryExtend=r,MsPortalFx._objectKeysPolyfill=o,MsPortalFx.forEachKey=i,MsPortalFx.disposeDisposable=a,MsPortalFx.isNullOrUndefined=s,MsPortalFx.remove=l,MsPortalFx.makeArray=u,MsPortalFx.unique=c,MsPortalFx.pushUnique=d,MsPortalFx.union=p,MsPortalFx.noop=m,MsPortalFx.identity=h,MsPortalFx.isDiagnosticsEnabled=v,MsPortalFx.extend=g,MsPortalFx.extend2=y,MsPortalFx.getCurrentCallStack=b,MsPortalFx.generateNonSerializableProperty=x,MsPortalFx.getFunctionName=C,MsPortalFx.getObjectConstructorName=_,MsPortalFx.getObjectDescriptor=w,MsPortalFx.findIndex=P,MsPortalFx.find=E,MsPortalFx.regexEscape=M,MsPortalFx.startTimer=F,MsPortalFx.delay=S,MsPortalFx.timeout=I,MsPortalFx.nextTick=k,MsPortalFx.isPromise=A,MsPortalFx.isPromiseLike=T})),n("Fx/Assets",(function(e){var n=e.ResourceRoutingType;(t.MsPortalFx.Extension=t.MsPortalFx.Extension||{}).ResourceRoutingType=n})),n("Fx/Units",(function(e){var n=e.Unit;(t.MsPortalFx.UnitConversionUtil=t.MsPortalFx.UnitConversionUtil||{}).Unit=n})),n("FxInternal/Units",(function(t){var n=t.higherByteOffset,r=t.perTimeBit,o=t.UnitType;e.UnitConversionUtil={higherByteOffset:n,perTimeBit:r,UnitType:o}})),n("FxInternal/ResourceManagement/SubscriptionsCore",(function(e){var n=e.getInSessionSelectedSubscriptionsEndPoint,r=e.getSubscriptionInfoEndPoint,o=t.FxImpl.Azure=t.FxImpl.Azure||{};o.getInSessionSelectedSubscriptionsEndPoint=n,o.getSubscriptionInfoEndPoint=r})),n("FxInternal/ResourceManagement/LocationsCore",(function(e){var n=e.getLocationDisplayNamesEndPoint;(t.FxImpl.Azure=t.FxImpl.Azure||{}).getLocationDisplayNamesEndPoint=n})),n("FxInternal/RpcEndPointsCore",(function(e){var n=e.getUserInfoEndPoint;(t.FxImpl.Extension=t.FxImpl.Extension||{}).getUserInfoEndPoint=n})),n("FxInternal/Utils/Promise",(function(t){var n=t.ensureAsyncMethodReturnsPromiseForBackCompat;e.ensureAsyncMethodReturnsPromiseForBackCompat=n}))]}function r(){var t,n=fx.environment,r=fx.internalEnv,o=e.features||new e.Features(null===(t=e.bootEnv)||void 0===t?void 0:t.shellFeatures);e.setFxCoreNonAmdEnvironment({trace:r.trace,features:o,environment:n});var i=$.extend({},r.fxRequireConfig);return window.requirejs.config(e.reshapeRequireConfigCore(i,o))}e.patchMsPortalFxNonAmd=function(){var e=r();n((function(t,n){var r;if(e([t],(function(e){r=!0,n(e)}),void 0,void 0,!0),!r)throw new Error("Failed to synchronously require module '".concat(t,"'."))}))},e.patchMsPortalFxNonAmdAsync=function(){var e=r();return Promise.all(n((function(t,n){return new Promise((function(r,o){e([t],(function(e){try{n(e)}catch(e){o(e)}r()}),o)}))})))}}(FxImpl||(FxImpl={})),
define("Fx",["require","exports"],(function(e,t){var n;return function(e){e.forEachKey=MsPortalFx.forEachKey,e.getEnvironmentValue=MsPortalFx.getEnvironmentValue,e.getUniqueId=MsPortalFx.getUniqueId,e.isDevelopmentMode=MsPortalFx.isDevelopmentMode,e.isFeatureEnabled=MsPortalFx.isFeatureEnabled,e.getFeatureValue=MsPortalFx.getFeatureValue,e.require=MsPortalFx.require,e.startTimer=MsPortalFx.startTimer,e.memoizePromise=FxImpl.memoizePromise,e.delay=MsPortalFx.delay,e.timeout=MsPortalFx.timeout,e.nextTick=MsPortalFx.nextTick,e.isPromise=MsPortalFx.isPromise,e.isPromiseLike=MsPortalFx.isPromiseLike}(n||(n={})),n.defer=function(){return FxImpl.logObsoleteAPI("Fx.defer","Promise.withResolvers"),Promise.withResolvers()},n})),
define("FxInternal",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createError=t.getFunctionName=t.isDiagnosticsEnabled=t.disposeDisposable=t.jqueryExtend=void 0,t.isPlainObject=E,t._objectKeysPolyfill=F,t.forEachKey=k,t.isNullOrUndefined=T,t.remove=function(e,t,n){void 0===n&&(n=0);var r,o=[],i=0;I(t,x)&&(r=t);for(var a=n,s=e.length;a<s;a++){var l=e[a];i&&(e[a-i]=l),(t===l||r&&r(l))&&(i++,d(o,l))}i&&p(e,-1*i);return o},t.makeArray=function(e){f(e)||(e=T(e)?[]:[e]);return e},t.pushUnique=D,t.unique=R,t.union=function(){var e=[],t=arguments.length-2,n=arguments[t+1];I(n,x)||(n=void 0,t++);for(var r=0;r<=t;r++){D(e,R(arguments[r],n),n,!0)}return e},t.tryImmediateResolve=function(e,t,n){if(Q.isPromise(e)&&e.isFulfilled()){var r=function(e,t,n){try{return t(e)}catch(e){return n(e)}}(null==e?void 0:e.inspect().value,t,N);return r===B?Q.reject(r.error).catch(n):Q(r)}return Q(e).then(t,n)},t.noop=O,t.identity=function(e){return e},t.extend=function(e,n,r){return r?(0,t.jqueryExtend)(!0,e,n):(0,t.jqueryExtend)(e,n)},t.extend2=function(e,n,r,o){var i=W(e)?[]:{};return(0,t.jqueryExtend)(i,e,n,r,o)},t.getCurrentCallStack=function(e,n){if(e||t.isDiagnosticsEnabled){var r=z();if(r){for(var o=2+(v(r,"@")>-1?0:1)+((null==n?void 0:n.removeStackLevels)||0),i=0;o--&&-1!==i;)i=v(r,"\n",i+1);(r=-1!==i?h(r,i+1):"").length>6e3&&(r=r.slice(0,5996)+" ...")}return r||""}return"(Callstack capturing is not enabled. Use ?trace=diagnostics to enable it.)"},t.generateNonSerializableProperty=function(e){return H+e+H},t.getObjectConstructorName=X,t.getObjectDescriptor=function(e,t,n){var r={current:null,visited:[]};return q(e,(function(e,o){return function(e,t,n,r,o){var i,a,s=!e||r;if(!o&&e&&e.startsWith("_"))return;function l(e){return!n.visited.includes(e)&&(n.visited.push(e),!0)}var u=typeof t;if(i=Z(u),u in L);else if(u===_)if(null===t)i=Z("null");else if(W(t)){var c=t;i=(l(t)?"":K)+Z("Array["+c.length+"]")}else if(function(e){return e instanceof Date}(t))i=Z("Date");else if(n.current!==t){var d=Z(X(t));s?(i=a={},a[d]=t,a=a[d],n.current=t):i=d}else n.current=null,i=l(t)?t:K+Z(X(t));else if(u===x){var p=Z(u)+J(t);if(S(t)&&s)if(l(t)){i=a={};var f=t.peek();a[p]=f}else i=K+p;else i=p}return i}(e,o,r,t,n)}),2).replace(/"/g,"")},t.getErrorMap=function(e){return k(e,(function(e,n,r){r[e]=function(){var r=[].slice.call(arguments),o=function(e,t,n){var r="Code: '"+e+"'. ",o="";t?o="string"==typeof t?t:t.apply(void 0,n):n&&n.length&&(o="\nParameters: "+[].join.call(n,",")+". ");return r+o}(e,n,r);throw(0,t.createError)(o,n?void 0:{data:{args:r}})}}),{})},t.fcall=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return[4,e.apply(void 0,t)];case 1:return[2,n.sent()]}}))}))},t.delay=Y,t.timeout=function(e,t){return Promise.race([e,Y(t).then((function(){var e=new Error("Timed out after ".concat(t," ms"));return e.code="ETIMEDOUT",Promise.reject(e)}))])},t.nextTick=ee,t.isPromise=function(e){return e instanceof Promise},t.isPromiseLike=function(e){return"function"==typeof(null==e?void 0:e.then)},t.findIndex=te,t.find=function(e,t,n){var r=te(e,t,n);return r<0?void 0:e[r]},t.regexEscape=function(e){return e.replace(/[\-[\]/{}()*+?.\\^$|]/g,"\\$&")},t.startTimer=function(){var e=P();return function(){return P()-e}};var n=window,r=Function,o=Object,i=r.call;function a(e){return function(){return i.apply(e,arguments)}}var s=a(r.apply),l=Array.prototype,u=l.push,c=a(l.forEach),d=a(u),p=a(l.splice),f=Array.isArray,m=String.prototype,h=a(m.substring),v=a(m.indexOf),g=a(o.prototype.hasOwnProperty),y=o.keys,b="boolean",x="function",C="string",_="object",w="undefined",P=n.fx.getTimestamp;function E(e){if($.type(e)!==_||e.nodeType||function(e){return e&&e===e.window}(e))return!1;var t=e.constructor,n=t&&t.prototype;return!(n&&!g(n,"isPrototypeOf"))}function F(e){switch(typeof e){case C:var t=[];for(var n in e)d(t,n);return t;case x:case _:case w:return y(e);default:return[]}}t.jqueryExtend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,o,i,a,s,l=arguments[0]||{},u=1,c=!1;typeof l===b&&(c=l,l=arguments[u]||{},u++),typeof l===_||I(l,x)||(l={});var d=arguments.length;for(u===d&&(l=this,u--);u<d;u++)if(null!=(r=arguments[u]))for(var p in r)o=l[p],l!==(i=r[p])&&(c&&i&&(E(i)||(a=f(i)))?(a?(a=!1,s=o&&f(o)?o:[]):s=o&&E(o)?o:{},l[p]=(0,t.jqueryExtend)(c,s,i)):void 0!==i&&(l[p]=i));return l},function(){try{y("")}catch(e){o.keys=F}}();var M=o.keys,S=function(e){var t,r=null===(t=null==n?void 0:n.ko)||void 0===t?void 0:t.isObservable;return r&&r(e)};function I(e,t){return typeof e===t}function k(e,t,n){return e&&c(M(e),(function(r){t(r,e[r],n)})),n}function A(e){if(f(e))c(e,A);else{var t=function(e){var t=e&&e.dispose;return I(t,x)&&t}(e);t&&t.call(e)}}function T(e){return null==e}function D(e,t,n,r){if(void 0===r&&(r=!1),f(t)){for(var o=n?function(t){return te(e,(function(e){return n(e,t)}))}:function(t){return e.indexOf(t)},i=r?[]:e,a=0,l=t.length;a<l;a++){var c=t[a];o(c)<0&&d(i,c)}r&&s(u,e,i)}return e}function R(e,t){return D([],e,t)}t.disposeDisposable=function(){c(arguments,A)};var B={};function N(e){return B.error=e,B}function O(){}var L={};c([b,w,"number",C,"symbol"],(function(e){L[e]=!0}));var j,V=function(){return(new Error).stack},H="###",W=Array.isArray,q=JSON.stringify;t.isDiagnosticsEnabled=!((!(j=MsPortalFx.trace)||!j.diagnostics)&&(j&&j.nocallstacks||!MsPortalFx.isDevelopmentMode||!V()));var z=V;if(!z()&&(z=O,t.isDiagnosticsEnabled)){var U=function(){try{throw new Error}catch(e){return e.stack}};U()&&(z=U)}var G=/function\s+(\w*)\(.*?\)/,K="[potential-circular-reference]",J=function(e){if(e){var t=e.name;if(void 0===t){var n=e.toString();if(n){var r=G.exec(n);r&&r.length>=1&&(t=r[1])}}return t||"[anonymous]"}return""};function X(e){var t=_;if(e.constructor){var n=e.constructor;t=J(n)}return t}function Z(e){return"<"+e+">"}t.getFunctionName=J;function Y(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}function ee(e){Promise.resolve().then((function(){e()}))}function te(e,t,n){var r;if(void 0===n&&(n=0),e&&(r=e.length)){var o=r,i=1,a=n;if(n<0&&(a+=r,i=o=-1),!t)return a<r&&a>=0?a:-1;for(;a!==o;){if(t(e[a],a,e))return a;a+=i}}return-1}t.createError=function(){throw new Error("Can't call 'createError' during module loading")},ee((function(){n.requirejs(["Fx/Errors"],(function(e){var n=e.FxError;t.createError=function(e,t){return new n({message:e,data:t&&t.data,innerErrors:t&&t.innerErrors})}}))}))})),
define("Fx/Errors",["require","exports","FxInternal"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FxError=void 0,t.isInstanceOfErrorType=s,t.getErrorOptions=l;var r=window,o=Object.getPrototypeOf,i=Object.setPrototypeOf;function a(e){var t,r=[],i=[],a=e.prototype;for(i.push(e);o(a)&&(e=(a=o(a)).constructor)!==Error;)i.push(e);for(;e=i.pop();){var s=e.TypeName;t&&t===s?s=e.TypeName=(0,n.getFunctionName)(e):t=s,r.unshift(s)}return r}function s(e,t){if(e){var n=e.baseTypes,r=n&&n.length;if(r){var o=a(t),i=o&&o.length;if(i){var s=r-i;if(s>=0)return o.every((function(e){return e===n[s++]}))}}}return!1}function l(e,t){e?"string"===typeof e&&(e={message:e}):e={};return(0,n.extend2)(t,e)}var u=function(e){function t(t){var o=this.constructor,s=this,u=l(t,{name:"Error",errorLevel:2});s=e.call(this,u.message)||this,i(s,o.prototype);var c=a(o);s.type=c[0],s.baseTypes=c,s.code=u.code,s.data=u.data,s._errorData=u.errorData,s.extension=MsPortalFx.getEnvironmentValue("extensionName"),s.errorLevel=u.errorLevel,s._sourceErrorLevel=u._sourceErrorLevel,s.handled=u.handled,s.timestamp=u.timestamp||r.fx.getTimestamp(),s.source=u.source;var d=s.message;s.message=u.message||d;var p=s.name;s.name=u.name||p;var f=u.stack||s.stack||(0,n.getCurrentCallStack)(!0);f.length>6e3&&(f=f.slice(0,5996)+" ..."),s.stack=f;var m=u.innerErrors;return m?Array.isArray(m)?s.innerErrors=m.slice():s.innerErrors=[m]:s.innerErrors=[],s}return __extends(t,e),t.isBaseOf=function(e){return s(e,this)},Object.defineProperty(t.prototype,"errorData",{get:function(){return this._errorData},enumerable:!1,configurable:!0}),t.TypeName="".concat("MsPortalFx.Errors.","Error"),t}(Error);t.FxError=u})),
define("FxInternal/Ajax",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getArmBatchRelativePathAndApiVersion=o,t.getEndpoints=function(){var e=n.Internal.getArmEndpoint();return{aadAuthority:r.fxAadAuthority,arm:e,armBatch:e+o(),graph:MsPortalFx.isFeatureEnabled("replaceaadgraphendpoint")?r.fxFFGraphEndpoint:r.fxGraphEndpoint,msGraph:r.fxMsGraphEndpoint}},t.getAzureStackEndpoint=function(e){var t;return(null===(t=r.azsEndpoints)||void 0===t?void 0:t[e.toLocaleLowerCase()])||void 0};var n=MsPortalFx.Base.Net2,r=FxImpl.internalEnv;function o(){return"batch?api-version=".concat(MsPortalFx.getFeatureValue("batchapiversion")||"2020-06-01")}})),
define("FxInternal/Shared/lib/UriScrubber",["exports"],(function(e){e.localizedSanitizers=void 0,e.runRules=i,e.sanitizeUriComponent=o,e.scrubUri=function(e,n){if(!e)return e;try{return function(e){const n=new URL(e,t),r=o(decodeURIComponent(n.hostname)).replace(/^\/+/,""),i=o(decodeURIComponent(n.pathname)).replace(/^\/+/,""),a=`${n.protocol.replace(/\/+$/,"")}//${r}${n.port?`:${n.port}`:""}/${i}`;return a.startsWith(t)?a.substring(t.length):a}(e)}catch(t){return n(`'scrubUri' caught an exception scrubbing invalid URI '${e}'`,t),null}},e.setObjectIdToScrub=function(e){e&&(n[0]=new RegExp(e.replace(/[\-[\]/{}()*+?.\\^$|]/g,"\\$&"),"gi"),n[1]="_REDACTED_CURRENT_USER_OBJECTID_")};const t="https://test.test",n=[null,null],r=[...e.localizedSanitizers=[[/([?&;])sig=[\w%-]+/gi,"$1sig=_REDACTED_SAS_TOKEN_SIG_"],[/([?&;])code=[\w%+/=-]+/gi,"$1code=_REDACTED_CODE_"],[/([?&/]|%2F)(SourceKey|DestKey)(=|%3A|%3D|:)(?:[\w/-]|%2F)+(?:==|%3D%3D)/gi,"$1$2$3_REDACTED_AZCOPY_TOKEN_"],[/(\W)[\w+/-]{86}==(\W)/g,"$1_REDACTED_ACCESS_KEY_$2"],[/(?:eyJ0eXAi|eyJhbGci)[\w\-.~+/%]*/gi,"_REDACTED_JWT_TOKEN_"],[/("|'|%22)(bearer |bearer%20)[\w\-.~+/]{100,}("|'|%22)/gi,"$1$2_REDACTED_BEARER_TOKEN_$3"],[/("|')(ssh-rsa )AAAA[\w\-.~+/]{100,}("|')/gi,"$1$2_REDACTED_SSH_KEY_$3"],[/\b[\w.%#+-]+(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_$1$2"],n,[/\/users\/[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}\b/gi,"/users/_REDACTED_OBJECTID_"]],[/\b_REDACTED_EMAIL_(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_"],[/([0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12})\b/gi,"_REDACTED_GUID_"]];function o(e){return e=i(e,r)}function i(e,t){return t.forEach((t=>t[0]&&t[1]&&(e=e.replace(t[0],t[1])))),e}})),
define("FxInternal/Diagnostics",["require","exports","FxInternal","FxInternal/Shared/lib/UriScrubber"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.logHelper=t.logFunctions=void 0,t.setObjectIdToScrub=function(e){(0,r.setObjectIdToScrub)(e)},t.serializationPrivacyReplacer=function(e,t){var n;switch(null===(n=null==e?void 0:e.toLowerCase)||void 0===n?void 0:n.call(e)){case"tags":return"_REDACTED_TAGS_";case"password":return"_REDACTED_PASSWORD_";case"sharedaccesskey":return"_REDACTED_SHARED_ACCESS_KEY_";default:return t}},t.sanitizeMessageFull=function(e){return e&&(e=(0,r.runRules)(e||"",__spreadArray(__spreadArray([],i,!0),a,!0))),e},t.sanitizeMessage=function(e){return(0,r.runRules)(e||"",i)},t.sanitizeUriComponent=function(e){return(0,r.sanitizeUriComponent)(e||"")},t.getAllPropertyNames=d,t.decycle=function(e){var t=function(e,n){if(void 0===n&&(n=[]),!function(e){return"object"==typeof e&&null!==e}(e)||function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e))return e;if(n.includes(e))return"_CYCLIC_OBJECT_";if(n.push(e),Array.isArray(e))return e.map((function(e){return t(e,n)}));var r=d(e,{excludePrivate:!0,excludeFunction:!0});return function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o[0],a=o[1];t[i]=a}return t}(Array.from(r).map((function(t){return[t,e[t]]})).map((function(e){var r=e[0],o=e[1];return[r,o=t(o,n)]})))};return t(e)};var o="Please review ".concat("https://aka.ms/portalfx/DoNotLogPII"),i=r.localizedSanitizers,a=[[/^.*"tags\\*":(?!\\*"_REDACTED_TAGS_).*$/i,'"_REDACTED_CONTAINS_TAGS_ '.concat(o,'"')],[/^.*"password\\*":(?!\\*"_REDACTED_PASSWORD_).*$/i,'"_REDACTED_CONTAINS_PASSWORD1_ '.concat(o,'"')],[/^.*"SharedAccessKey\\*":(?!\\*"_REDACTED_SHARED_ACCESS_KEY_).*$/i,'"_REDACTED_CONTAINS_SHARED_ACCESS_KEY1_ '.concat(o,'"')],[/^.*sharedaccesskey\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_SHARED_ACCESS_KEY2_ '.concat(o,'"')],[/^.*password\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_PASSWORD2_ '.concat(o,'"')],[/^.*client_secret\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_CLIENT_SECRET_ '.concat(o,'"')],[/^.*private_key\s?=\s?\\?"?[^\s";,\\].*$/i,'"_REDACTED_CONTAINS_PRIVATE_KEY_ '.concat(o,'"')],[/^.*\b(ghp_[\w-]{36}|v1\.[\w-]{40})\b.*$/,'"_REDACTED_CONTAINS_GITHUB_TOKEN_ '.concat(o,'"')],[/^.*(x-api-(key|token)|client_secret|ida|password|issuer|Api|Namespace|ACS|IssuerName|IssuerSecret|AppId|App_Secret|PrimaryKey).+[a-z0-9/+]{32}(={1,2}).*$/i,'"_REDACTED_CLIENT_SECRET_KEY_ '.concat(o,'"')],[/^.*\beyJ[\w-]{10}\.[\w-]{10,}\.[\w-]+\b.*$/,'"_REDACTED_CONTAINS_ENTRAID_TOKEN_ '.concat(o,'"')],[/^.*\b[A-Za-z0-9]{30}\/\+[A-Za-z0-9]{6,}\b.*$/,'"_REDACTED_CONTAINS_AMAZON_ACCESS_KEY_ '.concat(o,'"')],[/^.*\b[A-Za-z0-9+/]{32}={0,2}(;|$)\b.*$/,'"_REDACTED_CONTAINS_AZURE_ACCESS_KEY_ '.concat(o,'"')],[/^.*\bAppId=\w{8}-\w{4}-\w{4}-\w{4}-\w{12};AppSecret=[\w~.-]{32}\b.*$/i,'"_REDACTED_CONTAINS_MS_ENTRA_SECRET_ '.concat(o,'"')]];t.logFunctions={};var s=MsPortalFx.canModifyExtensions,l=MsPortalFx.trace,u=MsPortalFx.isDevelopmentMode||!!l.diagnostics;function c(e,t,n){return{timestamp:Date.now(),level:void 0===n?2:n,area:"MsPortalFx/Base/Base.Diagnostics",message:e,code:void 0,args:t}}function d(e,t){for(var n=Object.assign({excludePrivate:!1,excludeFunction:!1,excludeProto:!0},t),r=function(e,t){return!!n&&n.excludePrivate&&(t.startsWith("__")||t.endsWith("__"))},o=function(e,t){return!!n&&n.excludeProto&&"__proto__"===t},i=new Set,a=e;e;)Object.getOwnPropertyNames(e).filter((function(e){return!(t=a,i=e,n&&n.excludeFunction&&"function"==typeof t[i]||r(0,e)||o(0,e));var t,i})).forEach((function(e){return i.add(e)})),e=Object.getPrototypeOf(e);return i}t.logHelper=function(){var e,r,o=[],i=1,a={error:{remaining:500,level:2,message:"Maximum errors exceeded"},other:{remaining:500,level:1,message:"Maximum warnings exceeded"}},l=function(){o=e(o),r&&(clearTimeout(r),r=null)},d=function(e){o.push(e),o.length>50?l():r||(r=setTimeout((function(){l()}),6e4))};s&&(d=n.noop);var p=function(t){e=t?function(e){try{return t(e)}catch(e){return[]}}:function(e){return e.length>50&&e.splice(0,2,c("Log entry buffer overflowed")),e}};return p(),{empty:function(){o=[]},flush:l,entries:function(e){return o.filter((function(t){return t.level>=e}))},log:function(e){var n=e.level;if(-2!==n){if(n>=i){var r=2===n?a.error:a.other;r.remaining--,(r.remaining>=0||u)&&(0===r.remaining&&(e=c(r.message,void 0,r.level)),d(e))}t.logFunctions[n](e)}else d(e)},pushLog:d,init:function(e){i=e,a.error.remaining=a.other.remaining=500},setCallback:p}}()})),
define("Fx/Diagnostics",["require","exports","FxInternal","FxInternal/Diagnostics"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createLog=t.Logging=void 0,t.getLogFriendlyMessage=function(e){return i(e)};var o=function(){function e(){}return e.prototype.writeEntry=function(e,t,n,r,o){l()},e.prototype.flush=function(){l()},e.prototype.disable=function(){l()},e.prototype.createLog=function(e){var t=this,n="string"==typeof e?e:e.normalize(void 0);return{verbose:function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.writeEntry(0,n,e,null,r)},warning:function(e,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];t.writeEntry(1,n,e,r,o)},error:function(e,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];t.writeEntry(2,n,e,r,o)},debug:function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.writeEntry(-1,n,e,null,r)},writeEntry:function(e,r,o,i){t.writeEntry(e,n,r,o,i)}}},e}();t.Logging=o;function i(e){var t;try{t=s(e)}catch(e){t="ERROR serializing message: "+s(e)}return t}function a(e){if("string"==typeof e)return e;try{return JSON.stringify(e,r.serializationPrivacyReplacer)}catch(e){return"_CYCLIC_OBJECT_"}}function s(e){if(!e||"object"!=typeof e)return String(e);var t=[];return(0,r.getAllPropertyNames)(e).forEach((function(r){var o,s=e[r];(0,n.isNullOrUndefined)(s)||"function"==typeof s||r.startsWith("###")||((o="string"!=typeof s?s instanceof Error?i(s):Array.isArray(s)?a(s.map((function(e){return e instanceof Error?i(e):e}))):a(s):s).length>6e3&&(o=o.slice(0,5996)+" ..."),t.push("".concat(r,": ").concat(o,"\r\n")))})),t.sort().join("")}function l(){throw new Error("DI container value not set.")}t.createLog=function(e){var t,n,r=null===(n=null===(t=null===MsPortalFx||void 0===MsPortalFx?void 0:MsPortalFx.Base)||void 0===t?void 0:t.Diagnostics)||void 0===n?void 0:n.createLog;if(r)return r(e);throw new Error("'createLog' is not available in this context.")}})),
define("Fx/DependencyInjectionCore",["require","exports","Fx/Diagnostics","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.container=t.Container=void 0,t.Class=function(e){return function(t){c(e,!1,t)}},t.Factory=function(e){return function(t,n,r){c(e,!1,t,n)}},t.Value=f,t.createContainer=b;var o=window,i=Map,a=Reflect.getOwnMetadata,s=new Map;function l(e){return"'".concat(function(e){var t=a("fx:class",e),n=a("fx:diagnostics",e,t&&t.propertyKey);return n?[n[1],n[0].normalize()]:[e.name||"unnamed"]}(e).join("' from '"),"'")}function u(e,t,n){var r=function(e){var t=s.get(e);return t||s.set(e,t={creatingCount:0,maxCreationTime:0}),t}(t),i=setTimeout((function(){n.warning("".concat(l(t)," is taking a long time to create."))}),1e4);r.creatingCount++;var a=o.fx.getTimestamp();return e.then((function(e){return r.maxCreationTime=Math.max(r.maxCreationTime,o.fx.getTimestamp()-a),r.creatingCount--,clearTimeout(i),e}))}function c(e,t,n,r){e=e||"";var o=a("fx:class",n);if(o){if(o.scope!==e)throw new Error("Cannot decorate ".concat(l(n)," with different scopes: '").concat(e,"' and '").concat(o.scope,"'."));if(o.isValue!==t)throw new Error("Cannot decorate ".concat(l(n)," as ambiguously value injected'."))}else Reflect.defineMetadata("fx:class",{isValue:t,propertyKey:r,scope:e,target:n},n)}function d(e){for(var t=[],n=e;n;n=n.importingEntry)t.push(l(n.type));return"The dependency sequence is: ".concat(t.reverse().join(" -> "),".")}function p(e,t){var n=e.size;return e.add(t),e.size>n}function f(e){return function(t){c(e,!0,t)}}function m(e){return e&&"function"==typeof e.then}function h(e,t){var n=a("design:paramtypes",e.target,e.propertyKey);n&&n.forEach(t)}function v(e,t,n){return{activationMetadata:e,callstack:t,error:void 0,flags:0,importingEntries:[],importingEntry:n,instance:void 0,interceptor:void 0,type:e.target}}var g=function(){};t.Container=g;var y=function(){function t(t,r){var o,a=this;this.scope=t,this._childContainers=new Set,this._map=new i,this._disposeCallstack=void 0,this._disposePromise=void 0,this._getLog=function(){return o||(o=a.get(n.Logging).createLog(e)),o},this._parent=r&&r.underlying,this._importingEntry=r&&r.importingEntry,this._parent&&this._parent._childContainers.add(this)}return t.prototype.createChildContainer=function(e){return new x(this,null).createChildContainer(e)},t.prototype.isDisposed=function(){return!!this._disposePromise},t.prototype.get=function(e,t,n,o){return o=o||(0,r.getCurrentCallStack)(),this._validate(new Set,e,t||this._importingEntry,o,n),this._get(e,t,o)},t.prototype.getAsync=function(e,t){var n=this,o=(0,r.getCurrentCallStack)();return m(e)?Q((0,r.tryImmediateResolve)(Q(e),(function(e){return n.get(e,t,!0,o)}))):Q(this.get(e,t,!0,o))},t.prototype.set=function(e,t){return this._set("instance",e,t,2)},t.prototype.setInterceptor=function(e,t){return this._set("interceptor",e,t,0)},t.prototype.disposeAsync=function(){var e=this;if(!this._disposePromise){this._disposeCallstack=(0,r.getCurrentCallStack)();var t=[];this._childContainers&&this._childContainers.forEach((function(e){t.push(e.disposeAsync())})),this._disposePromise=Promise.all(t).then((function(){t.length=0;var n=new Map,r=new Set,o=function(e){var i=e.type,a=n.get(i);return 4&e.flags&&(e.flags&=-5,a=Promise.all(e.importingEntries.map(o)).then((function(){var t=e.instance;return e.instance=e.interceptor=e.error=void 0,t})).then((function(e){if(e&&e.dispose&&p(r,e))return e.dispose()})),n.set(i,a),t.push(a)),a};return e._map.forEach(o),Promise.all(t)})).then((function(){e._parent&&e._parent._childContainers.delete(e)}))}return Q(this._disposePromise)},t.prototype._get=function(e,t,n){var r=this;return this._dispatch(e,t,n,!0,(function(e,t,o){var i=e.activationMetadata,a=e.type,s=e.instance;if(2&~e.flags){if(1&e.flags)throw new Error("Cannot lazily compose ".concat(l(a)," because a cycle has been detected."));e.flags|=1;var c=function(e){var t,n=i.propertyKey?(t=a)[i.propertyKey].apply(t,e):new(a.bind.apply(a,__spreadArray([void 0],e,!1)));return m(n)?u(n,a,r._getLog()):n};try{var d=[];h(i,(function(r){d.push(r===g?new x(t,e):t._get(r,e,n))})),s=d.every((function(e){return!m(e)}))?c(d):Promise.all(d).then(c);var p=e.interceptor;p&&(s=m(s)?s.then((function(e){return p(e)||e})):p(s)||s);var f=function(t){e.instance=t};f(s),m(s)&&s.then(f)}catch(t){e.error=t}e.flags|=6}if(e.error)throw e.error;return o&&o!==e&&r===t&&4&e.flags&&!e.importingEntries.includes(o)&&e.importingEntries.push(o),s}))},t.prototype._set=function(e,t,n,o){return this._dispatch(t,null,(0,r.getCurrentCallStack)(),!1,(function(t){if(1&t.flags)throw new Error("Cannot set the ".concat(e," for ").concat(l(t.type)," because the type has already been composed at the following callstack:\n").concat(t.callstack,"\n").concat(d(t)));t[e]=n,t.flags|=o})),this},t.prototype._validate=function(e,t,n,r,o){this._dispatch(t,n,r,!0,(function(t,n){if(2&~t.flags){var i=t.activationMetadata,s=t.type;if(!o&&i.propertyKey){var u=a("design:returntype",s,i.propertyKey);if(u!==s){var c="Cannot compose ".concat(l(s)," because it is being composed synchronously but the decorated '").concat(i.propertyKey,"' method ");throw c+=u?"is not declared to be synchronous. ":"does not have an expliclty declared return type. ",c+=d(t),new Error(c)}}if(!p(e,s))throw new Error("Cannot compose ".concat(l(s)," because a cycle has been detected."));h(i,(function(i,a){if(!i)throw new Error("The type of parameter #".concat(a+1," of ").concat(l(s)," is undefined."));i!==g&&n._validate(e,i,t,r,o)})),e.delete(s)}else if(!o&&m(t.instance))throw new Error("Cannot synchronously compose async type. ".concat(d(t)))}))},t.prototype._dispatch=function(e,t,n,r,o){var i=a("fx:class",e);if(!i){var s="Cannot compose ".concat(l(e)," because it is not correctly decorated.");throw t&&(s+=" The type was imported by ".concat(l(t.type),".")),new Error(s)}var u=i.scope,c=r?this._getContainer(i):this.scope===i.scope?this:void 0;if(!c)throw r?i.isValue?new Error("Cannot compose ".concat(l(e)," because it has not been value injected. ").concat(d(v(i,n,t)))):new Error("The injection scope '".concat(u,"' for ").concat(l(e)," cannot be composed with the given container hierarchy.")):new Error("Cannot value inject ".concat(l(e)," because the container does not have the same scope."));if(c.isDisposed())throw new Error("Cannot use container because was already disposed at the following callstack:\n".concat(c._disposeCallstack,"\n. ").concat(d(v(i,n,t)),"\nDependency callstack: ").concat(n,"\n."));var p=c._map.get(e);return p||c._map.set(e,p=v(i,n,t)),o(p,c,t)},t.prototype._getContainer=function(e){for(var t=this;;t=t._parent)if(!t||t._map.has(e.target)||!e.isValue&&t.scope===e.scope)return t},t}();function b(){return new y("")}var x=function(e){function t(t,n){var r=e.call(this)||this;return r.underlying=t,r.importingEntry=n,r.scope=t.scope,r}return __extends(t,e),t.prototype.createChildContainer=function(e){return new y(e,this)},t.prototype.isDisposed=function(){return this.underlying.isDisposed()},t.prototype.get=function(e){return this.underlying.get(e,this.importingEntry)},t.prototype.getAsync=function(e){return Q(this.underlying.getAsync(e,this.importingEntry))},t}(g);t.container=b(),f()(FxImpl.Features),f()(n.Logging)})),
define("FxInternal/Errors",["require","exports","Fx/Errors"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FxDisposedCanceledError=t.FxCanceledError=void 0;var r="MsPortalFx.Errors.",o=function(e){function t(t){var r=(0,n.getErrorOptions)(t,{name:"CanceledError",errorLevel:0});return e.call(this,r)||this}return __extends(t,e),t.TypeName="".concat(r,"CanceledError"),t}(n.FxError);t.FxCanceledError=o;var i=function(e){function t(t){var r=(0,n.getErrorOptions)(t,{name:"DisposedCanceledError"});return e.call(this,r)||this}return __extends(t,e),t.TypeName="".concat(r,"DisposedCanceledError"),t}(o);t.FxDisposedCanceledError=i})),
define("FxInternal/Features",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Features=void 0,t.Features=FxImpl.Features})),
define("FxInternal/Lifetime",["require","exports","FxInternal","FxInternal/Errors"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerableLifetimeManager=void 0;var o=MsPortalFx.isDevelopmentMode,i=MsPortalFx.trace,a=!!i&&i.lifetime,s=o||a,l=o&&a,u=function(){function e(t){var o=this,i=[],a=!1,u=!1,p=null==t?void 0:t.parent,f=[],m=[],h=(null==t?void 0:t.depth)||0;l&&(this._createStack=(0,n.getCurrentCallStack)(!0));var v=function(e){var t=!a;e?d(e,!t)||(c("disposable must have a dispose method or be a function."),t=!1):t=!1,t&&i.push(e)};this.isDisposed=function(){return a},this.registerForDispose=function(e){return(Array.isArray(e)?e:[e]).forEach(v,o),o},this.createChildLifetime=function(){if(1e3===h)throw(0,n.createError)("The maximum allowed depth of children allowed is ".concat(1e3));var t=new e({depth:h+1,parent:o.isDisposed()?null:o});return o.isDisposed()?t.dispose():f.push(t),t},this._dispose=function(){var e=[];if(!a){if(a=u=!0,l&&(o._disposeStack=(0,n.getCurrentCallStack)(!0)),[i,f].forEach((function(t){for(;t.length;){var n=t.pop();try{d(n,!0)}catch(t){e.push(t),s&&m.push(n)}}})),e.length){var t=e.filter((function(e){return!(e instanceof r.FxCanceledError)}));t.length&&c((0,n.createError)("error to disposing this lifetimeManager. Exceptions: ",{innerErrors:t}))}var h=p;p&&(p=null,h._unregisterChildForDispose(o)),u=!1}},this._unregisterChildForDispose=function(e){if(!u){var t=f.lastIndexOf(e);t<0?c("lifetime Manager internal error. this._unregisterChildForDispose is called but the disposeable is not one of the child it created."):t===f.length-1?f.pop():f.splice(t,1)}}}return e.prototype.dispose=function(){this._dispose()},e}();function c(e){var t="string"==typeof e?(0,n.createError)(e):e;if(s)throw t;Promise.reject(t)}function d(e,t){var n="function"==typeof e.dispose?e.dispose:"function"==typeof e?e:null;return t&&n&&n.call(e),!!n}t.TriggerableLifetimeManager=u})),
define("FxInternal/Rpc",["require","exports","Fx/DependencyInjectionCore","FxInternal/Lifetime","Fx/Errors","FxInternal/Errors","FxInternal","FxInternal/Features"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.FuncEndPointDefinition=t.FuncEndPointDefinitionBase=t.ActionEndPointDefinition=t.ActionEndPointDefinitionBase=t.EndPointDefinition=t.Client=t.PendingObjectTable=t.EndPointTable=t.MessageMultiplexer=t.MessageDispatcher=t.RpcChannel=t.DisposableValueDictionary=t.DisposableValue=void 0,t.getMessageContext=function(){return l},t.createCallStack=v,t.createRpcError=g,t.getCurrentCallStack=function(e){return v((0,a.getCurrentCallStack)(e))};var l,u=window.fx.getTimestamp,c="fxw",d={cannotDefineHandler:"",badRefCount:"",routeExists:"",endpointExists:"",notStarted:""},p=(0,a.getErrorMap)(d),f=(0,a.generateNonSerializableProperty)("_RPC_Exception_")+"\n";function m(e){(FxImpl.Rpc||(FxImpl.Rpc={})).messageContext=e,l=e}var h="From RPC:";function v(e,t,n){void 0===t&&(t=l);var r=t&&t.callStack,o=e||"";return r&&(e.includes(h)||(o="".concat(o.slice(0,3e3),"\r\n").concat(h," ").concat(t.srcWindowId," -> ").concat(t.destWindowId).concat(n?" (".concat(n,")"):"","\r\n").concat(r))),o.slice(0,6e3)}function g(e){var t={message:e.message,stack:e.stack,data:e.data,errorLevel:e.errorLevel,_sourceErrorLevel:e._sourceErrorLevel},n=t.stack||"";return t.stack=n.startsWith(f)?n:f+n,t}var y=function(){function e(e){this.value=e,this._disposeCallbacks=[]}return e.prototype.getValue=function(){return this.value},e.prototype.dispose=function(e){if(this._disposeCallbacks){this._disposeReason=e;var t=this._disposeCallbacks;this._disposeCallbacks=null;for(var n=0,r=t;n<r.length;n++){var o=r[n];try{o(e)}catch(e){setTimeout((function(){throw e}),0)}}}},e.prototype.onDispose=function(e){this._disposeCallbacks?this._disposeCallbacks.push(e):e(this._disposeReason)},e}();t.DisposableValue=y;var b=function(){function e(e){this._countChangesCallback=e,this._map=new Map}return e.prototype.getValue=function(e){return this._map.get(e)},e.prototype.setValue=function(e,t){var n=this._map,r=this._countChangesCallback,o=n.has(e);return n.set(e,t),!o&&r&&r(e,!0),t.onDispose((function(){n.delete(e)&&r&&r(e,!1)})),t},e.prototype.getValues=function(){var e=[];return this._map.forEach((function(t){e.push(t)})),e},e.prototype.dispose=function(){var e=this.getValues();(0,a.disposeDisposable)(e),this._map.clear()},e.prototype.disposeValues=function(e){var t=this,n=e.map((function(e){return t._map.get(e)})).filter((function(e){return!!e}));(0,a.disposeDisposable)(n)},e}();t.DisposableValueDictionary=b;var x=function(e){function t(t){var n=this,r=t instanceof Promise&&t.then((function(e){return o=e})),o=!r&&t;return(n=e.call(this,o)||this).onDispose((function(){return __awaiter(n,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){switch(n.label){case 0:return(t=o)?[3,2]:[4,r];case 1:t=n.sent(),n.label=2;case 2:return(e=t).onmessage=null,e.close(),[2]}}))}))})),n.onMessage=function(e){var t=function(t){t.onmessage=e};o?t(o):r.then(t)},n.postMessage=function(e,t){o?o.postMessage(e,t):r.then((function(n){n.postMessage(e,t)}))},n}return __extends(t,e),t}(y);t.RpcChannel=x;var C=function(){function e(e){this._handler=e,this._outerList=[],this._sourceList=[],this._outerListIndex=0,this._innerListIndex=0}return e.prototype._processInnerList=function(){var e,t=this,n=this._outerList[this._outerListIndex],r=this._sourceList[this._outerListIndex],o=n.length;try{for(e=this._innerListIndex;e<o;e++)this._handler(n[e],r)}finally{e<o-1?(this._innerListIndex=e+1,(0,a.nextTick)((function(){t._processOuterList()}))):(this._outerListIndex++,this._innerListIndex=0)}},e.prototype._processOuterList=function(){for(;this._outerListIndex<this._outerList.length;)this._processInnerList();this._outerList.length=0,this._sourceList.length=0,this._outerListIndex=0},e.prototype.addItem=function(e,t){this._outerList.push(e),this._sourceList.push(t),this._processOuterList()},e.prototype.isEmpty=function(){return this._outerListIndex>=this._outerList.length},e}();t.MessageDispatcher=C;var _=function(){function e(e,t){var n=this;this._useSlowFlush=e,this._sender=t,this._frameBuffer=[],this.flush=function(){n._frameBuffer.length>0&&(n._sender(n._frameBuffer),n._frameBuffer.length=0),n._isCallbackScheduled=!1},this._isCallbackScheduled=!1}return e.prototype._schedule=function(){this._isCallbackScheduled||(this._isCallbackScheduled=!0,this._useSlowFlush?setTimeout(this.flush,0):(0,a.nextTick)(this.flush))},e.prototype.send=function(e){this._schedule(),this._frameBuffer.push(e)},e}();function w(){throw new Error("Handler is not defined.")}var P=function(){function e(e,t){this._listener=e,this._handlerMap=[];for(var n=0;n<t;n++)this._handlerMap.push(w)}return e.prototype.handleMessage=function(e,t){this._handlerMap[e.kind](e.data,t)},e.prototype.registerHandler=function(e,t){var n=this;return(e>=this._handlerMap.length||this._handlerMap[e]!==w)&&p.cannotDefineHandler(),this._handlerMap[e]=t,function(t,r){n._listener({kind:e,data:t},r)}},e}();function E(e,t){return{port:t[e.portIndex],portId:e.portId,portIndex:0}}function F(e,t){var n=t.length;return t.push(e.port),{port:void 0,portId:e.portId,portIndex:n}}function M(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];0===o.data.kind&&(e[r]={callStack:o.callStack,srcInstanceIndex:o.srcInstanceIndex,destWindowId:o.destWindowId,srcWindowId:o.srcWindowId,data:{kind:0,data:n(o.data.data,t)}})}}t.MessageMultiplexer=P;var S=function(){function e(e,t,n,r){var o=this;this.remoteId=e,this._messageHandler=t,this._log=n,this._rpcChannel=void 0,this._sender=void 0,this._handleMessage=function(e){var t=e.data;e.ports&&e.ports.length&&M(t,e.ports,E),o._messageHandler.addItem(t,o)},this.setChannel=function(e){var t,n;if(e){o._rpcChannel=e;var i=function(t){var n=[];M(t,n,F);var r=!1;try{e.postMessage(t,n),r=!0}finally{r||o._log.error("Post message from '".concat(window.location.href,"' to '").concat(o.remoteId,"' failed. This will hang RPC."),0,(0,a.getObjectDescriptor)(t))}};o._sender=r?new _(o.remoteId===c,i):{send:function(e){i([e])}},e.onMessage(o._handleMessage)}else null===(n=(t=o._sender).flush)||void 0===n||n.call(t),o._rpcChannel.dispose(void 0),o._rpcChannel=void 0,o._sender=void 0}}return e.prototype.send=function(e){this._sender&&this._sender.send(e)},e}(),I=function(){function e(){this._refCounts=new Map,this.totalCount=0}return e.prototype.updateRef=function(e,t,n){var r=this._refCounts.get(t)||this._refCounts.set(t,new Set).get(t);return n?(!r.has(e)&&this.totalCount++,r.add(e)):r.delete(e)&&this.totalCount--,this.totalCount},e.prototype.clearRefCounts=function(){var e=this.totalCount;return this._refCounts.clear(),this.totalCount=0,e},e.prototype.getRefs=function(){var e=this;return Array.from(this._refCounts.keys()).reduce((function(t,n){return t[n]=Array.from(e._refCounts.get(n).keys()),t}),[])},e}(),k=function(){function e(){this._refCounts={},this._subscriptions=[],this.totalCount=0}return e.prototype._getRefCountSet=function(e,t){var n=this._refCounts[e];return!n&&t&&(this._refCounts[e]=n=new I),n},e.prototype.setRefCount=function(e,t,n,r){var o=this._getRefCountSet(e,!0),i=o.totalCount,a=o.updateRef(t,n,r),s=a-i;return s?(this._updateTotal(s),s>0?i?1:0:a?3:2):4},e.prototype.clearRefCountsFrom=function(e){var t=this._getRefCountSet(e);if(t){var n=t.clearRefCounts();this._updateTotal(-n)}},e.prototype.getRefCountsFrom=function(e){var t=this._getRefCountSet(e);return t?t.totalCount:0},e.prototype.getRefsFrom=function(e){var t=this._getRefCountSet(e);return t?t.getRefs():{}},e.prototype.subscribe=function(e){this._subscriptions.push(e)},e.prototype._updateTotal=function(e){var t=this;this.totalCount+=e,this._subscriptions.forEach((function(e){return e(t.totalCount)}))},e}(),A=function(){function e(e,t,n,r,o){this._windowId=e,this._routeWindowSetter=t,this._clearRefCountsFunc=n,this._sendShutdownMessage=r,this._loadChannelFunction=o,this._windowUnloadTimeoutHandle=0,this._channel=void 0,this._instanceIndex=0}return e.prototype.isAlive=function(){return!this._windowUnloadTimeoutHandle&&!!this._channel},e.prototype.setWindowLoaded=function(e){var t=this;if(e)if(this._channel)0!==this._windowUnloadTimeoutHandle&&(clearTimeout(this._windowUnloadTimeoutHandle),this._windowUnloadTimeoutHandle=0);else{var n=this._instanceIndex++,r=void 0;try{this._channel=this._loadChannelFunction(this._windowId,n)}catch(e){r=e}this._channel?(this._channel.onDispose((function(e){t._channel=void 0;var r=t._windowId;t._sendShutdownMessage(void 0,r),t._routeWindowSetter.setRouteChannel(r,null),clearTimeout(t._windowUnloadTimeoutHandle),t._windowUnloadTimeoutHandle=0,t._clearRefCountsFunc({instanceIndex:n,windowId:r,error:{message:e||"The RPC channel '".concat(r,"' was terminated for an unknown reason."),stack:void 0,data:void 0,errorLevel:2}})})),this._routeWindowSetter.setRouteChannel(this._windowId,this._channel)):this._clearRefCountsFunc({instanceIndex:n,windowId:this._windowId,error:{message:D(r,"Fail to load RPC channel '".concat(this._windowId,"'.")),stack:r&&r.stack,data:void 0,errorLevel:r&&r.errorLevel}})}else!e&&this._channel&&0===this._windowUnloadTimeoutHandle&&(this._windowUnloadTimeoutHandle=setTimeout((function(){t.terminate("The RPC channel '".concat(t._windowId,"' was garbage collected."))}),24e4))},e.prototype.terminate=function(e){this._channel&&this._channel.dispose(e)},e}(),T=function(){function e(e,t,n,r){var o=this;this._routeWindowSetter=e,this._sendResetMessage=t,this._sendShutdownMessage=n,this._loadChannelFunction=r,this._refCounts={},this._knownWindows=[c],this._loadableWindows={},this._clearRefCountsFunction=function(e){for(var t=0,n=o._knownWindows;t<n.length;t++){var r=n[t],i=e.windowId,a=o.getWindowRefCounts(r,!1),s=o.getWindowRefCounts(i,!1);(s&&s.getRefCountsFrom(r)>0||a&&a.getRefCountsFrom(i)>0)&&o._sendResetMessage(__assign(__assign({},e),{referenceIds:null==s?void 0:s.getRefsFrom(r)}),r),s&&s.clearRefCountsFrom(r),a&&a.clearRefCountsFrom(i)}}}return e.prototype._getLoadableWindow=function(e){var t=this._loadableWindows[e];return t||e===c||(t=new A(e,this._routeWindowSetter,this._clearRefCountsFunction,this._sendShutdownMessage,this._loadChannelFunction),this._loadableWindows[e]=t,this._knownWindows.push(e)),t},e.prototype.setRefCount=function(e,t){var n=t.target,r=this.getWindowRefCounts(n,!0).setRefCount(e,t.referenceId,t.kind,t.isAdd),o=this._getLoadableWindow(n);return o&&(t.isAdd&&!o.isAlive()||2===r&&o.isAlive())&&this._refreshLoadedState(),r},e.prototype.getWindowRefCounts=function(e,t){var n=this._refCounts[e];return!n&&t&&(this._refCounts[e]=n=new k),n},e.prototype.terminateWindow=function(e,t){this._getLoadableWindow(e).terminate(t)},e.prototype._refreshLoadedState=function(){for(var e={},t=[c],n=Object.keys(this._loadableWindows),r=n.slice();t.length>0;){for(var o=[],i=0,a=t;i<a.length;i++)for(var s=a[i],l=r.length-1;l>=0;l--){var u=r[l];this.getWindowRefCounts(u,!0).getRefCountsFrom(s)>0&&(e[u]=void 0,o.push(u),r.splice(l,1))}t=o}for(var d=0,p=n;d<p.length;d++){var f=p[d];this._loadableWindows[f].setWindowLoaded(f in e)}},e}();function D(e,t){return("string"==typeof e?e:e&&e.message&&e.message+"")||t+" No error message could be found. Check whether the error was signaled with an Error object."}function R(e,t,n){var r,o=l;m(e);try{return t(e)}catch(e){throw(r=e)&&"string"==typeof r.stack&&(r.stack=v(r.stack)),n(e),e}finally{m(o)}}var B=function(){function e(e,t,n,r,o,i,s){var l=this;this._instanceIndex=e,this.localWindowId=t,this._reportError=o,this._log=i,this._logging=s,this._handleMessage=function(e){return l.routedMessageRelay.handleMessage(e.data,e)},this._messageDispatcher=new C((function(e,t){var n=t.remoteId,r=e.srcWindowId;if(n===c||n===r){var o=e.destWindowId;o===l.localWindowId?R(e,l._handleMessage,l._reportError):l._baseDispatcher.sendMessage(o,e)}else l._log.error("Message from route to '".concat(n,"' specifies an invalid window ID '").concat(r,"'."),1)})),this._routedMessageClients=[],this.routedMessageRelay=new P((function(e,t){var n=l.localWindowId,r={callStack:(0,a.getCurrentCallStack)(),srcInstanceIndex:l._instanceIndex,destWindowId:t,srcWindowId:n,data:e};if(n===t)R(r,l._handleMessage,l._reportError);else{var o=n===c?t:c;l._baseDispatcher.sendMessage(o,r)}}),12),this._sendRefCount=this.routedMessageRelay.registerHandler(5,(function(e,t){l._shellRefCounter?l._shellRefCounter.setRefCount(t.srcWindowId,e):p.badRefCount()})),this.log=this.routedMessageRelay.registerHandler(4,(function(e){l._logging.writeEntry(e.level,e.area,e.message,e.code)})),this.raiseRemoteException=this.routedMessageRelay.registerHandler(3,(function(e){throw g(e)})),this._baseDispatcher=new N(this._messageDispatcher,r,i,t);var u=this.routedMessageRelay.registerHandler(1,(function(e,t){t.srcWindowId===c&&l._routedMessageClients.forEach((function(t){t.reset(e)}))})),d=this.routedMessageRelay.registerHandler(2,(function(e,t){t.srcWindowId===c&&(l._logging.flush(),l._logging.disable())}));n&&(this._shellRefCounter=new T(this._baseDispatcher,u,d,n))}return e.prototype.getTotalRefCounts=function(e){return this._shellRefCounter.getWindowRefCounts(e,!0)},e.prototype.terminateWindow=function(e,t){return this._shellRefCounter.terminateWindow(e,t)},e.prototype.createClient=function(e,t,n,r,o){var i=new e(this,t,n,r,o);return this._routedMessageClients.push(i),i},e.prototype.setRefCount=function(e,t,n,r){var o={target:e,kind:n,referenceId:t,isAdd:r};this._shellRefCounter?this._shellRefCounter.setRefCount(c,o):this._sendRefCount(o,c)},e.prototype.dispose=function(){this._baseDispatcher.dispose()},e}(),N=function(){function e(e,t,n,r){(this._messageHandler=e,this._log=n,this._localWindowId=r,this._routes=Object.create(null),t)&&this._registerRoute(c).setChannel(t)}return e.prototype.sendMessage=function(e,t){var n=this._routes[e];if(n)return n.send(t)},e.prototype.setRouteChannel=function(e,t){var n=this._routes[e];n||(n=this._registerRoute(e)),n.setChannel(t)},e.prototype._registerRoute=function(e){this._routes[e]&&p.routeExists(e);var t=!("fx"===this._localWindowId||"fxw"===this._localWindowId)||"fxw"===this._localWindowId&&"fx"===e;return this._routes[e]=new S(e,this._messageHandler,this._log,t)},e.prototype.dispose=function(){for(var e in this._routes)this._routes[e].setChannel(void 0)},e}(),O=function(){function e(e,t,n){this._name=e,this._options=t,this._reportError=n,this._results=new WeakSet}return e.prototype.invoke=function(e,t,n,i,s){var l=this,u=this._options,c=(0,a.makeArray)(u.allowedOrigin),d=new r.TriggerableLifetimeManager,p=n(d,u),f=function(e,n){(0,a.disposeDisposable)(p);var r="string"==typeof(e=e||{}).stack,i=v(r?e.stack:"",t,l._name),u=o.isInstanceOfErrorType(e,o.FxError)?e:new o.FxError({message:D(e,"The RPC call '".concat(l._name,"' returned an error.")),stack:i});if(s(u),!n)throw r&&(e.stack=i),e},m=function(e){e&&"object"==typeof e&&(l._results.has(e)&&l._reportError(new Error("The endpoint '".concat(l._name,"' has returned the same object more than one time. This may cause errors.'"))),l._results.add(e))};if(c.length&&!c.includes(t.srcWindowId))f("The origin window '".concat(t.srcWindowId,"' is not allowed to access the endpoint name '").concat(this._name,"'."),!0);else try{var h=u.handler(e,{callStack:t.callStack,port:p,destWindowId:t.destWindowId,ltm:d,srcInstanceIndex:t.srcInstanceIndex,srcWindowId:t.srcWindowId},d);(0,a.isPromiseLike)(h)?Promise.resolve(h).then((function(e){m(e),R(t,(function(){return i(e,p)}),l._reportError)}),f):(m(h),i(h,p))}catch(e){f(e)}},e}(),L=function(){function e(e,t,n){this._registrationTimeoutInMs=e,this._reportError=t,this._log=n,this._endPoints={},this._endPointDeferred={}}return e.prototype.registerEndPoint=function(e,t){if(this._endPoints[e])p.endpointExists(e);else{var n=new O(e,t,this._reportError),r=this._endPointDeferred[e];this._endPoints[e]=n,r&&(r.resolve(n),delete this._endPointDeferred[e])}},e.prototype.invokeEndPoint=function(e,t,n,r,i,a){var s=this,l=this._endPoints[e];if(l)l.invoke(t,n,r,i,a);else{this._log.verbose("Attempted to invoke endpoint '".concat(e,"' but it is not registered. RPC call has been blocked until endpoint becomes registered."));var u=this._endPointDeferred[e];u||(u=Promise.withResolvers(),this._endPointDeferred[e]=u);var c=setTimeout((function(){c=0;var t="Attempted to invoke endpoint '".concat(e,"' from '").concat(n.srcWindowId,"' but it is not registered after ").concat(s._registrationTimeoutInMs,"ms. The call was made in:\r\n'").concat(n.callStack,"'");a(new o.FxError(t)),s._log.warning(t)}),this._registrationTimeoutInMs);u.promise.then((function(e){c&&(clearTimeout(c),R(n,(function(n){return e.invoke(t,n,r,i,a)}),s._reportError))}))}},e}();t.EndPointTable=L;var j=function(){function e(e,t,n,r,o,i){this._destination=e,this._refCounter=t,this._kind=n,this._trackPerformance=r,this._log=o,this._recorder=i,this._pendingRpcCall=new Map,this._connectionId=0}return e.prototype._setRefCount=function(e,t){this._refCounter.setRefCount(this._destination,e,this._kind,t)},e.prototype.getMetadata=function(e){return this._pendingRpcCall.get(e)},e.prototype.create=function(e,t,n){var r=this,o=Q.defer(),i=(0,a.getCurrentCallStack)(),s=this._connectionId++,l=u(),c=this._trackPerformance?e+s:"",d=this._recorder&&function(t){if(t>=0){var n=u()-l,o=e.split("."),i=o[o.length-1];r._recorder({name:i,callerDuration:n,handlerDuration:t})}};c&&performance.mark(c),this._pendingRpcCall.set(s,{creationCallStack:i,endPointName:e,performanceMarker:c,returnValue:o,telemetryContext:n,recordInvocation:d}),this._setRefCount(s,!0);var p=setTimeout((function(){r._log.warning("RPC call to '".concat(e,"' in '").concat(r._destination,"' took too long. ConnectionId: ").concat(s),0,u()-l,i)}),3e5);return t(s),Q(o.promise).finally((function(){clearTimeout(p),(0,a.nextTick)((function(){r._pendingRpcCall.delete(s),r._setRefCount(s,!1)}))}))},e.prototype.resolve=function(e,t,n){var r,o=this._pendingRpcCall.get(e);if(o){var i=o.performanceMarker;i&&performance.measure(["RPC:",this._destination,o.endPointName].join(" "),i),null===(r=o.recordInvocation)||void 0===r||r.call(o,n),o.returnValue.resolve(t)}},e.prototype.reject=function(e,t){var n,r,i=this._pendingRpcCall.get(e);i&&(t.error.stack=t.error.stack||i.creationCallStack,null===(n=i.recordInvocation)||void 0===n||n.call(i,-1),i.returnValue.reject((r=t.error,new o.FxError(r))))},e.prototype.handleResetMessage=function(e){var t,n=this,r=null===(t=e.referenceIds)||void 0===t?void 0:t[3];null==r||r.forEach((function(t){n.reject(t,e)}))},e.prototype.dispose=function(){this._pendingRpcCall.clear()},e.prototype.getPendingInvokes=function(){return Array.from(this._pendingRpcCall.values()).map((function(e){return{name:e.endPointName,promise:e.returnValue.promise}}))},e}();t.PendingObjectTable=j;var V=function(){function e(e,t,n,r,o){var i=this;this._clientCtx=e,this._endPoints=t,this._log=n,this._features=r,this._recorder=o,this._targetWindows=Object.create(null);var s=e.routedMessageRelay;this._sendInvokeFunc=s.registerHandler(6,(function(e,t){var n=t.srcWindowId,r=e.connectionId,o=(0,a.startTimer)();i._endPoints.invokeEndPoint(e.name,e.arg,t,a.identity,(function(e,t){i._sendRpcResolveFunc({connectionId:r,successValue:e,handlerDuration:o()},n),(0,a.disposeDisposable)(t)}),(function(e){i._sendRpcRejectFunc({connectionId:r,error:g(e)},n)}))})),this._sendRpcResolveFunc=s.registerHandler(7,(function(e,t){i._getWindowContext(t.srcWindowId).resolve(e.connectionId,e.successValue,e.handlerDuration)})),this._sendRpcRejectFunc=s.registerHandler(8,(function(e,t){i._getWindowContext(t.srcWindowId).reject(e.connectionId,e)}))}return e.prototype._getWindowContext=function(e){return this._targetWindows[e]||(this._targetWindows[e]=new j(e,this._clientCtx,3,this._features.isNativePerf,this._log,this._recorder))},e.prototype.invoke=function(e,t,n,r){var o=this;return Q(this._getWindowContext(t).create(e,(function(r){o._sendInvokeFunc({connectionId:r,name:e,arg:n},t)}),r))},e.prototype.reset=function(e){this._getWindowContext(e.windowId).handleResetMessage(e)},e.prototype.dispose=function(){for(var e in this._targetWindows)this._targetWindows[e].dispose()},e.prototype.getPendingInvokes=function(){var e=this;return Object.keys(this._targetWindows).reduce((function(t,n){return t.push.apply(t,e._targetWindows[n].getPendingInvokes()),t}),[])},e}(),H=function(){function e(e){var t=this;this._routedMsgClientCtx=e,this._targetWindows=Object.create(null),this._transferPort=this._routedMsgClientCtx.routedMessageRelay.registerHandler(0,(function(e,n){t._getWindowContext(n.srcWindowId).portMap[e.portId]=e.port})),this._counter=0}return e.prototype._getWindowContext=function(e){var t=this;return this._targetWindows[e]||(this._targetWindows[e]={acquisitions:new b((function(n,r){t._routedMsgClientCtx.setRefCount(e,n,0,r)})),portMap:[]})},e.prototype.acquireWindow=function(e,t,n){var r=this._counter++,o=new y(r);if(t||(t=24e4),t>0){var i=setTimeout((function(){(0,a.disposeDisposable)(o)}),t);o.onDispose((function(){clearTimeout(i)}))}return this._getWindowContext(e).acquisitions.setValue(r,o),n&&this._transferPort({port:n,portId:o.value,portIndex:0},e),o},e.prototype.detachPort=function(e,t){var n=this._getWindowContext(e).portMap,r=n[t];if(!r)throw new Error("Cannot find port with id '".concat(t,"'"));return delete n[t],r},e.prototype.reset=function(e){var t,n=null===(t=e.referenceIds)||void 0===t?void 0:t[0];n&&this._getWindowContext(e.windowId).acquisitions.disposeValues(n)},e}(),W=function(){function t(e,t,n,r){var o,i=this;this._registrationTimeoutInMs=e,this._reportError=t,this._logging=n,this._features=r,this._disposed=!1,this._log=n.createLog("MsPortalFx/Base/Base.Rpc2"),this.reset(),this._recorder=function(e){null==o||o(e)},this.record=function(){var e=[],t=o=function(t){e.push(t)};return function(){return i._recorder===t&&(o=null),e}};var a=[],s=this.pendingInvocationCount={subscribe:function(e){a.push(e)},totalCount:0};this._trackInvocation=function(e){s.totalCount+=1,e.finally((function(){var e=s.totalCount-=1;a.forEach((function(t){t(e)}))}))}}return t.prototype.registerRpcEndPoint=function(e,t){this._rpcEndPoints.registerEndPoint(e,t)},t.prototype.log=function(e,t){this._assertReady(),this._dispatcher.log(t,e)},t.prototype.invokeRpc=function(e,t,n,r){this._assertReady();var o=this._rpcClient.invoke(e,this._windowRedirectMap[t]||t,n,r);return this._trackInvocation(o),Q(o)},t.prototype.getTotalRefCountTo=function(e){return this._assertReady(),this._dispatcher.getTotalRefCounts(e)},t.prototype.detachPort=function(e,t){return this._windowAcquirer.detachPort(e,t)},t.prototype.acquireWindow=function(e,t,n){return this._assertReady(),this._windowAcquirer.acquireWindow(this._windowRedirectMap[e]||e,t,n)},t.prototype.terminateWindow=function(e,t){this._assertReady(),this._dispatcher.terminateWindow(e,t)},t.prototype.start=function(e){this._windowRedirectMap=e.windowRedirectMap||{};var t=new B(e.instanceIndex,e.originId,e.loadChannelFunction,e.shellChannel,this._reportError,this._log,this._logging);this._dispatcher=t,this._rpcClient=t.createClient(V,this._rpcEndPoints,this._log,this._features,this._recorder),this._windowAcquirer=t.createClient(H,null,this._log,this._features,null)},t.prototype.reset=function(){this._rpcClient&&(this._rpcClient.dispose(),this._rpcClient=null),this._dispatcher&&(this._dispatcher.dispose(),this._dispatcher=null),this._rpcEndPoints=new L(this._registrationTimeoutInMs,this._reportError,this._log)},t.prototype.dispose=function(){this._disposed=!0,this.reset()},t.prototype.getPendingInvokes=function(){return this._rpcClient.getPendingInvokes()},t.prototype._assertReady=function(){if(this._disposed)throw new i.FxDisposedCanceledError;this._dispatcher||p.notStarted()},t=__decorate([__metadata("fx:diagnostics",[e,"Client"]),n.Value(),__metadata("design:paramtypes",[Number,Function,Object,s.Features])],t)}();t.Client=W;var q=function(e){this.name=e};t.EndPointDefinition=q;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.register=function(e,t,n){e.registerRpcEndPoint(this.name,{allowedOrigin:t,handler:n})},t}(q);t.ActionEndPointDefinitionBase=z;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.invoke=function(e,t,n){return Q(e.invokeRpc(this.name,t,n))},t}(z);t.ActionEndPointDefinition=U;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.register=function(e,t,n){e.registerRpcEndPoint(this.name,{allowedOrigin:t,handler:n})},t}(q);t.FuncEndPointDefinitionBase=G;var $=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.invoke=function(e,t,n){return Q(e.invokeRpc(this.name,t,n))},t}(G);t.FuncEndPointDefinition=$})),
define("FxHubs/RpcEndPointsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){var r,o,i,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Subscriptions=t.Impl=t.Directories=t.Browse=t.AssetTypes=void 0,function(e){e.getAssetTypesInformationEndPoint=new n.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getAssetTypesInformation"),e.getAssetMarketplaceExtractsEndpoint=new n.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getAssetMarketplaceExtract"),e.getSingleAssetTypeInformationEndPoint=new n.FuncEndPointDefinition("MsPortalHubs.RpcEndPoints.getSingleAssetTypeInformation")}(r||(t.AssetTypes=r={})),function(e){e.getBrowsePrereqsEndpoint=new n.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowsePrerequisites"),e.getBrowseManifestsEndpoint=new n.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowseManifests"),e.getBrowseManifestsForResourceTypesEndpoint=new n.FuncEndPointDefinition("FxHubs.RpcEndpoints.getBrowseManifestsForResourceTypes"),e.onBrowseColumnsUpdatedEndPoint=new n.ActionEndPointDefinition("onBrowseColumnsUpdated"),e.onBrowseFavoriteViewIdUpdatedEndPoint=new n.ActionEndPointDefinition("onBrowseFavoriteViewIdUpdated"),e.getBrowseViewsEndPoint=new n.FuncEndPointDefinition("FxHubs.RpcEndPoints.getBrowseViews"),e.saveBrowseViewEndPoint=new n.FuncEndPointDefinition("FxHubs.RpcEndPoints.saveBrowseView"),e.loadBrowseViewEndPoint=new n.FuncEndPointDefinition("FxHubs.RpcEndPoints.loadBrowseView"),e.updateBrowseViewLruEndPoint=new n.FuncEndPointDefinition("FxHubs.RpcEndPoints.updateBrowseViewLru")}(o||(t.Browse=o={})),function(e){e.getDirectoriesMapEndPoint=new n.FuncEndPointDefinition("getDirectoriesMap")}(i||(t.Directories=i={})),function(e){e.getDirectoriesMap=function(e){return i.getDirectoriesMapEndPoint.invoke(e,"fx",null)}}(a||(t.Impl=a={})),function(e){e.getAllSubscriptionsCountEndPoint=new n.FuncEndPointDefinition("getAllSubscriptionsCount")}(s||(t.Subscriptions=s={}))})),
define("FxHubs/RpcEndPoints",["require","exports","FxHubs/RpcEndPointsCore","Fx"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeSafety=t.SessionManager=t.DashboardEndpoints=t.PartFilterEndpoints=t.BrowserStorageSettings=t.Impl=t.NotifyResourceCreated=t.Curation=t.Events=t.Experimentation=t.ResourceManager=t.Auth=t.Marketplace=t.Provisioning=t.Subscriptions=t.Directories=t.PortalServices=t.Menus=t.AssetTypes=t.AssetMenu=t.ArtBrowse=t.Constants=void 0;var o,i,a,s,l,u,c,d,p,f,m,h,v,g,y,b,x,C,_,w,P,E=MsPortalFx.Base.Constants,F=FxImpl.Rpc,M=F.FuncEndPointDefinition,S=F.ActionEndPointDefinition,I=F.FuncEndPointDefinition,k=FxImpl.Constants.RpcMethods;!function(e){e.updateContactEmail="MsPortalHubs.RpcEndPoints.updateContactEmail",e.getResourceAssetInformation="MsPortalHubs.RpcEndPoints.getResourceAssetInformation",e.mapResourceIdToDynamicSelectionAndIcon="MsPortalHubs.RpcEndPoints.mapResourceIdToDynamicSelectionAndIcon",e.getBladeDefinition="MsPortalHubs.RpcEndpoints.getBladeDefinition",e.doesBladeDefinitionExist="MsPortalHubs.RpcEndpoints.doesBladeDefinitionExist",e.getDefaultUxManifest="MsPortalHubs.RpcEndpoints.getDefaultUxManifest",e.getInSessionDisplayedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getInSessionDisplayedSubscriptions",e.getAllSubscriptionsCount="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getAllSubscriptionsCount",e.pastDueSubsWarning="MsPortalHubs.RpcEndPoints.pastDueSubsWarning",e.getTenantsCount="MsPortalHubs.RpcEndPoints.Directories.getTenantsCount",e.getSharedCuration="MsPortalHubs.RpcEndPoints.getSharedCuration",e.getResourceTypesCategorization="MsPortalHubs.RpcEndPoints.getResourceTypesCategorization",e.getRecentResources="MsPortalHubs.RpcEndPoints.getRecentResources",e.setRecentResources="MsPortalHubs.RpcEndPoints.setRecentResources",e.addRecentResource="MsPortalHubs.RpcEndPoints.addRecentResource",e.getFavoriteResources="MsPortalHubs.RpcEndPoints.getFavoriteResources",e.isResourceFavorite="MsPortalHubs.RpcEndPoints.isResourceFavorite",e.addFavoriteResource="MsPortalHubs.RpcEndPoints.addFavoriteResource",e.addFavoriteResources="MsPortalHubs.RpcEndPoints.addFavoriteResources",e.removeFavoriteResource="MsPortalHubs.RpcEndPoints.removeFavoriteResource",e.getMarketplaceUserSettings="MsPortalHubs.RpcEndPoints.Marketplace.getMarketplaceUserSettings",e.publishIrisNotificationsTelemetry="MsPortalHubs.RpcEndPoints.publishIrisNotificationsTelemetry",e.cacheNewlyCreatedResources="MsPortalHubs.RpcEndPoints.cacheNewlyCreatedResources",e.createPostProvisioningContent="createPostProvisioningContent",e.getSpecsCosts="getSpecsCosts",e.getCurrentUser="getCurrentUser",e.getSessionHistory="getSessionHistory",e.getChangeStateForRequest="MsPortalHubs.RpcEndPoints.getChangeStateForRequest",e.selectChangeStateForRequest="MsPortalHubs.RpcEndPoints.selectChangeStateForRequest"}(o||(t.Constants=o={})),t.ArtBrowse=n.Browse,function(e){e.getResourceMenuPrereqsEndpoint=new M("FxHubs.RpcEndpoints.getResourceMenuPrerequisites"),e.getAssetMenuPrereqsEndpoint=new M("FxHubs.RpcEndpoints.getAssetMenuPrerequisites"),e.getDefaultUxManifestEndPoint=new I(o.getDefaultUxManifest),e.getReactAssetTypeViewModelEndpoint=new F.ProxiedObjectTypeDefinition("FxHubs.RpcEndpoints.getReactAssetTypeViewModel")}(i||(t.AssetMenu=i={})),function(e){e.getAssetTypesInformationEndPoint=n.AssetTypes.getAssetTypesInformationEndPoint,e.getAssetMarketplaceExtractsEndpoint=n.AssetTypes.getAssetMarketplaceExtractsEndpoint,e.getSingleAssetTypeInformationEndPoint=n.AssetTypes.getSingleAssetTypeInformationEndPoint,e.getResourceAssetInformationEndPoint=new M(o.getResourceAssetInformation),e.getRecentResourcesEndPoint=new M(o.getRecentResources),e.setRecentResourcesEndPoint=new M(o.setRecentResources),e.addRecentResourceEndPoint=new M(o.addRecentResource),e.getFavoriteResourcesEndPoint=new M(o.getFavoriteResources),e.isResourceFavoriteEndPoint=new M(o.isResourceFavorite),e.addFavoriteResourceEndPoint=new M(o.addFavoriteResource),e.addFavoriteResourcesEndPoint=new M(o.addFavoriteResources),e.removeFavoriteResourceEndPoint=new M(o.removeFavoriteResource),e.cacheNewlyCreatedResourcesEndPoint=new M(o.cacheNewlyCreatedResources)}(a||(t.AssetTypes=a={})),function(e){e.getBrowseMenuEndpoint=new M("getBrowseMenu"),e.getMenuEndpoint=new M("getMenu")}(s||(t.Menus=s={})),function(e){e.getPortalServiceEndpoint=new M("getPortalService")}(l||(t.PortalServices=l={})),function(e){e.getDirectoriesMapEndPoint=new M("getDirectoriesMap"),e.getSubscriptionsForSelectedDirectoriesEndPoint=new M("getSubscriptionsForSelectedDirectories"),e.getHomeTenantsCountEndPoint=new M(o.getTenantsCount)}(u||(t.Directories=u={})),function(e){e.getInSessionDisplayedSubscriptionsEndPoint=new M(o.getInSessionDisplayedSubscriptions),e.getAllSubscriptionsCountEndPoint=n.Subscriptions.getAllSubscriptionsCountEndPoint,e.pastDueSubsWarningEndpoint=new M(o.pastDueSubsWarning)}(c||(t.Subscriptions=c={})),function(e){e.getBladeDefinitionLocatorEndPoint=new I(o.getBladeDefinition),e.doesBladeDefinitionExistEndPoint=new I(o.doesBladeDefinitionExist),e.marketplaceOverrideEndpoint=new I("MarketplaceOverrideEndpoint"),e.createPostProvisioningContentEndPoint=new FxImpl.Rpc.ProxiedObjectTypeDefinition("createPostProvisioningContent")}(d||(t.Provisioning=d={})),function(e){e.getMarketplaceUserSettingsEndPoint=new M(o.getMarketplaceUserSettings)}(p||(t.Marketplace=p={})),function(e){e.getCurrentUserEndPoint=new M(o.getCurrentUser),e.getCurrentUser=(0,r.memoizePromise)((function(t){return e.getCurrentUserEndPoint.invoke(t,"fx")}))}(f||(t.Auth=f={})),function(e){e.notifyDeploymentEndPoint=new F.FuncEndPointDefinition(k.notifyDeployment),e.pollDeploymentEndPoint=new F.FuncEndPointDefinition(k.pollDeployment),e.internalDeploymentHelper=new F.FuncEndPointDefinition(k.internalDeploymentHelper)}(m||(t.ResourceManager=m={})),function(e){e.experimentationEndpoint=new F.FuncEndPointDefinition(k.experimentationHelper),e.experimentationValuesEndpoint=new F.FuncEndPointDefinition(k.experimentationValuesHelper)}(h||(t.Experimentation=h={})),function(e){e.notifyAssetDeletedDefinition=new F.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.NotifyAssetDeleted"),e.createResourceDeletedEventDefinition=new F.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.CreateResourceDeletedEvent"),e.matchEventsDefinition=new F.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.Hubs.MatchEvents"),e.removeArmEventSubscriptionDefinition=new F.ActionEndPointDefinition("MsPortalFx.UI.AssetManager.Hubs.RemoveArmEventSubscription"),e.subscribeToArmEventDefinition=new F.ProxiedObjectTypeDefinition("MsPortalFx.UI.AssetManager.Hubs.SubscribeToArmEvent")}(v||(t.Events=v={})),function(e){e.getSharedCurationEndpoint=new M(o.getSharedCuration),e.getResourceTypesCategorizationEndPoint=new I(o.getResourceTypesCategorization)}(g||(t.Curation=g={})),function(e){e.notifyResourcesCreatedEndpoint=new FxImpl.Rpc.ActionEndPointDefinition("MsPortal.RpcEndPoints.notifyResourcesCreated")}(y||(t.NotifyResourceCreated=y={})),function(e){var t=FxImpl.Composition.Selectable;function n(e,n){return Promise.resolve(new t.PdlBladeReference(e.detailBlade,e.extension,{parameters:e.detailBladeInputs,onClosed:n}))}e.getInSessionDisplayedSubscriptions=function(e){return c.getInSessionDisplayedSubscriptionsEndPoint.invoke(e,E.Shell,null)},e.getAllSubscriptionsCount=function(e){return c.getAllSubscriptionsCountEndPoint.invoke(e,"fxw",null)},e.mapResourceIdToBladeReference=function(e,t){return FxImpl.Extension.mapResourceIdToDynamicSelectionAndIconEndPoint.invoke(F.client,E.Shell,{resourceId:e,forceBladeSelection:!0}).then((function(e){return n(e.selection,t)}))},e.mapDynamicBladeSelectionToBladeReference=n,e.irisTelemetryEndpoint=new F.ActionEndPointDefinition(o.publishIrisNotificationsTelemetry),e.getDirectoriesMap=function(e){return u.getDirectoriesMapEndPoint.invoke(e,E.Shell,null)},e.getSubscriptionsForSelectedDirectories=function(e,t){return u.getSubscriptionsForSelectedDirectoriesEndPoint.invoke(e,E.Shell,t)}}(b||(t.Impl=b={})),function(e){e.readBrowserStorageSettingsEndpoint=new I("Shell.readBrowserStorageSettings"),e.writeBrowserStorageSettingsEndpoint=new S("Shell.writeBrowserStorageSettings")}(x||(t.BrowserStorageSettings=x={})),function(e){e.getFilters=new I("Shell.getFilters"),e.getFilterValues=new I("Shell.getFilterValues"),e.getFilterValueDisplayText=new I("Shell.getFilterValueDisplayText"),e.getFilterWarning=new I("Shell.getFilterWarning")}(C||(t.PartFilterEndpoints=C={})),function(e){e.getDashboardDeepLink=new I("Shell.getDashboardDeepLink")}(_||(t.DashboardEndpoints=_={})),function(e){e.getSessionHistoryEndPoint=new M(o.getSessionHistory)}(w||(t.SessionManager=w={})),function(e){e.getChangeStateForRequest=new M(o.getChangeStateForRequest),e.selectChangeStateForRequest=new M(o.selectChangeStateForRequest)}(P||(t.ChangeSafety=P={}))})),
define("FxInternal/ResourceManagement/BrowseBladeCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowseBladeReferenceEndPoint=void 0,t.getBrowseBladeReferenceEndPoint=new n.FuncEndPointDefinition("getBrowseBladeReference")})),
define("FxInternal/ResourceManagement/GlobalResourceFilters",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalResourceFilterObservableEndPoint=void 0;var n=FxImpl.Rpc;t.getGlobalResourceFilterObservableEndPoint=new n.ProxiedObjectTypeDefinition("getGlobalResourceFilterObservable")})),
define("FxInternal/ResourceManagement/GlobalResourceFiltersCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveGlobalResourceFilterEndPoint=void 0,t.getActiveGlobalResourceFilterEndPoint=new n.FuncEndPointDefinition("getActiveGlobalResourceFilter")})),
define("FxInternal/ResourceManagement/Subscriptions",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getInSessionSelectedSubscriptionsObservableEndPoint=void 0;var n=FxImpl.Rpc;t.getInSessionSelectedSubscriptionsObservableEndPoint=new n.ProxiedObjectTypeDefinition("getInSessionSelectedSubscriptionsObservable")})),
define("FxInternal/ResourceManagement/SubscriptionsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getSubscriptionInfoEndPoint=t.getInSessionSelectedSubscriptionsEndPoint=void 0,t.getInSessionSelectedSubscriptionsEndPoint=new n.FuncEndPointDefinition("getInSessionSelectedSubscriptions"),t.getSubscriptionInfoEndPoint=new n.FuncEndPointDefinition("getSubscriptionInfo")})),
define("Fx/ResourceManagement",["require","exports","Fx/Resources/ResourceManagement","FxHubs/RpcEndPoints","FxInternal/ResourceManagement/BrowseBladeCore","FxInternal/ResourceManagement/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","FxInternal/ResourceManagement/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore","Fx/Errors","Fx"],(function(e,t,n,r,o,i,a,s,l,u,c){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.ResourceName=t.ArmId=void 0,t.getBrowseBladeReference=function(e){return o.getBrowseBladeReferenceEndPoint.invoke(y.client,"fx",e)},t.getDynamicDxBladeReference=function(e){var t=MsPortalFx.getEnvironmentValue("extensionName");return{bladeName:"__dv__".concat(e.bladeNameSuffix,"__dx"),extensionName:t}},t.onSelectedSubscriptionsChange=function(e,t){var n=function(n,r){n.subscribe(e,t),r&&t(n())};if(d)return n(d,!0),Promise.resolve(null);var r,o,s=i.getInSessionSelectedSubscriptionsObservableEndPoint.acquireObject(y.client,v.Shell,null).then((function(e){r=d=e.value;var t=!o||!MsPortalFx.deepEquals(o,e.value());n(d,t)})),l=a.getInSessionSelectedSubscriptionsEndPoint.invoke(y.client,"fxw",null).then((function(e){o=e,!r&&t(e)}));return s=Promise.any([s,l])},t.addRecentResource=function(e){var t;if(function(e){return"id"in e&&"type"in e}(e))t={resourceId:e.id,name:m.getDisplayName(e),location:e.location,resourceKind:e.kind};else{if(!function(e){return"subscriptionId"in e}(e))throw new MsPortalFx.Errors.Error("parameter is not a valid resource");t={resourceId:e.subscriptionId,name:e.displayName}}b.invoke(FxImpl.Rpc.client,"HubsExtension",t)},t.onGlobalResourceFilterChange=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,o,i,a;return __generator(this,(function(u){return n=function(n,r){n.subscribe(e,t),r&&t(n())},p?(n(p,!0),[2]):(i=s.getGlobalResourceFilterObservableEndPoint.acquireObject(y.client,v.Shell,null).then((function(e){r=p=e.value;var t=!o||!MsPortalFx.deepEquals(o,e.value());n(p,t)})),a=l.getActiveGlobalResourceFilterEndPoint.invoke(y.client,"fxw",null).then((function(e){o=e,!r&&t(e)})),[2,i=Promise.any([i,a])])}))}))};var d,p,f,m,h=MsPortalFx.Base,v=h.Constants,g=h.Diagnostics,y=FxImpl.Rpc,b=r.AssetTypes.addRecentResourceEndPoint,x=g.createLog(e);!function(e){var t,n,r,o,i,a,s,l,d,p,f,m,h,v,g,y,b,C,_,w,P,E,F,M,S,I,k,A;function T(e,t){var n,r;if(!ee(e))return[];var o=(e.resourceType||"").split("/");return 0!==o.length&&(null===(n=o[0])||void 0===n?void 0:n.toLowerCase())===(null===(r=e.provider)||void 0===r?void 0:r.toLowerCase())||x.error(new u.FxError("Source ArmId had a resource type where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(e))),t?o:o.splice(1)}function D(e){return ee(e)?e.resourceName.split("/"):[]}function R(e){var t={kind:0,subscription:"",resourceGroup:"",provider:"",location:"",nestedResourceTypes:[],isNestedResourceType:!1,tagName:"",tagValue:"",resourceName:"",resourceType:"",resourceIds:[],resourceTypes:[]};return(null==e?void 0:e.excludeNested)&&delete t.nestedResourceTypes,(null==e?void 0:e.excludeNested)&&delete t.isNestedResourceType,t}function B(e,t){return function(n,r,o){return n.armId[e]=o,t}}e.parse=(S=function(t,n,r){return function(t,n,r){if(r){var o=e.validate(t);if(!o.isValid)return __assign(__assign({},n?W:H),{reason:o.reasons.join("; ")})}return z(t,n)}(t,n,r)},(A=function(){I={},k=0})(),function(e,t,n){var r=I[e];void 0===r&&(r={},I[e]=r);var o=t?1:0,i=r[o];void 0===i&&(i={},r[o]=i);var a=n?1:0,s=i[a];return void 0===s&&(s=S(e,t,n),1e3==k++&&c.nextTick(A),i[a]=s),s}),e.stringify=function(e,t){if(!e)return"";var n=Z[t||e.kind];return(null==n?void 0:n.sourceMap[e.kind])?n.builder(e):""},e.sanitizeId=function(e){return 0!==e.kind?MsPortalFx.sanitizeMessage(function(e,t){if(!e)return"";var n=Z[t||e.kind];return(null==n?void 0:n.sourceMap[e.kind])?n.builder(e,!0):""}(e)):"_REDACTED_"},e.hasParentResourceId=function(e){return te(e)},e.getParentResourceArmId=function(e){return ne(e)},e.getParentResourceId=function(t){var n=ne(t);return n&&e.stringify(n)||""},e.getRootResourceArmId=function(e){return re(e)},e.getRootResourceId=function(t){var n=re(t);return n&&e.stringify(n)||""},e.getResourceTypes=T,e.getResourceNames=D,e.getResourceTypeWithoutProvider=function(e){return T(e).join("/")},e.validate=function(e){var t=[];if(null===e)return t.push("ARM ID cannot be null"),{isValid:!1,reasons:t};if(void 0===e)return t.push("ARM ID cannot be undefined"),{isValid:!1,reasons:t};if("string"!=typeof e)return t.push("ARM ID must be a string"),{isValid:!1,reasons:t};if(function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<32||n>=127&&n<=159)return!0}return!1}(e))return t.push("ARM ID contains control characters"),{isValid:!1,reasons:t};var n,r=z(e,!1);return r&&0!==r.kind?(r.subscription&&(n=r.subscription,!/^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}$/i.test(n))&&t.push("Subscription ID is not a valid GUID format"),{isValid:0===t.length,reasons:t}):(t.push("ARM ID is invalid or malformed"),{isValid:!1,reasons:t})};var N=function(e,t,n){return e.armId.provider=n,e.currentResourceTypes.provider=n,4},O=function(e,t,n){return e.armId.resourceTypeNames.push(t),e.armId.resourceNames.push(n),e.currentResourceTypes.resourceTypes.push(t),6},L=function(e,t,n){return e.armId.provider="Microsoft.Resources",e.currentResourceTypes.provider="Microsoft.Resources",e.currentResourceTypes.resourceTypes.push("deployments"),e.armId.resourceTypeNames.push("deployments"),e.armId.resourceNames.push(n),6},j=((t={})[0]={subscriptions:B("subscription",1),providers:N},t[1]={resourceGroups:B("resourceGroup",3),resourcegroups:B("resourceGroup",3),locations:B("location",2),providers:N,tagNames:B("tagName",7),tagnames:B("tagName",7),deployments:L},t[3]={providers:N,deployments:L},t[4]={"":O},t[5]={"":O},t[6]={providers:function(e,t,n,r){return r?(e.armId.isNestedResourceType=!0,e.armId.nestedResourceTypes.push(e.currentResourceTypes),e.currentResourceTypes={provider:n,resourceTypes:[]},5):O(e,t,n)},"":O},t[7]={tagValues:B("tagValue",8),tagvalues:B("tagValue",8)},t),V=((n={})[0]=((r={})[1]=1,r[4]=7,r),n[1]=((o={})[3]=4,o[2]=11,o[4]=2,o[7]=9,o[6]=3,o),n[2]=((i={})[6]=3,i),n[3]=((a={})[6]=3,a[5]=2,a),n[11]={},n[4]=((s={})[4]=5,s[6]=6,s),n[5]=((l={})[6]=6,l),n[6]=((d={})[6]=6,d[5]=5,d),n[7]=((p={})[6]=8,p),n[8]=((f={})[6]=8,f[5]=7,f),n[9]=((m={})[8]=10,m),n[10]={},n);var H=R({excludeNested:!0}),W=R(),q=MsPortalFx.Base.Constants.ResourceTypes;function z(e,t){var n=t?W:H;if("string"!=typeof e)return __assign(__assign({},n),{reason:"not a string"});var r=(e=(e||"").split("?")[0]||"").split("/");if(1===r.length||r.length%2!=1||0!==r[0].length)return __assign(__assign({},n),{reason:"invalid number of segments"});for(var o,i,a=r.length,s=(o=0,{machineData:{armId:__assign(__assign({},R(i)),{resourceNames:[],resourceTypeNames:[]}),currentResourceTypes:{provider:"",resourceTypes:[]}},machineState:o,processorMap:j,kindTransition:V}),l=1;l<a;l+=2){var u=s.processorMap[s.machineState];if(!u)return __assign(__assign({},n),{reason:"malformed resource ID - no processor map"});var c=r[l],d=r[l+1];if(!c.length||!d.length)return __assign(__assign({},n),{reason:"empty segment"});var p=u[c]||u[c.toLowerCase()]||u[""];if(!p)return __assign(__assign({},n),{reason:"malformed resource ID - no processor (invalid token segment)"});var f=s.machineData.armId.kind;s.machineState=p(s.machineData,c,d,t),s.machineData.armId.kind=s.kindTransition[f][s.machineState]||0}var m=s.machineData.armId;if(0===m.kind)return __assign(__assign({},n),{reason:"invalid at conclusion"});var h=m.resourceNames,v=m.resourceTypeNames,g={kind:m.kind,subscription:m.subscription,resourceGroup:m.resourceGroup,location:m.location,provider:m.provider,resourceName:"",resourceType:"",tagName:m.tagName,tagValue:m.tagValue,resourceIds:h.slice(),resourceTypes:v.slice()};return 1===m.kind?g.resourceType=q.Subscriptions:4===m.kind?g.resourceType=q.ResourceGroups:11===m.kind?g.resourceName=g.location:v.length&&(t?s.machineData.currentResourceTypes.provider&&(m.nestedResourceTypes.push(s.machineData.currentResourceTypes),s.machineData.currentResourceTypes.resourceTypes.length&&(g.resourceType=m.nestedResourceTypes.map((function(e){return e.provider+"/"+e.resourceTypes.join("/")})).join("/")),g.resourceName=h.join("/")):m.provider&&(g.resourceType=m.provider+"/"+v.join("/"),g.resourceName=h.join("/"))),t&&(g.isNestedResourceType=m.isNestedResourceType,g.nestedResourceTypes=m.nestedResourceTypes),g}var U=function(e){return e.resourceName&&e.resourceName.split("/")||e.resourceIds||[]},G=function(e,t){var n=U(e),r=function(e,t){var n,r,o=(null==e?void 0:e.resourceType)&&e.resourceType.split("/");return o&&(null===(n=o[0])||void 0===n?void 0:n.toLowerCase())!==(null===(r=e.provider)||void 0===r?void 0:r.toLowerCase())?(!t&&x.error(new u.FxError("Source ArmId had a resourceType where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(e))),e.resourceTypes||[]):(e.resourceType||!t&&x.warning(new u.FxError("Source ArmId is missing the resourceType, this is an invalid ArmId: "+JSON.stringify(e))),(null==o?void 0:o.slice(1))||e.resourceTypes||[])}(e,t);return r.map((function(e,t){return e+"/"+n[t]})).join("/")},$=function(e){var t=U(e),n=0;return e.nestedResourceTypes.map((function(e){return"/providers/".concat(e.provider)+(e.resourceTypes.length?"/"+e.resourceTypes.map((function(e){return e+"/"+t[n++]})).join("/"):"")})).join("")},K=function(e){var t=U(e),n=0;return e.nestedResourceTypes.map((function(e){return"/providers/".concat(e.provider,"/")+e.resourceTypes.map((function(e){return e+"/"+t[n++]})).join("/")})).join("")},Q=function(e,t){return"/subscriptions/".concat(e.subscription)},J=function(e,t){return Q(e)+"/resourceGroups/".concat(e.resourceGroup)},X=function(e,t){return"".concat(Q(e),"/tagNames/").concat(e.tagName)},Z=((h={})[1]={sourceMap:(v={},v[1]=!0,v[11]=!0,v[2]=!0,v[3]=!0,v[4]=!0,v[5]=!0,v[6]=!0,v[9]=!0,v[10]=!0,v),builder:Q},h[11]={sourceMap:(g={},g[11]=!0,g),builder:function(e,t){return Q(e)+"/locations/".concat(e.location)}},h[2]={sourceMap:(y={},y[2]=!0,y[3]=!0,y),builder:function(e,t){return Q(e)+(e.isNestedResourceType?$(e):"/providers/".concat(e.provider))}},h[3]={sourceMap:(b={},b[3]=!0,b),builder:function(e,t){return Q(e)+(e.isNestedResourceType?K(e):"/providers/".concat(e.provider,"/")+G(e,t))}},h[4]={sourceMap:(C={},C[4]=!0,C[5]=!0,C[6]=!0,C),builder:J},h[5]={sourceMap:(_={},_[5]=!0,_[6]=!0,_),builder:function(e,t){return J(e)+(e.isNestedResourceType?$(e):"/providers/".concat(e.provider))}},h[6]={sourceMap:(w={},w[6]=!0,w),builder:function(e,t){return J(e)+(e.isNestedResourceType?K(e):"/providers/".concat(e.provider,"/")+G(e,t))}},h[7]={sourceMap:(P={},P[7]=!0,P[8]=!0,P),builder:function(e,t){return e.isNestedResourceType?$(e):"/providers/".concat(e.provider)}},h[8]={sourceMap:(E={},E[8]=!0,E),builder:function(e,t){return e.isNestedResourceType?K(e):"/providers/".concat(e.provider,"/")+G(e,t)}},h[9]={sourceMap:(F={},F[9]=!0,F[10]=!0,F),builder:X},h[10]={sourceMap:(M={},M[10]=!0,M),builder:function(e,t){return"".concat(X(e),"/tagValues/").concat(e.tagValue)}},h);function Y(e){return e.map((function(e){return{provider:e.provider,resourceTypes:e.resourceTypes.slice()}}))}function ee(e){return[6,3,8].includes(null==e?void 0:e.kind)}function te(e){return!!ee(e)&&T(e).length>1}function ne(e){var t,n;if(te(e)){var r=void 0;if(null===(t=e.nestedResourceTypes)||void 0===t?void 0:t.length){var o,i=e.nestedResourceTypes.length-1;if((null===(n=e.nestedResourceTypes[i].resourceTypes)||void 0===n?void 0:n.length)>1)(o=Y(e.nestedResourceTypes))[i].resourceTypes=o[i].resourceTypes.slice(0,-1),r={nestedResourceTypes:o,isNestedResourceType:e.isNestedResourceType};else r={nestedResourceTypes:o=Y(e.nestedResourceTypes).slice(0,-1),isNestedResourceType:o.length>1}}var a=T(e,!0).slice(0,-1),s=D(e).slice(0,-1);return __assign(__assign(__assign({},e),r),{resourceName:s.join("/"),resourceType:a.join("/")})}return null}function re(e){var t;if(te(e)){var n=void 0;if(null===(t=e.nestedResourceTypes)||void 0===t?void 0:t.length){var r=Y(e.nestedResourceTypes).slice(0,1);r[0].resourceTypes=r[0].resourceTypes.slice(0,1),n={nestedResourceTypes:r,isNestedResourceType:!1}}var o=T(e,!0).slice(0,2),i=D(e).slice(0,1);return __assign(__assign(__assign({},e),n),{resourceName:i.join("/"),resourceType:o.join("/")})}return null}}(f||(t.ArmId=f={})),function(e){var t=ko.utils.peekObservable;e.getDisplayName=function(e,r,o){var i,a=null===(i=t(e.tags))||void 0===i?void 0:i["hidden-title"],s=t(e.id)||"",l=t(e.name);!r&&l&&(l=MsPortalFx.last(l.split("/"))),l=l||s&&MsPortalFx.last(s.split("/"));var u=(e.armId||f.parse(s,!0)).resourceName||s&&MsPortalFx.last(s.split("/"))||t(e.name)||n.resourceWithNoName;if(o&&s){var c=e.armId||f.parse(s,!0),d=f.parse(o,!0);if(s.startsWith(o+"/")&&0!==c.kind&&0!==d.kind){var p=f.getResourceNames(c),m=f.getResourceNames(d);if(p.length>m.length){var h=p.slice(m.length);u=h.join("/"),l=MsPortalFx.last(h)}}}if(u.includes("/")){p=u.split("/");l=l||MsPortalFx.last(p),p.length>1&&(l=n.resourceTitleWithParts.format(l,u))}return l=l||n.resourceWithNoName,a?n.resourceTitleWithParts.format(l,a):l}}(m||(t.ResourceName=m={}))})),
define("FxInternal/UriScrubber",["require","exports","Fx/Errors","Fx/Diagnostics","FxInternal/Shared/lib/UriScrubber"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.scrubUri=function(e){return(0,o.scrubUri)(e,(function(e,t){i.error(new n.FxError({message:e,innerErrors:t}))}))};var i=(0,r.createLog)(e)})),
define("FxInternal/NetDiagnostics",["require","exports","Fx/ResourceManagement","FxInternal/Ajax","FxInternal/UriScrubber"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchItemsData=function(e,t,n,r){var o,i,a=(t.initiationContext||{}).stack,s=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t},l=function(e){var n,r=(null===(n=s(t.data))||void 0===n?void 0:n.requests)||[],o=t.stacks;return r.map((function(t,n){var r,i=o?o[n]:a,s=null===(r=null==t?void 0:t.url)||void 0===r?void 0:r.toLowerCase();return{url:s=(null==s?void 0:s.startsWith("/"))?"".concat(e).concat(s.slice(1)):s,request:t,requestStack:i}}))},u=function(){var e;return(null===(e=s(n))||void 0===e?void 0:e.responses)||[]};"ARMBATCH"===e?(o=l(d).map((function(e){var t,n=e.url,o=e.request,i=e.requestStack;return b(n,null===(t=null==o?void 0:o.requestHeaderDetails)||void 0===t?void 0:t.commandName,i,r)})),i=u().map((function(e){var t=e||{},n=t.contentLength,r=t.headers;return{status:t.httpStatusCode,responseCorrelationId:null==r?void 0:r["x-ms-correlation-request-id"],dataReceived:n||0}}))):"MSGRAPHBATCH"===e&&(o=l(m).map((function(e){var t,n=e.url,o=e.request,i=e.requestStack;return x(n,null===(t=null==o?void 0:o.headers)||void 0===t?void 0:t[g],i,r)})),i=u().map((function(e){var t=e||{},n=t.body,r=t.headers;return{status:t.status,responseCorrelationId:null==r?void 0:r["client-request-id"],dataReceived:n?function(){try{return JSON.stringify(n)}catch(e){return""}}().length:0}})));return null==o?void 0:o.map((function(e,t){return __assign({name:e},i[t])}))},t.nameNetworkCall=function(e,t){var n=t||{},r=n.suppressHighVolume,o=n.emitDiagnostics;i=i||new l.UriBuilder(FxImpl.trustedParentOrigin).getAuthority(),a=a||new l.UriBuilder(FxImpl.origin).getAuthority(),s=s||new l.UriBuilder(FxImpl.origin).getScheme();var c,f=new l.UriBuilder(e.uri),y=f.toString(),_=y.toLowerCase(),P=f.getAuthority()||a,E=(e.headers||{})[g]||e.setTelemetryHeader,F=e.initiationContext||{},M=F.stack,S=F.bladeInstance,I=function(e,t,n){return C(e,E,y,M,t,n,o)};c=P===i?r?null:I("PORTAL","".concat(w("PORTAL")).concat(f.getRelativePath()),!0):_.startsWith(p)?I("ARMBATCH",w("ARMBATCH"),!1):_.startsWith(d)?b(y,E,M,o):h.test(_)?I("MSGRAPHBATCH",w("MSGRAPHBATCH"),!1):_.startsWith(m)?x(y,E,M,o):_.startsWith(v)?function(e,t,n,r){return C("ADGRAPH",t,e,n,"".concat(w("ADGRAPH"),"/").concat(u),!1,r)}(y,E,M,o):I("UNRECOGNIZED","".concat(f.getScheme()||s).concat(P,"/").concat(u),!1);return c&&__assign(__assign({},c),{bladeInstance:S})};var i,a,s,l=MsPortalFx.Base,u="[REDACTED]",c=(0,r.getEndpoints)(),d=c.arm.toLowerCase(),p=y(c.armBatch).toLowerCase(),f="".concat(MsPortalFx.getEnvironmentValue("extensionName"),"."),m=c.msGraph.toLowerCase(),h=new RegExp("".concat(m,"[^/]*/\\$batch")),v=c.graph.toLowerCase(),g="x-ms-command-name";function y(e){var t=new l.UriBuilder(e);return t.query.clear(),t.toString()}function b(e,t,r,o){var i,a,s,l,c,p=y((null==e?void 0:e.toLowerCase().startsWith(d))?e.slice(d.length-1):e),f="ARM";if("resources"===MsPortalFx.last(p.split("/"))?0!==(i=n.ArmId.parse(p.slice(0,p.lastIndexOf("/")))).kind&&(f="ARG",s=!0):0!==(i=n.ArmId.parse(p)).kind?l=!0:0!==(i=n.ArmId.parse("".concat(p,"/").concat(u))).kind&&(a=!0,l=!0),0!==i.kind){var m=__assign({},i);m.subscription=u,m.resourceName=u,m.resourceGroup=u,m.tagName=u,m.tagValue=u,c="".concat(w("ARM")).concat(n.ArmId.sanitizeId(m)),a?c=c.slice(0,c.lastIndexOf("/")):s&&(c="".concat(c,"/resources"))}else c="".concat(w("ARM"),"/").concat(u);return C(f,t,e,r,c,l,o)}function x(e,t,n,r){return C("MSGRAPH",t,e,n,"".concat(w("MSGRAPH"),"/").concat(u),!1,r)}function C(e,t,n,r,i,a,s){var l=(0,o.scrubUri)(n);return{kind:e,commandName:_(e,t,n,r,a&&i,s),uri:i,scrubbedUri:l}}function _(e,t,n,r,o,i){if(t&&t!==f)return t;if(o)return o;if(!("ARMBATCH"===e)&&i){var a=r?"Stack: ".concat(r):"Missing ajax call stack. Please log a bug to FX.";console.warn("Supply a logical name for the ajax call to '".concat(n,"' for inclusion in telemetry. ").concat(a))}return"".concat(w(e),"[UNNAMED]")}function w(e){return"[".concat(e,"]")}})),
define("FxInternal/Shared/lib/PolicyUtils",["exports"],(function(e){e.XmsPolicyTokenHeaderName=void 0,e.isChangeSafetyPolicyArmError=function(e){if(!n(e))return!1;const t=e.additionalInfo;if(!t||!Array.isArray(t))return!1;let r=!1;for(const e of t)if(!r&&"PolicyViolation"===e.type){const t=e.info,n=t?.evaluationDetails?.missingPolicyTokenDetails;n?.isChangeReferenceRequired&&(r=!0)}return r},e.isPolicyArmError=n;e.XmsPolicyTokenHeaderName="x-ms-policy-external-evaluations";const t="RequestDisallowedByPolicy";function n(e){return!!e&&("object"==typeof e&&null!==e&&"code"in e&&e.code===t)}})),
define("Fx/Ajax",["require","exports","FxInternal/Ajax","FxInternal/NetDiagnostics","Fx","Fx/Errors","FxInternal/Shared/lib/PolicyUtils"],(function(e,t,n,r,o,i,a){var s;Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.getAzureStackEndpoint=t.getEndpoints=t.BatchResponseItemError=void 0,t.isTrustedDomain=function(e){return h(e)},t.postJSON=D,t.ajax=function(e){return u.ajax(e)},t.ajaxExtended=R,t.initialize=function(e){F=e.requestOptions},t.batch=function(e){var t=e.options||F;e.retryStatusCodes&&(t|=8);var s,p,f=e.uri||e.url||"",h=new l.UriBuilder(f);if(MsPortalFx.isUriAbsolute(f)){var A=new l.UriBuilder(f),R=A.getAuthority();if(R===w)s=_,p=C,f=[A.getScheme(),_,A.getRelativePath(),A.getOriginalQuery()].join("");else if(R.endsWith(w)||P.some((function(e){return R.endsWith(e)||R.endsWith(e+":443")}))||R.endsWith(w+":443"))s=R,p=A.getSchemeAndAuthority().toLowerCase();else if(FxImpl.internalEnv.blockUntrustedDomains||MsPortalFx.isFeatureEnabled("blockuntrusteddomains"))return Promise.reject(new i.FxError("Unsupported domain ".concat(R," in batch call. Only ARM and dARM endpoints are supported in batch.")))}else p=C;p=MsPortalFx.ensureSuffix(p,"/").toLowerCase();var N=e.isBackgroundTask||E(t,4);MsPortalFx.getFeatureValue("batchImmediate")&&(t=256);var O=g;E(t,256)?O=x:E(t,1)||E(F,1)?O=y:N&&(O=b);var L=O.map[p];L||(s||(s=new l.UriBuilder(p).getAuthority()),L=O.map[p]=function(e,t,r,i,s){var p=this,f=e+(0,n.getArmBatchRelativePathAndApiVersion)(),h=Object.create(null),g={batches:[],count:0},y=MsPortalFx.startTimer(),b=function(){var n=g.batches;g={batches:[],count:0},n.forEach((function(n){var r,i=JSON.stringify(n.commandNameMap,Object.keys(n.commandNameMap).sort()).replaceAll('"',""),s=m?T:D,h={isBackgroundTask:t,setAuthorizationHeader:!0,setTelemetryHeader:i,uri:f,initiationContext:{stack:null,bladeInstance:n.bladeInstance},stacks:n.contexts.map((function(e){return e.stack}))},g=null,y=MsPortalFx.isFeatureEnabled("ameconfirmationdialog"),b=MsPortalFx.isFeatureEnabled("armbreakglass"),x=[];if((null===(r=FxImpl.postBootEnv)||void 0===r?void 0:r.isWriteDisallowedTenant)&&(y||b)){var C=b?FxImpl.getHighlySensitiveResourceIdsFromAjaxRequest:FxImpl.getSensitiveResourceIdsFromAjaxRequest,_=[];n.requests.forEach((function(e){var t=(e.url||"").toLowerCase().includes("/bulkdelete?"),n=C(e.url,e.httpMethod,e.content);if(n.length&&(x.push.apply(x,n.map((function(n){return{httpMethod:t?"DELETE":e.httpMethod,resourceId:n,operationId:t?MsPortalFx.newGuid():e.name||MsPortalFx.newGuid()}}))),b)){var r=e.requestHeaderDictionary||Object.create(null);r["x-ms-arm-internal-break-glass"]=["true"],e.requestHeaderDictionary=r,_.push({uri:MsPortalFx.sanitizeMessage(e.url),httpMethod:e.httpMethod})}})),b&&_.length&&c.trace({source:"Fx.Ajax",action:"ArmBreakGlassAdded",data:{breakGlassAddedTo:_}}),!b&&x.length&&y&&(g=d.invokeAmeConfirmationDialogEndPoint.invoke(FxImpl.Rpc.client,l.Constants.Shell,x).then((function(e){var t=e.confirmedOperationIds.length===x.length,n=e.blockedOperationIds.length===x.length;return c.trace({source:"Fx.Ajax",action:"AMEConfirmation",actionModifier:t?"Approved":n?"Canceled":"Mixed",data:{deletePutResources:x}}),e})))}var w=function(){s(h,{requests:n.requests}).then((function(r){r.responses.forEach((function(r,o){var i,s,c;r=r||{};var d=n.requestIdxMapByName.get(r.name);void 0===d&&(d=o);var f=n.requests[d],m=n.contexts[d];m.includeResponseHeaders&&(r.responseHeaders=r&&new Headers(r.headers||{}));var h=m.response;if(r.httpStatusCode<400)h.resolve(r);else{var g,y=m.options,b=r.headers||{},x=b["WWW-Authenticate"],C=void 0;if(MsPortalFx.isFeatureEnabled("retryonwwwauthenticate")&&401===r.httpStatusCode&&x)C={reason:"wwwAuthenticate",headers:(i={},i["WWW-Authenticate"]=x,i)};else if(E(y,16)||E(F,16));else if(E(y,8)||E(F,8)){var _=m.retryStatusCodes,w=!0;_&&"exclude"in _&&(w=!_.exclude.includes(r.httpStatusCode)),_&&"include"in _&&(w=_.include.includes(r.httpStatusCode)),w&&(C={reason:"ForceRetry."+r.httpStatusCode})}else t||"GET"!==f.httpMethod||503!==r.httpStatusCode?403===r.httpStatusCode&&(!(null===(s=f.requestHeaderDictionary)||void 0===s?void 0:s[a.XmsPolicyTokenHeaderName])&&(0,a.isPolicyArmError)(null===(c=r.content)||void 0===c?void 0:c.error)?C=__awaiter(p,void 0,void 0,(function(){var e,t,n,o;return __generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,B()];case 1:return i.sent(),M?[4,MsPortalFx.require("FxInternal/Authentication/Policy/PolicyUtils")]:[2,null];case 2:return[4,i.sent().getRetryOptions({request:{uri:f.url,method:f.httpMethod,headers:f.requestHeaderDictionary||{},body:f.content},armResponse:r.content,telemetryName:"batch"})];case 3:return(e=i.sent())?(t=e.headers,(n=e.changeStateId)&&(g=n),t?[2,{reason:"PolicyRetry",headers:t}]:[2,null]):[2,null];case 4:return o=i.sent(),v.warning("Failed to get policy token for request",o),[2,null];case 5:return[2]}}))})):E(y,128)||"gateway"!==(b["x-ms-failure-cause"]||"").toLowerCase()||(C={reason:"RetryForbidden",headers:{"Cache-Control":"no-cache"}})):C={reason:"Slow"};var P=function(){h.reject(new S({content:r.content,headers:r.headers,responseHeaders:m.includeResponseHeaders?new Headers(r.headers||{}):void 0,httpStatusCode:r.httpStatusCode}))};if(C)(C instanceof Promise?C:Promise.resolve(C)).then((function(t){if(t){var n=m.uri||new l.UriBuilder(f.url);n.getAuthority()||(n.path=e+MsPortalFx.trimStart(n.path,"/"));var o=__assign(__assign({},f.requestHeaderDictionary?Object.keys(f.requestHeaderDictionary).reduce((function(e,t){return e[t]=f.requestHeaderDictionary[t][0],e}),{}):{}),t.headers||{});u.ajaxExtended({uri:n.toString(),setAuthorizationHeader:!0,setTelemetryHeader:f.requestHeaderDetails.commandName+"."+t.reason,type:f.httpMethod,headers:o,data:f.content&&("string"==typeof f.content?f.content:JSON.stringify(f.content)),contentType:f.content&&"application/json"}).then((function(e){var t=e.jqXHR,n=t&&k(t)||Object.create(null);g&&MsPortalFx.require("FxInternal/Authentication/Policy/PolicyUtils").then((function(e){e.completeChangeState({changeStateId:g,telemetryName:"batch"})}),(function(e){v.error("Error occurred in onRetryCompleteCallback for success",e)})),h.resolve({content:e.content,headers:n,responseHeaders:m.includeResponseHeaders?new Headers(n):void 0,httpStatusCode:null==t?void 0:t.status})}),(function(e){var t=e.jqXHR,n=t&&k(t)||Object.create(null);h.reject(new S({content:r.content,headers:n,responseHeaders:m.includeResponseHeaders?new Headers(n):void 0,httpStatusCode:null==t?void 0:t.status}))}))}else P()}));else P()}}))})).catch((function(e){n.contexts.forEach((function(t){t.response.reject(e)}))}))};if(o.isPromise(g))return g.then((function(e){var t,r,o,i,a,s,l,u,c,d=e.blockedOperationIds,p=[];if(1===n.requests.length&&"POST"===n.requests[0].httpMethod&&n.requests[0].url.includes("/bulkdelete?")){var f=(null===(r=null===(t=n.requests[0].content)||void 0===t?void 0:t.Entities)||void 0===r?void 0:r.length)>0,m=null!==(s=f?null===(i=null===(o=n.requests[0].content)||void 0===o?void 0:o.Entities)||void 0===i?void 0:i.map((function(e){return e.id})):null===(a=n.requests[0].content)||void 0===a?void 0:a.EntityIds)&&void 0!==s?s:[];if(d.forEach((function(e){var t,n=null===(t=x.find((function(t){return t.operationId===e})))||void 0===t?void 0:t.resourceId;if(n){var r=m.indexOf(n);-1!==r&&m.splice(r,1)}})),!m.length)return void n.contexts[0].response.reject(new S({content:{error:{code:FxImpl.ameCancelledErrorCode,message:MsPortalFx.Resources.Strings.DeleteCommand.Failure.ameCancelledDescription,target:"/bulkdelete"===(null===(l=n.contexts[0].uri)||void 0===l?void 0:l.path.toLowerCase())?null:null===(u=n.contexts[0].uri)||void 0===u?void 0:u.toString()}},headers:{},httpStatusCode:403,errorLevel:0}));if(f){var h=(n.requests[0].content||{}).Entities.reduce((function(e,t){return m.includes(t.id)&&e.push(t),e}),[]);n.requests[0].content.Entities=h}else n.requests[0].content.EntityIds=m}else{for(var v=function(e){var t=x.find((function(t){return t.operationId===e})),r=t.httpMethod.toLowerCase(),o=n.requests.findIndex((function(n){return n.name===e||n.httpMethod.toLowerCase()===r&&n.url.includes(t.resourceId)}));n.requests[o].url="",n.contexts[o].response.reject(new S({content:{error:{code:FxImpl.ameCancelledErrorCode,message:MsPortalFx.Resources.Strings.DeleteCommand.Failure.ameCancelledDescription,target:null===(c=n.contexts[o].uri)||void 0===c?void 0:c.toString()}},headers:{},httpStatusCode:403,errorLevel:0})),p.push(o)},g=0,y=d;g<y.length;g++){v(y[g])}for(var b=p.length-1;b>-1;){var C=p[b];n.requests.splice(C,1),n.contexts.splice(C,1),b--}n.requestIdxMapByName.clear(),n.requests.forEach((function(e,t){n.requestIdxMapByName.set(e.name,t)}))}n.requests.length&&w()}));w()}))};return{getResponse:function(e,t,n,a,l,u,c,d,p){var f,v,x=I(e),C=__assign(__assign({content:t,httpMethod:a,name:MsPortalFx.getUniqueId(),requestHeaderDetails:{commandName:x}},new Date(MsPortalFx.getFeatureValue("batchapiversion")||"2020-06-01")>=new Date("2020-06-01")?{requestHeaderDictionary:n}:{}),{url:d}),_=!E(u,64);if(_){var w=h[d];if(w&&w.timer()<r)return w.promise}else delete h[d];g.count||(i?o.delay(i).then(b):0===i?v=!0:o.nextTick((function(){var e=g.count,t=function(){m||e>=Math.min(g.count,20)?b():(e=g.count,o.nextTick(t))};o.nextTick(t)})));var P=Promise.withResolvers();g.count++;var F=FxImpl.NetDiagnostics.getCurrentBladeInstance()||void 0,M=MsPortalFx.find(g.batches,(function(e){return e.bladeInstance===F}),-1);(!M||!m&&M.requests.length>=20)&&(M={commandNameMap:(f={},f[" "+I(s)]=0,f),contexts:[],requestIdxMapByName:new Map,requests:[],bladeInstance:F},g.batches.push(M));var S=M.requests.length;M.requests.push(C),M.contexts.push({options:u,response:P,uri:l,retryStatusCodes:c,stack:MsPortalFx.isFeatureEnabled("fixajaxnames")&&MsPortalFx.getCurrentCallStack(),includeResponseHeaders:p}),M.requestIdxMapByName.set(C.name,S);var k=e||"Unknown",A=M.commandNameMap[k]||0;return M.commandNameMap[k]=A+1,y()>6e4&&(MsPortalFx.forEachKey(h,(function(e,t){t.timer()>r&&delete h[e]})),y=MsPortalFx.startTimer()),_&&(h[C.url]={promise:P.promise,timer:MsPortalFx.startTimer()}),v&&b(),P.promise}}}(p,N,O.cacheDurationMs,O.bufferDurationMs,O.telemetrySuffix));var j=e.type||"GET";("GET"!==j||e.headers||E(F,64)&&!E(t,32))&&(t|=64);var V=L.getResponse(e.setTelemetryHeader,e.content,e.requestHeaderDictionary,j,h,t,e.retryStatusCodes,f,e.includeResponseHeaders);return function(e,t,n){var o={uri:e,setTelemetryHeader:t,initiationContext:{stack:MsPortalFx.isFeatureEnabled("fixajaxnames")&&MsPortalFx.getCurrentCallStack(),bladeInstance:null}};FxImpl.NetDiagnostics.noteAjaxCall({name:(0,r.nameNetworkCall)(o).commandName,promise:n})}(f,e.setTelemetryHeader,V),V},t.batchMultiple=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,o,a,s,u,c,d,p,f;return __generator(this,(function(h){switch(h.label){case 0:if(!e.batchRequests.length)return[2,Promise.resolve(null)];if(t=m?T:D,r=new Map,a=!(o=w!==_)||e.batchRequests.reduce((function(e,t){var n=t.uri;if(MsPortalFx.isUriAbsolute(n)){var r=new l.UriBuilder(n).getAuthority().toLowerCase();e=e&&[w,_].includes(r)}return e}),!0),s=e.batchRequests.map((function(e,t){var n,i=MsPortalFx.getUniqueId();r.set(i,t);var s=e.uri;if(o&&MsPortalFx.isUriAbsolute(s)){var u=new l.UriBuilder(s);a&&(s=[u.getScheme(),_,u.getRelativePath(),u.getOriginalQuery()].join(""))}return{url:s,httpMethod:e.httpMethod||"GET",content:e.content,name:i,requestHeaderDetails:{commandName:I(null===(n=e.requestHeaderDetails)||void 0===n?void 0:n.commandName)},requestHeaderDictionary:e.requestHeaderDictionary}})),u=e.endpoint,!u||o&&u&&a&&new l.UriBuilder(u).getAuthority().toLowerCase()===w)u=a?(0,n.getEndpoints)().armBatch:new l.UriBuilder(FxImpl.internalEnv.fxArmEndpoint+(0,n.getArmBatchRelativePathAndApiVersion)()).toString();else if((FxImpl.internalEnv.blockUntrustedDomains||MsPortalFx.isFeatureEnabled("blockuntrusteddomains"))&&(c=new l.UriBuilder(u),!(d=c.getAuthority()).endsWith(w)&&!d.endsWith(w+":443")))return[2,Promise.reject(new i.FxError("Unsupported domain ".concat(d," in batch call. Only ARM endpoints are supported in batch.")))];return[4,t({isBackgroundTask:e.isBackgroundTask,setAuthorizationHeader:!0,setTelemetryHeader:I(e.telemetryHeader),uri:u},{requests:s})];case 1:return p=h.sent(),f=Array(e.batchRequests.length),((p||{}).responses||[]).forEach((function(t){t&&e.includeResponseHeaders&&(t.responseHeaders=new Headers(t.headers||{}));var n=r.get(null==t?void 0:t.name);MsPortalFx.isNullOrUndefined(n)||(f[n]=t)})),[2,MsPortalFx.extend2(p,{responses:f})]}}))}))};var l=MsPortalFx.Base,u=l.Net2,c=l.Diagnostics.Telemetry,d=FxImpl.Extension,p=MsPortalFx.getEnvironmentValue("extensionName"),f=MsPortalFx.isFeatureEnabled("fasteventservice"),m=MsPortalFx.isFeatureEnabled("asyncbatch"),h=FxImpl.validateDomain,v=l.Diagnostics.createLog(e),g={bufferDurationMs:100,cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"Batch"},y={cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"BatchNextTick"},b={bufferDurationMs:f?5e3:6e4,cacheDurationMs:6e4,map:Object.create(null),telemetrySuffix:"BatchBackground"},x={bufferDurationMs:0,cacheDurationMs:1e4,map:Object.create(null),telemetrySuffix:"SingleBatch"},C=(0,n.getEndpoints)().arm.toLowerCase(),_=new l.UriBuilder(C).getAuthority(),w=new l.UriBuilder(FxImpl.internalEnv.fxArmEndpoint).getAuthority().toLowerCase(),P=null!==(s=FxImpl.internalEnv.dArmDomains)&&void 0!==s?s:[];function E(e,t){return(e&t)===t}var F=66,M=void 0,S=function(e){function t(t){var n,r=this,o=t.content,a=[o,null==o?void 0:o.message,null===(n=null==o?void 0:o.error)||void 0===n?void 0:n.message].find((function(e){return"string"==typeof e}));return t=(0,i.getErrorOptions)(t,{name:"BatchResponseItemError",message:a||t.httpStatusCode>=400&&"Batch response item http error ".concat(t.httpStatusCode)||"Batch response item error"}),(r=e.call(this,t)||this).content=t.content,r.headers=t.headers,r.responseHeaders=t.responseHeaders,r.httpStatusCode=t.httpStatusCode,r}return __extends(t,e),t.TypeName="FxAjaxBatchResponseItemError",t}(i.FxError);function I(e){var t=e||"";return"".concat(p,".").concat(t).slice(0,255)}function k(e){var t={};return e.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(e){var n=e.split(": "),r=n.shift();t[r]=n.join(": ")})),t}function A(e,t,n){var r=e.jqXHR.status;if(200===r)return Promise.resolve(e.content);if(202!==r){var a=e.jqXHR,s=!!a&&k(a);return Promise.reject(new S({content:e.content,headers:s||{},httpStatusCode:null==a?void 0:a.status}))}var l=e.jqXHR.getResponseHeader("Location");if(!l)throw new i.FxError("Location header not present on 202 response, unable to poll for completion");var u=parseInt(e.jqXHR.getResponseHeader("Retry-After")||"".concat(5));return o.delay(1e3*u).then((function(){return R(MsPortalFx.extend2(t,{type:"GET",uri:l,setTelemetryHeader:"".concat(t.setTelemetryHeader,".poll_").concat(++n)})).then((function(e){return A(e,t,n)}))}))}function T(e,t){return R(MsPortalFx.extend2(e,t,{contentType:"application/json",data:JSON.stringify(t),type:"POST"})).then((function(t){return A(t,e,0)}))}function D(e,t){return u.postJSON(e,t)}function R(e){return u.ajaxExtended(e)}function B(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:if(void 0!==M)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,FxImpl.getExperimentBooleanValue("implicitpolicytokenko")];case 2:return M=t.sent(),[3,4];case 3:return e=t.sent(),v.warning("Failed to get experimentation treatments",e),M=!1,[3,4];case 4:return[2,M]}}))}))}t.BatchResponseItemError=S,t.getEndpoints=n.getEndpoints,t.getAzureStackEndpoint=n.getAzureStackEndpoint})),
define("Fx/Assets/ResourceRoutingType",["require","exports"],(function(e,t){var n;return function(e){!function(e){e[e.Default=0]="Default",e[e.Tenant=1]="Tenant",e[e.Extension=2]="Extension",e[e.ProviderProxy=3]="ProviderProxy"}(e.ResourceRoutingType||(e.ResourceRoutingType={}))}(n||(n={})),n})),
define("Fx/Assets",["require","exports","Fx/Assets/ResourceRoutingType"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceRoutingType=void 0,t.ResourceRoutingType=n.ResourceRoutingType})),
define("Fx/Composition/Selectable",["require","exports"],(function(e,t){return FxImpl.Composition.Selectable})),
define("Fx/Composition",["require","exports","Fx/Composition/Selectable","Fx/Composition/Selectable"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PartReferences=t.BladeReferences=t.ClickableLink=t.PartReference=t.BladeReference=void 0,Object.defineProperty(t,"BladeReference",{enumerable:!0,get:function(){return r.BladeReference}}),t.PartReference=MsPortalFx.Composition.PartReference,t.ClickableLink=FxImpl.CompositionCore.ClickableLink;var o=window.fx.environment;function i(e,t){return{createReference:function(r){if(r){var o=r.marketplaceId,i=r.marketplaceOptions,a=r.assetKind,s=r.subscriptionId,l=r.catalogId,u=r.telemetryId,c=r.assetType,d=e;!c||d||[MsPortalFx.Base.Constants.ExtensionNames.Marketplace,MsPortalFx.Base.Constants.Shell].includes(FxImpl.extensionName)||(d="".concat(MsPortalFx.Base.Constants.Shell,"::").concat(FxImpl.extensionName));var p=c?{extensionName:d,assetType:c,marketplaceId:o,assetKind:a,subscriptionId:s,catalogId:l,telemetryId:u}:null;if(p||o||i||r.doesProvisioning)return new n.ProvisioningBladeReference(t,e,p||o||i,{onClosed:r.onClosed,parameters:r.parameters});if(r.supplyInitialData||r.supplyProviderConfig||r.receiveResult||r.editScopeAccessor)return new n.ParameterProviderBladeReference(t,e,r)}return new n.PdlBladeReference(t,e,r)}}}function a(e,t,r,o){return{createReference:function(i){return new n.MenuBladeReference(t,r,e,__assign(__assign({},i),{contentBladeReference:o}))}}}function s(e,n){return{createReference:function(r){var o=MsPortalFx.extend2(r&&r.options,{extensionName:e});return new t.PartReference(n,r&&r.parameters,o)}}}t.BladeReferences={forExtension:function(e){return{forBlade:function(t){return i(e,t)},forMenuBlade:function(t,n,r){return a(e,t,n,r)},forCreateAssetType:function(){return i(e,"")}}},forBlade:function(e){return i(o.extensionName,e)},forCreateAssetType:function(){return i("","")},forMarketplace:function(){return i("","")},forMenuBlade:function(e,t,n){return a(o.extensionName,e,t,n)},forResourceType:function(e){return{forBlade:function(t){return function(e,t){return{createReference:function(r){var o=e.replace(/\W/g,(function(t,n){return/\W/.test(e[n-1])?"":"_"})),i="__rt__".concat(o,"__").concat(t,"__dx");return new n.PdlBladeReference(i,"Microsoft_Azure_GeneratedExtension",r)}}}(e,t)}}}},t.PartReferences={forExtension:function(e){return{forPart:function(t){return s(e,t)}}},forPart:function(e){return s(o.extensionName,e)}}})),
define("Fx/Composition/ViewModelBase",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProxiedMember=function(e,t){}})),
define("FxInternal/Composition/CompositionViewModel",["require","exports","FxInternal"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionViewModel=t.CompositionViewModelBase=void 0,t.createFrameworkPartViewModel=function(){return{allowUiBlocking:ko.observable(!0),selectable:ko.observable(),prepareFirstAjaxTime:ko.observable(),ajaxTime:ko.observable(),preAjaxRpc:ko.observable(),interruptedParent:void 0,onInitializeAsyncTime:ko.observable(),registeredSelectables:ko.observable(),registeredSelectableOptions:ko.observable(),_revealContentCallCount:ko.observable(0),activeOpenBladeCommand:ko.observable(),updateConfigFn:ko.observable(),_onInputValuesUpdated:null,dialog:ko.observable(),elements:ko.observableArray(),initialMenuHeaderBlade:null,initialMenuContentBlade:null}};var r=MsPortalFx.Base,o=FxImpl.TelemetryContext;r.Diagnostics.createLog(e);function i(e,t){t&&(MsPortalFx.isPromise(t)?e.push(t):MsPortalFx.isPromiseLike(t)&&e.push(Promise.resolve(t)))}var a=function(){function e(e,t,n,r){this.content=ko.observable(),this.role=r,this.internal=e,this.container=t,this.content(n||{})}return e.prototype.updatePartInputValues=function(e,t,r,a,s,l,u){var c=[],d=this.content(),p=this.container;if(d&&"function"==typeof d.onInputsSet){a&&o.setContextValue(o.ContextType.CompositionItem,{id:a});try{i(c,d._msPortalFx_viewModelApiV2?n.tryImmediateResolve(Q(d),(function(n){return d=n,Q(n.onInputsSet(e,t,l,u))})).finally((function(){})):!l&&d.onInputsSet(e,t))}catch(e){c.push(Q.reject(e))}finally{a&&o.resetContextValue(o.ContextType.CompositionItem)}}this.container&&i(c,p.onInputsSetCallbacks.triggerCallbacks(e,t));return c.length>0?Promise.all(c):null},e}();t.CompositionViewModelBase=a;var s=function(e){function t(t,n,r){var o=e.call(this,{allowUiBlocking:ko.observable(!0),selectable:ko.observable()},t,n,r)||this;o.state=ko.observable(2);var i=null,a=t;a.selectable&&FxImpl.assignSelectable(a,a.selectable);return o.updatePartInputValues=function(t,n,r,a,s,l,u){i=null;var c,d=e.prototype.updatePartInputValues.call(o,t,n||{},r,a,s,l),p=0;return null!==d&&(p=2,c=Q(d).then((function(){(!i||i===c)&&o.state(0)}),(function(){(!i||i===c)&&o.state(1)})),i=c),o.state(p),i},o}return __extends(t,e),t.prototype.updatePartInputValues=function(e,t,n,r,o,i,a){},t}(a);t.CompositionViewModel=s})),
define("FxInternal/Composition/ContainerViewModel",["require","exports","Fx"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Dlg2=t.SelectableContainerViewModel=t.ContainerViewModel=void 0,t.createOnInputsSetCallbacks=u,t.verifyAllContainerViewModelDisposed=function(){var e=MsPortalFx.forEachKey(d,(function(e,t,n){n.push("ContainerViewModel ("+n.length+") callstack:\n"+t)}),[]);e.length&&a.error("The following "+e.length+" ContainerViewModel are created but not disposed:\nThis indicates a Framework bug. Please open a Framework bug with following call stacks.\n"+e.join("\n"))},t.createClickContext=f,t.setClickContext=function(e,t){e[h]=t};var r=FxImpl.Composition.Selectable,o=MsPortalFx.Resources.Strings.ViewModels.Container,i=MsPortalFx.isDevelopmentMode||MsPortalFx.isDiagnosticsEnabled,a=MsPortalFx.Base.Diagnostics.createLog(e),s=[r.PdlBladeReference,r.ProvisioningBladeReference],l=FxImpl.getErrorMap({badBladeReferenceType:"",messageMissing:"",observableInBladeParameters:""});function u(){var e=[],t=!1,n={add:function(n,r){e.includes(n)||e.push(n),r&&t&&n(null)},remove:function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},triggerCallbacks:function(n,r){t=!0;var o=e.slice().map((function(e){try{return e(n,r)}catch(e){return Q.reject(e)}})).filter((function(e){return!!e}));return o.length>0?Promise.all(o):null},dispose:function(){e.splice(0,e.length)}};return n._callbacks=e,n}var c=0,d={};var p=function(){function e(){this._lifetime=new FxImpl.TriggerableLifetimeManager,this._id=c++,this._msPortalFxAnnounce=ko.observable(),this._msPortalFxNotice=ko.observable(),this._msPortalFxHandledError=ko.observable(),this.onInputsSetCallbacks=u(),this.helpContentUri=ko.observable(),this.notFoundMessage=ko.observable(),this.unauthorizedMessage=ko.observable();this.preview=ko.observable(!1),i&&(d[this._id]=FxImpl.Rpc.getCurrentCallStack())}return e.prototype.registerForDispose=function(e){return this._lifetime.registerForDispose(e),this},e.prototype.isDisposed=function(){return this._lifetime.isDisposed()},e.prototype.createChildLifetime=function(){return this._lifetime.createChildLifetime()},e.prototype.dispose=function(){var e=this._lifetime;e&&e.dispose();var t=this.onInputsSetCallbacks;t&&t.dispose(),i&&delete d[this._id]},e.prototype.announce=function(e){this._msPortalFxAnnounce.fxAwaitAndRun(this).then((function(t){t(e)}))},e.prototype.handledError=function(e){(!e||MsPortalFx.isObject(e)&&!e.message)&&l.messageMissing(),this._msPortalFxHandledError(e)},e.prototype.unauthorized=function(e){MsPortalFx.isNullOrUndefined(e)||!(MsPortalFx.isObject(e)&&MsPortalFx.isEmpty(e)||e.noticeTitle||e.noticeHeader||e.noticeDescription)?this.unauthorizedMessage(this.fixErrorMessage(e,o.unauthorizedText)):this.unauthorizedMessage(e)},e.prototype.notFound=function(e){this.notFoundMessage(this.fixErrorMessage(e,o.notFound))},e.prototype.enableNotice=function(e){this._msPortalFxNotice.peek()?a.error("Notice has been enabled. It cannot be enabled again."):this._msPortalFxNotice(e)},e.prototype.fixErrorMessage=function(e,t){return MsPortalFx.isNullOrWhiteSpace(e)?e=t:MsPortalFx.isObject(e)&&MsPortalFx.isNullOrWhiteSpace(e.message)&&(e.message=t),e},e}();function f(e,t,r,o,i,u){var c=FxImpl.shellInterface(e),d=c.requestOpenBlade()||c.requestOpenBlade.fxAwaitAndRun(e);function p(e,a,p,f,m){s.every((function(t){return!(e instanceof t)}))&&!FxImpl.Po.getMetadata(e)&&l.badBladeReferenceType();var h=e.options;if(y(h&&h.parameters,50)&&l.observableInBladeParameters(),h&&h.parameters)try{h.parameters=ko.unwrap(h.parameters)}catch(e){}return m=m||MsPortalFx.getUniqueId(),c.currentBladeReference(e),function(e,a,s,l,c){return __awaiter(this,void 0,void 0,(function(){var p,f;return __generator(this,(function(m){switch(m.label){case 0:return p=a?1:0,p|=l&&l.asNewJourney?8:0,p|=l&&l.asSubJourney?2:0,p|=r?16:0,p|=l&&l.inPlace||r&&a?4:0,n.isPromiseLike(d)?[4,d]:[3,2];case 1:d=m.sent(),m.label=2;case 2:return f={timestamp:s,bladeReference:MsPortalFx.clone(e,!0,!0),reason:3,selectedItem:o,controlMetadata:i,flags:p,operationId:c,telemetryName:u},[4,d(t,f)];case 3:return[2,!!m.sent().success]}}))}))}(e,a,p,f,m)}function f(e,o,i,s,l){return __awaiter(this,void 0,void 0,(function(){var u,c,f,m,h;return __generator(this,(function(v){switch(v.label){case 0:return u=MsPortalFx.getUniqueId(),c=i?1:0,c|=l&&l.asNewJourney?8:0,c|=l&&l.asSubJourney?2:0,c|=r?4:0,n.isPromiseLike(d)?[4,d]:[3,2];case 1:d=v.sent(),v.label=2;case 2:d(t,{timestamp:s,bladeReference:void 0,reason:4,flags:c,operationId:u,initialWidth:l&&l.initialWidth}),v.label=3;case 3:return v.trys.push([3,5,,6]),[4,o];case 4:return m=v.sent(),[3,6];case 5:return h=v.sent(),f=new MsPortalFx.Errors.Error({message:"The extension provided promise to container.".concat(e," has failed."),innerErrors:h}),a.error(f),[2,!1];case 6:return[2,p(m,i,s,l,u)]}}))}))}return{openBlade:function(e,t){return Q(p(e,!1,Date.now(),t))},openBladeAsync:function(e,t){return Q(f("openBladeAsync",e,!1,Date.now(),t))},openContextPane:function(e){return Q(p(e,!0,Date.now()))},openContextPaneAsync:function(e){return Q(f("openContextPaneAsync",e,!0,Date.now()))}}}t.ContainerViewModel=p;var m="_msPortalFxOpenBladeSelectable",h="_clickContext";function v(e,t){var n=e[m],r=e[h];return r||f(e,n,t)}var g=function(e){function t(t){var n=e.call(this)||this;n.configureSelectable=void 0,n[m]=new r.Selectable2({supplyBladeReference:MsPortalFx.noop});var o=t.selectable||null;return FxImpl.initializeSelectableViewModel(n,o),n.selectable=o,n.flags=t.flags||0,n}return __extends(t,e),t.prototype.openBlade=function(e,t){return v(this,!!(1&this.flags)).openBlade(e,t)},t.prototype.openBladeAsync=function(e,t){return v(this,!!(1&this.flags)).openBladeAsync(e,t)},t.prototype.openContextPane=function(e){return v(this,!!(1&this.flags)).openContextPane(e)},t.prototype.openContextPaneAsync=function(e){return v(this,!!(1&this.flags)).openContextPaneAsync(e)},t}(p);function y(e,t){return t&&MsPortalFx.isObject(e)&&Object.keys(e).some((function(n){return ko.isSubscribable(e[n])||y(e[n],t-1)}))}t.SelectableContainerViewModel=g,t.Dlg2=99})),
define("FxInternal/Composition/Part",["require","exports","FxInternal/Composition/ContainerViewModel","FxInternal/Composition/CompositionViewModel","Fx"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.partHeaderEnabledFeatureName=t.Part=t.PartContainer=void 0,t.composePartViewModel=function(e,t){var n=(0,r.createFrameworkPartViewModel)();(t=t||{}).logArea=t.logArea||"MsPortalFx/ViewModels/Composition/ViewModels.Composition.Part";var o={selectable:t.createSelectable?l.Part.createSelectableViewModel(t.initialState):void 0,location:t.location,flags:t.flags,viewModelType:t.type||129},i=new F(n,o);return new M(n,i,e(i),t.initialState,t.logArea,(null==t?void 0:t.type)||129)};var i=MsPortalFx.Base,a=i.Diagnostics,s=a.Telemetry.Context,l=MsPortalFx.ViewModels,u=FxImpl.Composition,c=FxImpl.NetDiagnostics,d=l.Internal,p=MsPortalFx.clone,f=i.Constants,m=f.BladeParameterNames,h=MsPortalFx.Errors,v=FxImpl.shellInterface,g=h.isInstanceOfErrorType,y="",b=MsPortalFx.Resources.Strings,x=b.ViewModels.Container,C={containerViewModelMissing:y,dashboardIdMissing:y,enableNoticeInvoked:y,identitySelectableMissing:y,selectableRegistered:y,selectableInstanceRegistered:y},_=FxImpl.getErrorMap(C);function w(e){return Math.min(Math.max(e,1),25)}var P=function(){function e(){}return e.prototype.navigateToDashboard=function(e){return e||_.dashboardIdMissing(),Q(l.navigateToDashboardEndPoint.invoke(FxImpl.Rpc.client,f.Shell,["Viewmodels.Part.DashboardManagementImpl",e]))},e}();function E(e,t,n){var r=v(e).closeBlade;return Q(r.fxAwaitAndRun(e)).then((function(e){return e(t,n)}))}var F=function(e){function t(t,n){var r=e.call(this,n)||this;if(r.isSelectable=ko.observable(!0),r.clickableLink=null,r.failureMessage=ko.observable(),r.noDataMessage=ko.observable(),r.height=ko.observable(0),r.width=ko.observable(0),r.size=ko.observable(),r.mutate=ko.observable(),r.menu=null,r._partState=null,r.dashboard=new P,r.partState=r._partState=ko.observable(MsPortalFx.Parts.PartState.Ready),n.clickableLink&&(r.clickableLink=n.clickableLink),r.partTitle=ko.observable(n.partTitle||null),r.ariaLabel=ko.observable(n.partTitle||null),r.assetName=ko.observable(n.assetName||null),r.contentState=ko.observable(0),r.registerForDispose(r.operations=new l.PartOperationList(r)),r._registeredSelectables=t.registeredSelectables,r._registeredSelectableOptions=t.registeredSelectableOptions,t._onInputValuesUpdated=function(e,t,n){var o={parameters:{values:MsPortalFx.forEachKey(e,(function(e,t,n){d.isBladeCallerInput(e)||e===m.EditScopeId||(n[e]=t)}),{}),metadata:n||{}},settings:t&&t.content||{}};r._config.setValues(o)},r._internalViewModel=t,64&n.viewModelType)1&n.flags?r.bladeLocation=2:4&n.flags?r.bladeLocation=1:r.bladeLocation=0;else{r.location=n.location||0;var o={enableForExtensionRenderedHeader:function(e,t){if(!r.operations.inProgress())throw new Error("'updatableHeader.enableForExtensionRenderedHeader' API must be called during 'onInputsSet'");o.options(t||{}),o.updatedHeader.subscribe(r,e)},updatedHeader:ko.observable(),options:ko.observable()};r.updatableHeader=o}var i=v(r,{resize:ko.observable(null),selectables:ko.observable({}),closeBlade:ko.observable(null),menu:ko.observable(null),triggerValidation:ko.observable(),suppressAlert:ko.observable(!1),configureAlert:ko.observable(),setFocus:ko.observable(),openDialog:ko.observable(),print:ko.observable(),executeInCloudShell:ko.observable(),requestOpenBlade:ko.observable(),toggleFullScreen:ko.observable(),currentBladeReference:ko.observable(),partCommands:ko.observable(null),openHelpPane:ko.observable(null)});r.contentSize=ko.observable({height:0,width:0}),r.size.subscribe(r,(function(e){MsPortalFx.deepEquals(r.contentSize(),e.dimensions)||r.contentSize(e.dimensions)}));var a;r._config=new u.Configuration(n||{},(function(e,n){var o=e.parameters,i={inputs:o&&o.values,settings:e.settings,inputsMetadata:o&&o.metadata};return t.updateConfigFn.fxAwaitAndRun(r).then((function(e){return e(i,n)}))})),2&n.flags&&(r.onLockedBlade={closeCurrentBlade:function(e){return r.closeCurrentBlade(e)}});var s=ko.observable(0);if(r.form={validationState:s,dirty:ko.observable(!1),triggerValidation:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),r._internal_noLazyRender&&r._internal_noLazyRender(!0),Q(i.triggerValidation.fxAwaitAndRun(r)).then((function(n){return Q(n(e,t))}))},configureAlertOnClose:function(e){ko.isObservable(e)?(a&&a.dispose(),a=r.createChildLifetime(),e.subscribeAndRun(a,i.configureAlert)):i.suppressAlert(1===e)}},4&n.flags){var c=function(e){return(e=e||{}).inPlace=!0,e},p={titleSuffix:ko.observable(),subtitleSuffix:ko.observable(),hasMenuItem:function(e){return new Promise((function(t){i.menu.fxOnceAndRun(r,(function(n){t(n.hasMenuItem(e))}))}))},switchItem:function(e,t){i.menu.fxOnceAndRun(r,(function(n){n.switchItem(e,t)}))},internalGetAndSelectItem:function(e){return new Promise((function(t){i.menu.fxOnceAndRun(r,(function(n){t(n.internalGetAndSelectItem(e))}))}))},openBlade:function(e,t){return r.openBlade(e,c(t))},openBladeAsync:function(e,t){return r.openBladeAsync(e,c(t))}};r.menu=p}return r}return __extends(t,e),t.prototype.resizeTo=function(e,t){v(this).resize({width:w(e),height:w(t)})},t.prototype.setFocus=function(e){return Q(v(this).setFocus.fxAwaitAndRun(this)).then((function(t){return t(e)}))},t.prototype.print=function(){return v(this).print.fxAwaitAndRun(this).then((function(e){return e()}))},t.prototype.executeInCloudShell=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="string"==typeof e?{cliType:e}:e;return v(this).executeInCloudShell.fxAwaitAndRun(this).then((function(e){return e.apply(void 0,__spreadArray([r],t,!1))}))},t.prototype.toggleFullScreen=function(){return v(this).toggleFullScreen.fxAwaitAndRun(this).then((function(e){return e()}))},t.prototype.fail=function(e){this.failureMessage(this.fixErrorMessage(e,x.unexpectedError)),this._partState(MsPortalFx.Parts.PartState.Failed)},t.prototype.recover=function(){this._partState()===MsPortalFx.Parts.PartState.Failed&&(this.failureMessage(null),this._partState(MsPortalFx.Parts.PartState.Ready)),this.unauthorizedMessage.peek()&&this.unauthorizedMessage(null)},t.prototype.revealContent=function(){var e=this._internalViewModel._revealContentCallCount();this._internalViewModel._revealContentCallCount(e+1)},t.prototype.enableNotice=function(e){_.enableNoticeInvoked()},t.prototype.registerSelectable=function(e,t,n,r){var o=this,i=this._registeredSelectables()||{},a=this._registeredSelectableOptions,s=a()||{};t&&n||_.identitySelectableMissing(),i.hasOwnProperty(t)&&_.selectableRegistered(t),Object.keys(i).map((function(e){return i[e]})).some((function(e){return n===e}))&&_.selectableInstanceRegistered(),r&&((s=p(s,!1))[t]=r,a(s)),(i=p(i,!1))[t]=n,this._registeredSelectables(i),e.registerForDispose((function(){var e=p(o._registeredSelectables(),!1),n=p(a(),!1);delete e[t],delete n[t],o._registeredSelectables(e),a(n)}))},t.prototype.activateConfiguration=function(e){return this._config},t.prototype.closeCurrentBlade=function(e){if(e){"object"==typeof e&&(e=MsPortalFx.clone(e,!0,!0));var t=v(this).configureAlert;t&&t()&&t().alertOnDirtyWhenReturningData||this.form.configureAlertOnClose(1)}return E(this,0,e)},t.prototype.closeChildBlade=function(){return E(this,1)},t.prototype.closeContextBlade=function(){return E(this,2)},t.prototype.openDialog=function(e){var t=this;if(e.dialogRef){var r=v(e,{closeCallback:ko.observable()});e.dialogRef.value={close:function(e){r.closeCallback.fxAwaitAndRun(t).then((function(t){t(e)}))}}}return Q(v(this).openDialog.fxAwaitAndRun(this)).then((function(t){return t(MsPortalFx.extend({type:n.Dlg2,title:void 0},e,!0),e.target)}))},t.prototype.openHelpPane=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,v(this).openHelpPane.fxAwaitAndRun(this)];case 1:return[4,t.sent()(e)];case 2:return t.sent(),[2]}}))}))},t}(n.SelectableContainerViewModel);t.PartContainer=F;var M=function(e){function t(t,n,r,o,i,a,s){var l=this;n||_.containerViewModelMissing(),(l=e.call(this,t,n,r,a)||this)._logArea=i,l._waitForExtensionIdle=s,n.selectable&&FxImpl.assignSelectable(n,n.selectable),l._hadRevealedContentAtConstruction=t._revealContentCallCount()>0;var u=l.container,c=l._initLoadingDefer=Q.defer();return u.registerForDispose((function(){c.promise.isPending()&&c.reject(new MsPortalFx.Errors.DisposedCanceledError)})),l._onInputsSetPromise=c.promise,u.operations.add(l._onInputsSetPromise,{blockUi:!l._hadRevealedContentAtConstruction}),t._revealContentCallCount.subscribe(n,l._onRevealContent,l),l}return __extends(t,e),t.prototype.updatePartInputValues=function(t,n,r,i,l,u,d){var p,m=this,v=s.getBladeContext(),y=null==v?void 0:v.instanceId;if(y){var C=MsPortalFx.isFeatureEnabled("rpctelemetry")?(p=FxImpl.Rpc.client.record(),o.delay(5e3).then((function(){return C(!1)})),function(e){if(p){var t=p();p=null,e&&m.internal.preAjaxRpc(t)}}):null,_=MsPortalFx.getEnvironmentValue("extensionName")!==f.Shell?c.listenForBlade(v,(function(){var e;if(!m.container.isDisposed()){var t=m.internal.prepareFirstAjaxTime;if(!t()){var n=null===(e=v.id)||void 0===e?void 0:e.toLowerCase(),r=fx.getTimestamp();m.internal.onInitializeStartMark&&n&&performance.measure("ExtBladePrepareFirstAjax: ".concat(n),m.internal.onInitializeStartMark),m.internal.onInitializeStart&&t(r-m.internal.onInitializeStart);var o=m._waitForExtensionIdle;if(o){var i=FxImpl.features.isNativePerf&&n&&"ExtBladeAjax: ".concat(n);i&&performance.mark(i),o(m.container,y).then((function(e){if(e){var t=e.lastAjaxCompleteTime,n=e.lastAjaxCompleteMark;m.internal.ajaxTime(t-r),i&&performance.measure(i,i,n),null==_||_.onSettled()}}))}null==C||C(!0)}}})):null;this.container.registerForDispose((function(){null==_||_.onDisposed(),_=null}))}this.internal._onInputValuesUpdated&&this.internal._onInputValuesUpdated(t,n,l);var w=this._onInputsSetPromise,P=this._onInputsSetPromise=null,E=this.internal._revealContentCallCount(),F=e.prototype.updatePartInputValues.call(this,t,n||{},r,i,l,u,d);if(null!==F){P=this._onInputsSetPromise=Q(F).then((function(){MsPortalFx.isNullOrUndefined(m.container.unauthorizedMessage())&&((!m._onInputsSetPromise||m._onInputsSetPromise===P)&&m.container.recover())}),(function(e){var t,n=m.container;if(!n.isDisposed()&&((!m._onInputsSetPromise||m._onInputsSetPromise===P)&&(!e||!e.handled))){var r,o,i=g(e,h.Error),s=i&&g(e,h.DataError),l=i&&g(e,h.NotFoundDataError),u=i&&g(e,h.UnauthorizedDataError),c=i&&g(e,h.AjaxError),d=e&&!MsPortalFx.isNullOrUndefined(e.httpStatusCode),p=e&&!MsPortalFx.isNullOrUndefined(e.content),f=i&&g(e,h.CanceledError);c&&e.jqXHR?r=FxImpl.Azure.buildSimplifiedError(e.jqXHR):d||p?r=FxImpl.Azure.buildSimplifiedError(e):s&&e.errorData&&(r=FxImpl.Azure.buildSimplifiedError(e.errorData));var v=r&&r.status;o=403===v||410===v||404===v||401===v||0===v||l||u||f?1:2;var y="string"==typeof e?e:e&&e.message;if(r){var C={message:r.message,code:r.status,error:e},_=C.message===b.Azure.unknownErrorOccured;switch(u&&_&&(C.message=x.unauthorizedText),l&&_&&(C.message=x.notFound),0===v&&(C.message=x.networkError,C.details=x.networkErrorDetails),r.status){case 403:case 401:_&&(C.message=x.unauthorizedText),n.unauthorized(C);break;case 410:case 404:_&&(C.message=x.notFound),n.notFound(C);break;default:n.fail(C)}}else u?n.unauthorized({message:y}):l?n.notFound({message:y}):f||n.fail({message:y,error:e});var w=[e];r&&w.push(r);var E,F=64&m.role?"blade":"part";E=1024&m.role?"ReactView failed to load.":2048&m.role?"Dx view failed to load.":512&m.role?"Az view failed to load.":4096&m.role?"The promise returned from the ".concat(F,"'s onInitialize method was rejected.(id: ").concat(FxImpl.Po.getMetadataId(m),")"):"The promise returned from the ".concat(F,"'s onInputsSet method was rejected.(id: ").concat(FxImpl.Po.getMetadataId(m),")"),E+="\r\n".concat(r?r.message:y),(t=a.Log).writeEntry.apply(t,__spreadArray([o,m._logArea,E],w,!1))}}));var M=this._hadRevealedContentAtConstruction||this.internal._revealContentCallCount()>E;this.container.operations.add(P,{blockUi:!M})}return this._removePromiseFromOps(w),P},t.prototype._removePromiseFromOps=function(e){if(e){this.container.operations.remove(e);var t=this._initLoadingDefer;t&&e===t.promise&&(t.resolve(),this._initLoadingDefer=null)}},t.prototype.updatePartForUnauthorized=function(){var e=this._onInputsSetPromise;this._onInputsSetPromise=null,this._removePromiseFromOps(e)},t.prototype.invokeClickHandler=function(e,t,r,o,i,a,s,l){if(r){var u=this.container,c=(0,n.createClickContext)(this.container,o,!!(1&u.flags),a,s,l),d=3===e?[a]:[{target:i}];(0,n.setClickContext)(this.container,c);try{r.apply(t,d)}finally{(0,n.setClickContext)(this.container,void 0)}}},t.prototype._onRevealContent=function(){var e=this._onInputsSetPromise,t=e&&this.container.operations.getOptionsForOperation(e);t&&t.blockUi&&this.container.operations.update(e,{blockUi:!1})},t}(r.CompositionViewModelBase);t.Part=M,t.partHeaderEnabledFeatureName="dashboardpartsettings"})),
define("Fx/DependencyInjection",["require","exports","Fx/DependencyInjectionCore","Fx/Diagnostics","FxInternal/Composition/CompositionViewModel","FxInternal/Composition/Part","FxInternal/Rpc","Fx/DependencyInjectionCore"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=t.Class=t.Value=t.Container=void 0,Object.defineProperty(t,"Value",{enumerable:!0,get:function(){return n.Value}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return n.Container}}),Object.defineProperty(t,"Class",{enumerable:!0,get:function(){return n.Class}}),Object.defineProperty(t,"Factory",{enumerable:!0,get:function(){return n.Factory}}),MsPortalFx.ViewModels.PartContainer=i.PartContainer,FxImpl.ViewModels.createFrameworkPartViewModel=o.createFrameworkPartViewModel,__exportStar(s,t),(0,n.Value)()(FxImpl.Rpc.Client),n.container.set(FxImpl.Rpc.Client,FxImpl.Rpc.client),n.container.set(a.Client,FxImpl.Rpc.client),n.container.set(FxImpl.Features,FxImpl.features),n.container.set(r.Logging,FxImpl.Base.Diagnostics.loggingDiValue);var l=MsPortalFx.ViewModels;(0,n.Value)("viewModel")(l.CommandContainerContract),(0,n.Value)("viewModel")(l.ContainerContract),(0,n.Value)("viewModel")(l.PartContainerContract)})),
define("Fx/Composition/Blade",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=0,r.options=e}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return function(e){}}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(e){(e._fx||(e._fx={})).doesProvisioning=!0}}}(t.DoesProvisioning||(t.DoesProvisioning={})),function(e){e.Decorator=function(e){return function(e){}}}(t.LegacyFeatures||(t.LegacyFeatures={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ForContextPane||(t.ForContextPane={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.ProxiedMember=r.ProxiedMember}(o||(o={})),o})),
define("Fx/Composition/PartBase",["require","exports"],(function(e,t){var n;return function(e){var t=MsPortalFx.Parts;e.Size=t.PartSize,e.Configurable||(e.Configurable={})}(n||(n={})),n})),
define("Fx/Composition/ButtonPart",["require","exports","Fx/DependencyInjection","Fx/Composition/PartBase"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=4,r.options=e}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,t.Size=r.Size,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(o||(o={})),o})),
define("Fx/Composition/DashboardFilters",["require","exports"],(function(e,t){var n;return function(e){!function(e){e.filterId="MsPortalFx_TimeRange"}(e.TimeRangeFilter||(e.TimeRangeFilter={}));var t=function(){};e.FilterDefinition=t;var n,r=function(e){function t(t,n){var r=e.call(this)||this;return r.kind=t,r.operators=n,r}return __extends(t,e),t}(t),o=function(e){function t(t,n,r,o){var i=e.call(this,r,o)||this;return i.filterId=t,i.displayText=n,i}return __extends(t,e),t}(r);!function(e){function t(e){var t=e.operator;return"number"==typeof t&&(0===t||1===t)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new n(e)};var n=function(e){function t(t){var n=this,r=t.filterId,o=t.displayText,i=t.operators;return(n=e.call(this,r,o,1,i)||this).getFilterValues=t.getFilterValues,n}return __extends(t,e),t}(o)}(n=e.EqualityFilter||(e.EqualityFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_Subscription";var o=function(e){function t(t){var n=e.call(this,2,t.operators)||this;return n.getSubscriptionIds=t.getSubscriptionIds,n}return __extends(t,e),t}(r)}(e.SubscriptionFilter||(e.SubscriptionFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_Location";var o=function(e){function t(t){var n=e.call(this,3,t.operators)||this;return n.getLocations=t.getLocations,n}return __extends(t,e),t}(r)}(e.LocationFilter||(e.LocationFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_ResourceGroup";var o=function(e){function t(t){var n=e.call(this,5,t.operators)||this;return n.getResourceGroupIds=t.getResourceGroupIds,n}return __extends(t,e),t}(r)}(e.ResourceGroupFilter||(e.ResourceGroupFilter={})),function(e){function t(e){return n.isEqualityFilterModel(e)}e.isEqualityFilterModel=t,e.isSubstringFilterModel=function(e){return!t(e)},e.createDefinition=function(e){return new o(e)},e.filterId="MsPortalFx_ResourceType";var o=function(e){function t(t){var n=e.call(this,4,t.operators)||this;return n.getResourceTypes=t.getResourceTypes,n}return __extends(t,e),t}(r)}(e.ResourceTypeFilter||(e.ResourceTypeFilter={}))}(n||(n={})),n})),
define("Fx/Composition/FramePart",["require","exports","Fx/DependencyInjection","Fx/Composition/PartBase"],(function(e,t,n,r){var o;return function(t){function o(e){return"onReceiveMessage"in e}t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=5,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,t.Size=r.Size,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),t.signature="FxFramePart",t.revealContentMessageKind="revealcontent",t.initializationCompleteMessageKind="initializationcomplete",t.frameIsIdleMessageKind="frameidle",t.frameIsBusyMessageKind="framebusy",t.createViewModel=function(e,t){if(!t.onReceiveMessage)throw new Error("onReceiveMessage callback must be set.");return new l(e,t)};var a=function(){function e(e,n){var r=this;this._handlers={};var i=n.signature||t.signature,a=[];this.src=n.src,this._postMessage=function(e,t){a.push({signature:i,kind:e,data:t})},this._msPortalFxData={postMessage:ko.observable(),receiveMessage:ko.observable(),isFrameReady:ko.observable(!1),signature:i,isV2Options:o(n)};var s=this._msPortalFxData;s.isFrameReady.subscribe(e,(function(e){if(e&&a){for(r._postMessage=function(e,t){s.postMessage({signature:i,kind:e,data:t})};a.length;)s.postMessage(a.shift());a=null}})),s.receiveMessage.subscribe(e,(function(e){o(n)&&e&&e.data&&n.onReceiveMessage(e.data),(r._handlers[e.kind]||[]).slice().forEach((function(t){t(e.data)}))}));var l=function(){e.revealContent(),r.off(t.revealContentMessageKind,l)};this.on(t.revealContentMessageKind,l);var u=Promise.withResolvers();this._readyPromise=u.promise;var c=function(e){var n=e&&e.errorMessage;n?u.reject(n):u.resolve(),r.off(t.initializationCompleteMessageKind,c)};this.on(t.initializationCompleteMessageKind,c)}return e.prototype.waitForFrameReady=function(){return this._readyPromise},e.prototype.on=function(e,t){(this._handlers[e]=this._handlers[e]||[]).push(t)},e.prototype.off=function(e,t){MsPortalFx.remove(this._handlers[e]||[],t)},e}();t.ViewModelBase=a;var s=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype.postMessage=function(e,t){this._postMessage(e,t)},t}(a);t.ViewModel=s;var l=function(e){function t(t,n){return e.call(this,t,n)||this}return __extends(t,e),t.prototype.postMessage=function(e){this._postMessage(null,e)},t}(a);!function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).filterable=!0}}}(t.Filterable||(t.Filterable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(o||(o={})),o})),
define("Fx/Composition/FrameBlade",["require","exports","Fx/DependencyInjection","Fx/Composition/FramePart"],(function(e,t,n,r){var o;return function(t){var o=MsPortalFx.noop;t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=1,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return o}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return o}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(e){(e._fx||(e._fx={})).doesProvisioning=!0}}}(t.DoesProvisioning||(t.DoesProvisioning={})),function(e){e.Decorator=function(e){return o}}(t.LegacyFeatures||(t.LegacyFeatures={})),function(e){e.Decorator=function(e){return o}}(t.ForContextPane||(t.ForContextPane={}));var a=function(e){function t(t,n){return e.call(this,t,MsPortalFx.extend2(n,{signature:"FxFrameBlade"}))||this}return __extends(t,e),t}(r.ViewModel);t.ViewModel=a,t.createViewModel=function(e,t){return r.createViewModel(e,MsPortalFx.extend2(t,{signature:"FxFrameBlade"}))},function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={}))}(o||(o={})),o})),
define("FxInternal/Composition/MenuBlade",["require","exports"],(function(e,t){function n(e,t){return e._internal_initialMenuItem=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.claimInitialMenuItem=function(e){var t=e._internal_initialMenuItem;return t&&n(e,void 0),t},t.setInitialMenuItem=n})),
define("FxInternal/Controls/Menu",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getInternal=function(e){return e},t.setInternal=function(e,t){return MsPortalFx.extend(e,t)}})),
define("FxInternal/Utils/Promise",["require","exports"],(function(e,t){var n;function r(t){n||(n=MsPortalFx.Base.Diagnostics.createLog(e)),n.error(new MsPortalFx.Errors.Error(t))}function o(e){return e instanceof Promise}Object.defineProperty(t,"__esModule",{value:!0}),t.tryImmediateResolveValue=function(e,t,n){var r;if(Q.isPromise(e)&&e.isFulfilled())r=e.inspect().value;else{if(o(e))return e.then(t,n);r=e}try{var i=t(r);return Promise.resolve(i)}catch(e){var a=Promise.reject(e);return n&&(a=a.catch(n)),a}},t.memoizePromiseValue=function(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var r;try{r=e(n)}catch(e){return Promise.reject(e)}if(Q.isPromise(r)&&r.isFulfilled())r=r.inspect().value;else{if(Q.isPromise(r)&&r.isRejected())return r;o(r)&&(r=r.then((function(e){return t.get(n)===r&&t.set(n,e),e}),(function(e){return t.get(n)===r&&t.delete(n),Promise.reject(e)})))}return t.set(n,r),r}},t.preventUnhandledRejection=function(e){return e.catch((function(){})),e},t.ensureAsyncMethodReturnsPromiseForBackCompat=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a,s=e.name||"unknown",l="Async method '".concat(s,"' did not return a Promise as expected.");try{a=e.apply(t,n)}catch(e){return r({message:l,data:{asyncMethodName:s},innerErrors:e}),Promise.reject(e)}if(!o(a))return r({message:l,data:{asyncMethodName:s,returnValue:a}}),Promise.resolve(a);return a}})),
define("Fx/Controls/Menu",["require","exports","FxInternal/Composition/MenuBlade","FxInternal/Controls/Menu","Fx/Composition/Selectable","FxInternal/Utils/Promise","Fx/Errors"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=t.SortFunction=void 0;var s,l=FxImpl.Composition.Selectable.Selectable2,u=MsPortalFx.ViewModels.Controls,c=MsPortalFx.Base.Diagnostics.createLog(e);!function(e){e[e.Default=0]="Default",e[e.DateTime=1]="DateTime",e[e.SupportFirst=9999]="SupportFirst"}(s||(t.SortFunction=s={}));var d=function(e){function t(t,s){var u=e.call(this,t)||this;u.groups=ko.observableArray(),u.showSearch=!0,u.controlType=115,u.groupSortFunction=s;var d,p,f,m,h,v,g=Promise.withResolvers(),y=u._msPortalFxData={items:ko.observableArray(),selectableMap:ko.observable(),options:ko.observable(),overviewPromise:g.promise,menuDeepLink:ko.observable(),storageKey:ko.observable()},b=y.items,x=y.selectableMap,C=y.options,_=u._allSelectableMap=new Map,w=function(){d=function(e){return e},p=function(){return Promise.resolve()},f=void 0,m=void 0,h=void 0,(0,r.setInternal)(u,{getInitialItemId:null,resolveInitialItem:null})};function P(e){if(_.has(e))return _.get(e);var t=new l(d(e));return _.set(e,t),t}function E(e,t,n){return function(){var r,i=null===(r=n||C())||void 0===r?void 0:r.overrideTabBlade;return i?i(e,t):new o.MenuBladeReference("HostedTabMenuBlade",e.id,"HubsExtension",{parameters:{menuId:t,menuItems:e.tabItems.map((function(e){return{id:e.id,displayText:e.displayText}}))}})}}function F(e,t){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),[2,new o.MenuBladeReference("HostedTabMenuBlade",e.id,"HubsExtension",{parameters:{menuId:n,menuItems:e.tabItems.map((function(e){return{id:e.id,displayText:e.displayText}}))}})]}}))}))}w();var M=new Map;var S=new Map;function I(e){if(S.has(e))return S.get(e);var t=MsPortalFx.clone(e,!1);return S.set(e,t),t}function k(e,t,n){var r,o=this;if((null===(r=e.tabItems)||void 0===r?void 0:r.length)>0){var i=[].concat(e.keywords),a=[];e.tabItems.forEach((function(r){var o=ko.unwrap(r.displayText);i.push(o),i.push(r.keywords),n.push(o),n.push(r.keywords),t[r.id]=function(e,t){var n=this;if(M.has(t))return M.get(t);var r={id:t.id,displayText:t.displayText,icon:e.icon};void 0!==e.defaultTabIdPromise?r.supplyBladeReferenceAsync=function(){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,F(e,e.defaultTabIdPromise)];case 1:return[2,t.sent()]}}))}))}:r.supplyBladeReference=E(e,t.id);var o=P(r);return M.set(t,o),o}(e,r);var s=I(r);s.icon=e.icon,a.push(s)}));var s=I(e);return delete s.supplyBladeReferenceAsync,void 0!==e.defaultTabIdPromise?s.supplyBladeReferenceAsync=function(){return __awaiter(o,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,F(e,e.defaultTabIdPromise)];case 1:return[2,t.sent()]}}))}))}:s.supplyBladeReference=E(e,e.tabItems[0].id),s.tabItems=a,s.keywords=i,s}return e}function A(e,t){return e.id?(t[(e=k(e,t,[ko.unwrap(e.displayText)].concat(e.keywords))).id]=P(e),e):(c.error(new a.FxError({message:"Invalid overview item. No id specified.",data:{overview:ko.toJSON(e)}})),null)}u.groups.subscribe(t,(function(e){var t={},n=MsPortalFx.mapMany(e,(function(e){return e.items.map((function(n){return function(e,n){var r=e.id;if(!r)return c.error(new a.FxError({message:"Invalid item. No id specified.",data:{item:ko.toJSON(e)}})),null;if(t[r])return c.error(new a.FxError({message:"Multiple items specified with the same id.",data:{id:r}})),null;var o=[ko.unwrap(e.displayText),ko.unwrap(n.displayText)].concat(e.keywords).concat(n.keywords);e=k(e,t,o);var i=o.filter((function(e){return!!e})).join(" "),s=$.extend({group:n.displayText,groupId:n.id,aggregatedKeywords:i},e);return t[r]=P(e),s}(n,e)})).filter(Boolean)})),r=C(),o=r&&r.overview;o&&A(o,t),x(t),b(n)})),u.setOptions=function(e){var t=e.overview;if(t){var n=MsPortalFx.clone(x()),r=A(t,n);r&&(g.resolve(r),x(n)),e.overview=r}C(e)};var T=(0,n.claimInitialMenuItem)(t);if(T){var D=function(e,t,n,r){return f=e,m=t,h=n,T.setBladeReferencePromise(Promise.resolve(t),Promise.resolve(n),r)};(0,r.setInternal)(u,{getInitialItemId:function(){return T.id},resolveInitialItem:D}),p=function(e,t){var n,r,o=Promise.resolve(),a=function(e){return e.supplyBladeReference?Promise.resolve(e.supplyBladeReference()):(0,i.ensureAsyncMethodReturnsPromiseForBackCompat)(e.supplyBladeReferenceAsync,e)};if(!m||!h){var s=T.id||t.defaultId||t.overview&&t.overview.id,l=s&&(MsPortalFx.find(MsPortalFx.mapMany(e||[],(function(e){return e.items||[]})),(function(e){return e&&(e.id===s||!!MsPortalFx.find(e.tabItems,(function(e){return e.id===s})))}))||((null===(n=t.overview)||void 0===n?void 0:n.id)===s||!!MsPortalFx.find(null===(r=t.overview)||void 0===r?void 0:r.tabItems,(function(e){return e.id===s})))&&t.overview);if(l)if(l.tabItems){var u=l.id===s?MsPortalFx.first(l.tabItems):MsPortalFx.find(l.tabItems,(function(e){return e.id===s})),c=l.defaultTabIdPromise?F(l,l.defaultTabIdPromise):Promise.resolve(E(l,u.id,t)());c&&u&&(u.supplyBladeReference||u.supplyBladeReferenceAsync)&&(o=D(s,c,a(u),t.menuExtensionName))}else(l.supplyBladeReference||l.supplyBladeReferenceAsync)&&(o=D(s,null,a(l),t.menuExtensionName))}return(m||h)&&(d=function(e){if(f===e.id){var t=MsPortalFx.clone(e);return delete t.supplyBladeReference,t.supplyBladeReferenceAsync=function(){var t=null!=m?m:h;return t?(m=null,h=null,t):a(e)},t}return e}),o}}return u.initialize=function(e,t){return v&&w(),v=!0,p(e,t).then((function(){u.groups(e),u.setOptions(t)}))},u}return __extends(t,e),t}(u.Base.ViewModel);t.ViewModel=d})),
define("Fx/Composition/MenuBlade",["require","exports","Fx/DependencyInjection","Fx/Controls/Menu"],(function(e,t,n,r){var o;return function(t){var o=MsPortalFx.extend;t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=2,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),t.SortFunction=r.SortFunction;var a=function(){function e(){}return e.create=function(t,n){var r=new e;return r._initialize(t,n),o(r,n)},e.prototype._initialize=function(e,t){var n=t.groupSortFunction;n=void 0===n?r.SortFunction.SupportFirst:n;var o=t.groups,i=t.showSearch,a=this._msPortalFxMenu=new r.ViewModel(e,n);a.groupSortOrder=t.groupSortOrder||0,void 0!==i&&(a.showSearch=i);var s=__assign(__assign({},t),{menuExtensionName:MsPortalFx.getEnvironmentValue("extensionName")});a.initialize(ko.unwrap(o),s).then((function(){ko.isObservable(o)&&o.subscribeAndRun(e,a.groups)}))},e}();t.ViewModel2=a,function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={}))}(o||(o={})),o})),
define("Fx/Composition/Part",["require","exports","Fx/Composition/ViewModelBase","Fx/Composition/PartBase","Fx/DependencyInjection"],(function(e,t,n,r,o){var i;return function(t){t.Decorator=function(e){return function(t){o.Class("viewModel")(t);var n=t._fx||(t._fx={});n.itemType=6,n.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),o.Value("viewModel")],t)}();t.Container=i,t.Size=r.Size,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),t.ProxiedMember=n.ProxiedMember,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).filterable=!0}}}(t.Filterable||(t.Filterable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(i||(i={})),i})),
define("Fx/Composition/Pdl/Blade",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=r})),
define("Fx/Controls/TabMenu",["require","exports","Fx/Composition/Selectable"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t){var r=e.call(this,t)||this;r.items=ko.observableArray(),r.controlType=211;var o=r._msPortalFxData={items:ko.observableArray(),selectableMap:ko.observable(),options:ko.observable(),menuDeepLink:ko.observable()},i=o.items,a=o.selectableMap,s=o.options,l=new Map;return r.items.subscribe(t,(function(e){var t={};e.forEach((function(e){var r=e.id;if(!r)throw new Error("Invalid item. No id specified. Item: '".concat(ko.toJSON(e),"'."));if(t[r])throw new Error("Multiple items specified with the same id '".concat(r,"'."));return!s().mainMenu||e.supplyBladeReference||e.supplyBladeReferenceAsync||(e=__assign(__assign({},e),{supplyBladeReference:function(){return null}})),t[r]=function(e){if(l.has(e))return l.get(e);var t=new n.Selectable2(e);return l.set(e,t),t}(e),e})),a(t),i(e)})),r.setOptions=function(e){s(e)},r.initialize=function(e,t){return r.setOptions(t),r.items(e),Promise.resolve()},r}return __extends(t,e),t}(MsPortalFx.ViewModels.Controls.Base.ViewModel);t.ViewModel=r})),
define("Fx/Composition/TabMenuBlade",["require","exports","Fx/DependencyInjection","Fx/Controls/TabMenu"],(function(e,t,n,r){var o;return function(t){var o=MsPortalFx.extend;t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=14,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={}));var a=function(){function e(){}return e.create=function(t,n){var r=new e;return r._initialize(t,n),o(r,n)},e.prototype._initialize=function(e,t){var n=t.items,o=t.defaultId,i=t.mainMenu,a=this._msPortalFxTabMenu=new r.ViewModel(e),s={defaultId:o,mainMenu:i};a.initialize(ko.unwrap(n),s).then((function(){ko.isObservable(n)&&n.subscribeAndRun(e,a.items)}))},e}();t.ViewModel2=a}(o||(o={})),o})),
define("Fx/Composition/TemplateBlade",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase"],(function(e,t,n,r){var o;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=3,r.options=e||{}}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return function(e){}}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(e){(e._fx||(e._fx={})).doesProvisioning=!0}}}(t.DoesProvisioning||(t.DoesProvisioning={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:legacyFeatures",e,t)}}}(t.LegacyFeatures||(t.LegacyFeatures={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:forContextPane",e,t)}}}(t.ForContextPane||(t.ForContextPane={})),t.ProxiedMember=r.ProxiedMember,function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={}))}(o||(o={})),o})),
define("Fx/Composition/TemplatePart",["require","exports","Fx/DependencyInjection","Fx/Composition/ViewModelBase","Fx/Composition/PartBase"],(function(e,t,n,r,o){var i;return function(t){t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var r=t._fx||(t._fx={});r.itemType=7,r.options=e}};var i=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=i,t.Size=o.Size,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}}}(t.Rebindable||(t.Rebindable={})),function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldPart||(t.ReplacesOldPart={})),t.ProxiedMember=r.ProxiedMember,function(e){e.Decorator=function(){return function(e){(e._fx||(e._fx={})).filterable=!0}}}(t.Filterable||(t.Filterable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:composition:model",e,t)}}}(t.InjectableModel||(t.InjectableModel={})),t.UpdatableHeader||(t.UpdatableHeader={})}(i||(i={})),i})),
define("FxInternal/Controls/Base/Base",["require","exports","Fx/Errors"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0,t.isHtmlContent=o,t.validateTemplate=function(e){if(o(e)&&"string"!=typeof e.htmlTemplate)throw new n.FxError({message:"htmlTemplate of HtmlContent must be a string.",data:{htmlTemplate:e.htmlTemplate}})},t.monitorObservable=function(e,t,n){t.subscribe(e,n,null,"spectate"),ko.isComputed(t)&&t.isActive()&&!t.getDependenciesCount()||n(ko.utils.peekObservable(t))};var r=new MsPortalFx.Base.Diagnostics.Log("FxInternal/Controls/Base/Base");function o(e){return!(!e||!e.htmlTemplate)}var i=function(){function t(e,t){this.vmKind="Fx",t=t||{},this.controlType=0,e?(this._lifetimeManager=e.createChildLifetime(),this._lifetimeManager.registerForDispose(this)):(r.error(FxImpl.createError("LifetimeManager was not provided. Creating a TriggerableLifetimeManager.",{data:{ctor:this.constructor+""}})),this._lifetimeManager=new FxImpl.TriggerableLifetimeManager),this.telemetryName=t.telemetryName}return t.prototype.dispose=function(){this._lifetimeManager.dispose()},Object.defineProperty(t.prototype,"lifetimeManager",{get:function(){return this._lifetimeManager},enumerable:!1,configurable:!0}),t.prototype.populateFromObject=function(e){var t=e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(this[n]=t[n])},t.prototype._addDisposablesToCleanUp=function(e){this._lifetimeManager.registerForDispose(e)},t=__decorate([__metadata("fx:diagnostics",[e,"ViewModel"]),MsPortalFx.Composition.ProxyCompatibilityMode,__metadata("design:paramtypes",[Object,Object])],t)}();t.ViewModel=i})),
define("FxInternal/Controls/Button",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t)||this;return r.controlType=100,r.style=MsPortalFx.initObservable(n.style,0),r.onClick=n.onClick,r.cssClass=MsPortalFx.initObservable(n.cssClass),r.text=MsPortalFx.initObservable(n.text,""),r.disabled=MsPortalFx.initObservable(n.disabled,!1),r.ariaLabel=MsPortalFx.initObservable(n.ariaLabel,""),r.visible=MsPortalFx.initObservable(n.visible,!0),r.loading=MsPortalFx.initObservable(n.loading,!1),r.icon=MsPortalFx.initObservable(n.icon),r.loadingText=MsPortalFx.initObservable(n.loadingText),r}return __extends(t,e),t}(n.ViewModel);t.ViewModel=r})),
define("Fx/Controls/Button",["require","exports","FxInternal/Controls/Button"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Utils/ValidationHelper",["require","exports"],(function(e,t){function n(e){var t=e&&r.get(e);t&&t()}Object.defineProperty(t,"__esModule",{value:!0}),t.triggerValidation=function(e){var t=e.focusOnFirstInvalid,r=e.ltm,o=e.msPortalFxTriggerValidation,i=e.validateHidden;return n(e.vm),ko.ignoreDependencies((function(){var e=o();return MsPortalFx.Base.Promises.cancelOnDispose(r,e?e():function(){var e=Promise.withResolvers(),n=r.createChildLifetime();return o.subscribe(n,(function(r){r&&(n.dispose(),Promise.resolve().then((function(){return r(t,i)})).then(e.resolve).catch(e.reject))})),e.promise})}))},t.tryOnTriggerValidation=n,t.setOnTriggerValidationCallback=function(e,t){e&&t&&r.set(e,t)};var r=new WeakMap})),
define("FxInternal/Controls/Base/FormsBase",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper","Fx"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var i=function(e){function t(r,o){var i=e.call(this,r,o)||this;o=o||{};var a=i.lifetimeManager;return i.controlType=0,i.ariaLabel=MsPortalFx.initObservable(o.ariaLabel,""),i.cssClass=MsPortalFx.initObservable(o.cssClass),i.defaultValue=ko.observable(null),i.delayValidationTimeout=ko.observable(MsPortalFx.ViewModels.Controls.ValidatableControl.DefaultDelayValidationTimeout),i.disabled=MsPortalFx.initObservable(o.disabled,!1),i._originalDirty=ko.observable(!1),i.dirty=o.dirty||i._originalDirty,i.enabled=ko.observable(!i.disabled()),i.enableValidation=ko.observable(!1),i.ensureValidation=ko.observable(0),i.hideValidationCheck=MsPortalFx.initObservable(o.hideValidationCheck,!1),i.infoBalloonContent=MsPortalFx.initObservable(o.infoBalloonContent,""),i.infoBalloonAriaLabel=MsPortalFx.initObservable(o.infoBalloonAriaLabel,""),i.infoBalloonLinkContent=ko.observable(),i.initialValue=ko.observable(null),i.label=MsPortalFx.initObservable(o.label),i.labelPosition=MsPortalFx.initObservable(o.labelPosition,MsPortalFx.ViewModels.Forms.LabelPosition.Top),i.loading=MsPortalFx.initObservable(o.loading,!1),i.performValidation=ko.observable(null),i.showValidationMessagesBelowControl=!0,i.overflowMode=MsPortalFx.initObservable(o.overflowMode,0),i.subLabel=MsPortalFx.initObservable(o.subLabel,void 0),i.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),i.value=ko.observable(),i.valid=MsPortalFx.initObservable(o.valid,!0),i.validate=ko.observable(0),i.validations=MsPortalFx.initObservableArray(o.validations,[]),i.validationResults=ko.observableArray(),i.visible=MsPortalFx.initObservable(o.visible,!0),i._msPortalFxClearValidation=ko.observable(),i._msPortalFxLeftLabelWidth=ko.observable(),i._msPortalFxTriggerValidation=ko.observable(),i._msPortalFxViewModelValueChangesAreClean=!o.suppressDirtyBehavior,i._msPortalFxWidgetValue=ko.observable(),i._msPortalFxRequired=ko.observable(),i._newThisValueBinding=void 0,i._dirtyLifetime=void 0,i._enableValidationReactor=void 0,MsPortalFx.isNullOrUndefined(o.value)||(ko.isObservable(o.value)?ko.utils.twoWayBinding(a,o.value,i.value):i.value(o.value)),t.bindSelfTriggeringValidation(i),n.monitorObservable(a,i.infoBalloonContent,n.validateTemplate),n.monitorObservable(a,i.label,n.validateTemplate),n.monitorObservable(a,i.subLabel,n.validateTemplate),i.enabled.subscribe(a,(function(e){ko.isWritableObservable(i.disabled)&&i.disabled(!e)})),i.disabled.subscribe(a,(function(e){ko.isWritableObservable(i.enabled)&&i.enabled(!e)})),i.enableValidation(!0),i.createValueSubscriptions(a),i}return __extends(t,e),t.bindSelfTriggeringValidation=function(e){var t=[],n=ko.observable().extend({rateLimit:{timeout:750,method:"notifyWhenChangesStop"}});n.subscribe(e.lifetimeManager,(function(){return e.triggerValidation()}));var r=new WeakMap,o=[];e.validations.subscribeAndRun(e.lifetimeManager,(function(i){var a=(i||[]).reduce((function(t,n){return"triggerSubscribable"in(n||{})&&(n.value=e.value,r.set(n,n.triggerSubscribable),delete n.triggerSubscribable),r.has(n)&&t.push(r.get(n)),t}),[]);o.map((function(e){r.has(e)&&!i.includes(e)&&(e.triggerSubscribable=r.get(e),r.delete(e),e.value=void 0)})),o=i||[];var s=(t=t.map((function(e){if(a.includes(e._target))return e;e.dispose()})).filter((function(e){return e}))).map((function(e){return e._target}));a.forEach((function(r){s.includes(r)||t.push(r.subscribe(e.lifetimeManager,(function(){n({})})))}))}))},t.prototype.clearValidation=function(){var e=this;return ko.ignoreDependencies((function(){var t=e._msPortalFxClearValidation();return MsPortalFx.Base.Promises.cancelOnDispose(e.lifetimeManager,t||Promise.resolve())}))},t.prototype.triggerValidation=function(e){return(0,r.triggerValidation)({vm:this,focusOnFirstInvalid:e,ltm:this.lifetimeManager,msPortalFxTriggerValidation:this._msPortalFxTriggerValidation})},t.prototype.resetDirtyComputed=function(e){MsPortalFx.disposeDisposable(this._dirtyLifetime),this._dirtyLifetime=this.lifetimeManager.createChildLifetime(),ko.computed(this._dirtyLifetime,e)},t.prototype.createValueSubscriptions=function(e){var t=this,n=!1,r=!1,i=this.value;o.nextTick((function(){var e=t.value,n=!!t.lifetimeManager;e!==i&&n&&(MsPortalFx.disposeDisposable(t._newThisValueBinding),t._newThisValueBinding=e.subscribeAndRun(t.lifetimeManager,i))})),this.setValue(this.value(),this._msPortalFxWidgetValue),this.value.subscribe(e,(function(e){r?t.trySetDirty(!0):(n=!0,t.setValue(e,t._msPortalFxWidgetValue),n=!1)})),this._msPortalFxWidgetValue.subscribe(e,(function(e){if(!n){r=!0;var o=void 0;ko.isComputed(t.value)&&((o=t.value())===e||Array.isArray(o)&&Array.isArray(e)&&function(e,t){var n=!1;e.length===t.length&&(n=e.every((function(e,n){return e===t[n]})));return n}(o,e))||t.setValue(e,t.value),r=!1}}))},t.prototype.setDirty=function(e){this.dirty===this._originalDirty&&this.dirty(e)},t.prototype.trySetDirty=function(e){this&&this._msPortalFxViewModelValueChangesAreClean&&this.setDirty(e)},t.prototype.setValue=function(e,t){Array.isArray(e)?t(e.slice()):t(e)},t}(n.ViewModel);t.ViewModel=i})),
define("FxInternal/Controls/CheckBox",["require","exports","FxInternal/Controls/Base/FormsBase"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return n=n||{},r.controlType=7,r.inlineLabel=n.labelOnRight||n.inlineLabel||!1,r.isAMD=!0,r}return __extends(t,e),t}(n.ViewModel);t.ViewModel=r})),
define("Fx/Controls/CheckBox",["require","exports","FxInternal/Controls/CheckBox"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Controls/CopyableLabel",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return n=n||{},r.controlType=40,r.ariaLabel=MsPortalFx.initObservable(n.ariaLabel),r.cssClass=MsPortalFx.initObservable(n.cssClass),r.readOnly=MsPortalFx.initObservable(n.readOnly,!1),r.hideTextbox=n.hideTextbox,r.style=n.style||0,r.infoBalloonContent=MsPortalFx.initObservable(n.infoBalloonContent),r.infoBalloonAriaLabel=MsPortalFx.initObservable(n.infoBalloonAriaLabel),r.infoBalloonLinkContent=ko.observable(),r.label=MsPortalFx.initObservable(n.label),r.labelPosition=ko.observable(MsPortalFx.ViewModels.Forms.LabelPosition.Top),r.loading=ko.observable(!1),r.subLabel=MsPortalFx.initObservable(n.subLabel),r.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),r.value=MsPortalFx.initObservable(n.value),r.visible=MsPortalFx.initObservable(n.visible),r._msPortalFxLeftLabelWidth=ko.observable(),r._msPortalFxRows=MsPortalFx.isNullOrUndefined(n.rows)?1:n.rows,r}return __extends(t,e),t}(n.ViewModel);t.ViewModel=r})),
define("Fx/Controls/CopyableLabel",["require","exports","FxInternal/Controls/CopyableLabel"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Controls/CustomHtml",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper","FxInternal","Fx/Errors"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var a=function(e){function t(t,r,a){void 0===a&&(a=!0);var s=e.call(this,t)||this,l=s.lifetimeManager;return s.controlType=23,s.cssClass=MsPortalFx.initObservable(r.cssClass,""),s.dirty=ko.observable(!1),s.disabled=MsPortalFx.initObservable(r.disabled,!1),s.hideValidationCheck=MsPortalFx.initValue(r.hideValidationCheck,!1),s.htmlTemplate=MsPortalFx.initObservable(r.htmlTemplate),s.infoBalloonContent=MsPortalFx.initObservable(r.infoBalloonContent),s.infoBalloonAriaLabel=MsPortalFx.initObservable(r.infoBalloonAriaLabel),s.infoBalloonLinkContent=MsPortalFx.initObservable(r.infoBalloonLinkContent),s.innerViewModel=r.innerViewModel,s.isolated=MsPortalFx.initValue(r.isolated,!0),s.label=MsPortalFx.initObservable(r.label),s.labelPosition=ko.observable(MsPortalFx.ViewModels.Forms.LabelPosition.Top),s.loading=ko.observable(!1),s.subLabel=MsPortalFx.initObservable(r.subLabel),s.subLabelPosition=ko.observable(MsPortalFx.ViewModels.Forms.SubLabelPosition.Bottom),s.valid=ko.observable(!0),s.validate=ko.observable(0),s.visible=MsPortalFx.initObservable(r.visible,!0),s._msPortalFxClearValidation=ko.observable(),s._msPortalFxLeftLabelWidth=ko.observable(),s._msPortalFxRequired=ko.observable(),s._msPortalFxTriggerValidation=ko.observable(),s._msPortalFxOldControl=a,n.monitorObservable(l,s.htmlTemplate,(function(e){if(!(0,o.isNullOrUndefined)(e)&&"string"!=typeof e)throw new i.FxError({message:"htmlTemplate value must be a string.",data:{htmlTemplate:e}})})),s}return __extends(t,e),t.prototype.clearValidation=function(){var e=this._msPortalFxClearValidation();return e?e():Promise.resolve()},t.prototype.triggerValidation=function(){return(0,r.triggerValidation)({vm:this,ltm:this.lifetimeManager,msPortalFxTriggerValidation:this._msPortalFxTriggerValidation})},t}(n.ViewModel);t.ViewModel=a})),
define("Fx/Controls/CustomHtml",["require","exports","FxInternal/Controls/CustomHtml"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t,!1)})),r}})),
define("FxInternal/Controls/Section",["require","exports","FxInternal/Controls/Base/Base","FxInternal/Utils/ValidationHelper"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0,t.create=function(e,t){var n;return ko.ignoreDependencies((function(){n=new i(e,t)})),n};var o=MsPortalFx.ViewModels.Forms.LabelPosition,i=function(e){function t(t,n){var r=e.call(this,t,__assign(__assign({},n),{telemetryName:MsPortalFx.initObservable(n&&n.telemetryName,"")}))||this;return r.active=ko.observable(!1),r.children=ko.observableArray(),r.dirty=ko.observable(!1),r.valid=ko.observable(!0),r.required=ko.observable(!1),r.validate=null,r.tabSection=ko.observable(),r.tabHasBeenLoaded=ko.observable(!1),r.tabStyle=0,n=n||{},r.controlType=15,r.smartAlignLabel=n.smartAlignLabel,r.children=MsPortalFx.initObservableArray(n.children,[]),r.cssClass=MsPortalFx.initObservable(n.cssClass,""),r.disabled=MsPortalFx.initObservable(n.disabled,!1),r.leftLabelPosition=n.smartAlignLabel?ko.observable(!1):MsPortalFx.initObservable(n.leftLabelPosition,!1),r.leftLabelWidth=n.smartAlignLabel?ko.observable(void 0):MsPortalFx.initObservable(n.leftLabelWidth),r.minHeight=n.minHeight,r.name=MsPortalFx.initObservable(n.name),r.style=MsPortalFx.initObservable(n.style,1),r.visible=MsPortalFx.initObservable(n.visible,!0),r.disableStyles=n.disableStyles,r.telemetrySource=n.telemetrySource,r.width=MsPortalFx.initObservable(n.width),r.populateSection=MsPortalFx.initObservable(n.populateSection),r.submit=MsPortalFx.initObservable(n.submit),r.smartAlignLabel||ko.computed(t,[r.children,r.leftLabelPosition,r.leftLabelWidth],(function(){var e=arguments[0],t=arguments[2],n=arguments[1]&&!t;e.forEach((function(e){e&&ko.isObservable(e.labelPosition)&&e.labelPosition(n?o.Left:o.Top)})),t&&e.forEach((function(e){e._msPortalFxLeftLabelWidth&&e._msPortalFxLeftLabelWidth(t)}))})),4===r.style()&&(r._msPortalFxSetFocusOnTab=ko.observable(void 0)),ko.computed(t,(function(){var e=r.children(),t=e.some((function(e){var t=ko.unwrap(e);return!(!(t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)))||!t.dirty)&&t.dirty()})),n=e.some((function(e){var t=ko.unwrap(e),n=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)),r=!1;return t&&t.validationResults&&t.validationResults().forEach((function(e){if(1===e.state)return r=!1;3===e.state&&(r=!0)})),(!n||!r)&&(!(!n||!t.valid)&&!t.valid())})),o=r.children().some((function(e){var t=ko.unwrap(e),n=t&&(MsPortalFx.isNullOrUndefined(t.visible)||ko.unwrap(t.visible)),r=t&&(t._msPortalFxRequired&&t._msPortalFxRequired()||t.required&&ko.unwrap(t.required));return n&&r}));r.dirty(t),r.required(o),r.valid(!n)})),r}return __extends(t,e),t.prototype.clearValidation=function(){return Promise.all(this.children().map((function(e){return(null==e?void 0:e.clearValidation)?e.clearValidation():Promise.resolve()})))},t.prototype.triggerValidation=function(){if(ko.unwrap(this.visible)){(0,r.tryOnTriggerValidation)(this);var e=this.children().filter((function(e){return"function"==typeof(null==e?void 0:e.triggerValidation)})).map((function(e){return e.triggerValidation()}));return Promise.all(e).then((function(e){return e.every(MsPortalFx.identity)}))}return Promise.resolve(!0)},t}(n.ViewModel);t.ViewModel=i})),
define("Fx/Controls/Section",["require","exports","FxInternal/Controls/Section"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var r;return ko.ignoreDependencies((function(){r=new n.ViewModel(e,t)})),r}})),
define("FxInternal/Controls/FileDownload",["require","exports"],(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadType=t.downloadBlobUri=void 0,t.create=function(e,n,r){r=r||{};var o=!!MsPortalFx.isInWebWorker,i=null,a=null;"function"==typeof r.downloadContext?a=r.downloadContext:i=r.downloadContext;return{controlType:82,vmKind:"Fx",downloadType:n,label:MsPortalFx.initObservable(r.label,""),toolTip:MsPortalFx.initObservable(r.toolTip,""),ariaLabel:MsPortalFx.initObservable(r.ariaLabel,""),disabled:MsPortalFx.initObservable(r.disabled,!1),asLink:1===r.displayStyle,downloadContext:i,downloadContextCallback:a,errorTitle:MsPortalFx.initObservable(r.errorTitle,null),errorMessage:MsPortalFx.initObservable(r.errorMessage,""),downloadDialogOptions:MsPortalFx.initObservable(r.downloadDialogOptions,null),disableNotifications:MsPortalFx.initValue(r.disableNotifications,!1),onStart:MsPortalFx.initValue(r.onStart,null),onComplete:MsPortalFx.initValue(r.onComplete,null),downloadStatus:ko.observable(null),extensionisInWebWorker:o,onBlobUriDownload:function(e,n){return(0,t.downloadBlobUri)(e,n)},dispose:function(){return!0}}},t.downloadBlobUri=function(e,t){var n=Promise.withResolvers(),r=FxImpl.createElement("a");return r.style.display="none",r.href=e,r.download=t,document.body.appendChild(r),r.click(),$(r).remove(),n.resolve(),n.promise},function(e){e[e.OAuth=0]="OAuth",e[e.SasLike=1]="SasLike",e[e.BlobUri=2]="BlobUri",e[e.DataUri=3]="DataUri"}(n||(t.DownloadType=n={}))})),
define("FxInternal/Controls/Toolbar",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PdlCommandGroup=t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t)||this;return r.controlType=62,r.disabled=MsPortalFx.initObservable(n.disabled),r.items=MsPortalFx.initObservable(n.items,[]),r.loading=ko.observable(!1),r.showLabels=MsPortalFx.initObservable(n.showLabels),r.smallItemSize=ko.observable(!1),r}return __extends(t,e),t.prototype.setItems=function(e){this.items(e)},t}(n.ViewModel);t.ViewModel=r;var o=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,13)||this;return n.commandGroup=t.commandGroup,n.commandGroupOwner=t.commandGroupOwner,n.viewModel=t.viewModel,n}return __extends(t,e),t}(MsPortalFx.ViewModels.Toolbars.ToolbarItem);t.PdlCommandGroup=o})),
define("FxInternal/Controls/ToolbarItems/BaseButton",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseButton=void 0;var n=function(e,t){var n=this;this.ariaLabel=MsPortalFx.initObservable(t.ariaLabel),this.icon=MsPortalFx.initObservable(t.icon),this.disabledMessage=MsPortalFx.initObservable(t.disabledMessage),this.label=MsPortalFx.initObservable(t.label),this.tooltip=MsPortalFx.initObservable(t.tooltip),this.cssClass=MsPortalFx.initObservable(t.cssClass),this.telemetryName=t.telemetryName;var r=t.name||t.telemetryName;this.name=r,this.telemetryName=r,this.unauthorizedMessage=MsPortalFx.initObservable(t.unauthorizedMessage);var o=MsPortalFx.initObservable(t.disabled);this.disabled=ko.computed(e,{read:function(){var e=o();return!!e&&("string"==typeof e?e:n.disabledMessage()||!0)},write:function(e){o(e)}})};t.BaseButton=n})),
define("FxInternal/Controls/ToolbarItems/BasicButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BasicButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return"function"==typeof n.onClick?r.type=14:r.type=15,r.onClick=n.onClick,r}return __extends(t,e),t}(n.BaseButton);t.BasicButton=r})),
define("FxInternal/Controls/ToolbarItems/ClipboardCopyButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardCopyButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.onClick=n.onClick,r.type=20,r.statusText=MsPortalFx.initObservable(""),r.statusBalloonVisible=MsPortalFx.initObservable(!1),r}return __extends(t,e),t}(n.BaseButton);t.ClipboardCopyButton=r})),
define("FxInternal/Controls/ToolbarItems/ClipboardPasteButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardPasteButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.onClick=n.onClick,r.type=21,r.statusText=MsPortalFx.initObservable(""),r.statusBalloonVisible=MsPortalFx.initObservable(!1),r}return __extends(t,e),t}(n.BaseButton);t.ClipboardPasteButton=r})),
define("FxInternal/Controls/ToolbarItems/FileDownloadButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton","FxInternal/Controls/FileDownload"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FileDownloadButton=void 0;var o=function(e){function t(t,n,o){var i=e.call(this,t,o)||this;return i.vmKind="Fx",i.asLink=!1,i.controlType=null,i.type=16,i.downloadType=n,"function"==typeof o.downloadContext?i.downloadContextCallback=o.downloadContext:i.downloadContext=o.downloadContext,i.extensionisInWebWorker=!!MsPortalFx.isInWebWorker,i.tooltip=i.toolTip=MsPortalFx.initObservable(o.tooltip),i.errorTitle=MsPortalFx.initObservable(o.errorTitle),i.errorMessage=MsPortalFx.initObservable(o.errorMessage),i.downloadStatus=ko.observable(),i.onStart=o.onStart,i.onComplete=o.onComplete,i.onBlobUriDownload=r.downloadBlobUri,i.downloadDialogOptions=MsPortalFx.initObservable(o.downloadDialogOptions),i.disableNotifications=MsPortalFx.initValue(o.disableNotifications,!1),i}return __extends(t,e),t.prototype.dispose=function(){},t}(n.BaseButton);t.FileDownloadButton=o})),
define("FxInternal/Controls/ToolbarItems/FileUploadButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=18,r.accept=MsPortalFx.initObservable(n.accept),r.allowedFileExtensions=MsPortalFx.initObservable(n.allowedFileExtensions),r.maxFiles=n.maxFiles||1,r.uploadContext=MsPortalFx.initObservable(n.uploadContext),r.uploadTasks=ko.observableArray(),r._msPortalFxUploadActionCallback=ko.observable(null),ko.unwrap(r.icon)||r.icon(MsPortalFx.Base.Images.Upload()),r}return __extends(t,e),t.prototype.resetUploadTasks=function(){var e=this._msPortalFxUploadActionCallback();return e?e():Promise.resolve()},t}(n.BaseButton);t.ViewModel=r})),
define("FxInternal/Controls/ToolbarItems/MenuButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MenuButton=void 0;var r=function(e){function t(t,n){var r=this;return n=n||{},(r=e.call(this,t,n)||this).type=17,r.menuId=MsPortalFx.getUniqueId(),r.buttons=MsPortalFx.initObservable(n.buttons,[]),r.isOverflowButton=MsPortalFx.initValue(n.isOverflowButton,!1),r.popupWidth=MsPortalFx.initObservable(n.popupWidth,0),r.popupWidthString=ko.computed(t,(function(){return r.popupWidth()>0?"{0}px".format(r.popupWidth()):"auto"})),r}return __extends(t,e),t}(n.BaseButton);t.MenuButton=r})),
define("FxInternal/Controls/ToolbarItems/MenuItemCustomButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemCustomButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=22,r.onClick=n.onClick,r.content=MsPortalFx.initObservable(n.content),r}return __extends(t,e),t}(n.BaseButton);t.MenuItemCustomButton=r})),
define("FxInternal/Controls/ToolbarItems/MoveResourceButton",["require","exports","FxInternal/Controls/ToolbarItems/MenuButton","FxInternal/Controls/ToolbarItems/BasicButton","Fx/Composition/Selectable","Fx/ResourceManagement"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.MoveResourceButton=void 0;var a=MsPortalFx.Resources.Strings.Toolbar.MoveButton,s=MsPortalFx.isFeatureEnabled("enableregionmove"),l=MsPortalFx.isFeatureEnabled("enablezonalmove"),u={"microsoft.network/virtualnetworks":!0,"microsoft.compute/virtualmachines":!0,"microsoft.network/networkinterfaces":!0,"microsoft.network/networksecuritygroups":!0,"microsoft.network/loadbalancers":!0,"microsoft.network/publicipaddresses":!0,"microsoft.compute/availabilitysets":!0},c={"microsoft.compute/virtualmachines":!0};function d(e,t){var n={label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.tooltip,onClick:function(){var n;if(t.selectedResourceIds&&t.selectedResourceIds()&&t.selectedResourceIds().length){var r=t.selectedResourceIds().map((function(e){return e.resourceId}));n=MsPortalFx.extend2(t.parameters,{resourceIds:r}),t.label===a.region&&(n=MsPortalFx.extend2(n,{sourceRegion:t.selectedResourceIds()[0].sourceRegion}))}var i=new o.PdlBladeReference(t.bladeName,t.extensionName,{parameters:n||t.parameters});e.openBlade(i)},disabled:t.disabled,disabledMessage:t.disabledMessage};return new r.BasicButton(e,n)}var p=function(e){function t(t,n){var r=e.call(this,t,{disabled:n.disabled})||this,o=i.ArmId.parse(n.resourceId,!0),p=o.subscription,f=o.resourceType.toLowerCase(),m=[],h=MsPortalFx.initObservableArray(n.selectedResourceIds),v=MsPortalFx.initObservable(n.disabledMessage),g="MoveResources.ReactView",y="Microsoft_Azure_Resources";return m.push(d(t,{label:a.resourcegroup,icon:MsPortalFx.Base.Images.MoveAcrossResourceGroups(),ariaLabel:a.resourcegroup,tooltip:a.resourcegroup,parameters:{resourceId:n.resourceId,moveType:1},bladeName:g,extensionName:y,selectedResourceIds:h})),m.push(d(t,{label:a.subscription,icon:MsPortalFx.Base.Images.MoveAcrossSubscriptions(),ariaLabel:a.subscription,tooltip:a.subscription,parameters:{resourceId:n.resourceId,moveType:0},bladeName:g,extensionName:y,selectedResourceIds:h})),(s&&u[f]||n.enableRegionMove)&&m.push(d(t,{label:a.region,icon:MsPortalFx.Base.Images.MoveAcrossRegions(),ariaLabel:a.region,tooltip:a.region,parameters:{subscriptionId:p,resourceIds:[n.resourceId]},bladeName:"RmAddResourceWizardBlade",extensionName:"Microsoft_Azure_ResourceMove",disabled:ko.pureComputed((function(){if(h().length){var e=h()[0].sourceRegion.toLowerCase();return h().some((function(t){return t.sourceRegion.toLowerCase()!==e}))}return"microsoft.resources/subscriptions/resourcegroups"===f})),disabledMessage:a.regionDisabledMessage,selectedResourceIds:h})),(l&&c[f]||n.enableZonalMove)&&m.push(d(t,{label:a.zone,icon:MsPortalFx.Base.Images.MoveAcrossRegions(),ariaLabel:a.zone,tooltip:a.zone,parameters:{resourceIds:[n.resourceId]},bladeName:"ZonalMoveWizardBlade",extensionName:"Microsoft_Azure_ResourceMove",disabled:ko.pureComputed((function(){return h().length?h().some((function(e){var t,n=null===(t=i.ArmId.parse(e.resourceId,!0))||void 0===t?void 0:t.resourceType,r=h()[0].sourceRegion.toLowerCase();return!c[null==n?void 0:n.toLowerCase()]||h().some((function(e){return e.sourceRegion.toLowerCase()!==r}))})):"microsoft.resources/subscriptions/resourcegroups"===f})),disabledMessage:a.zonalMoveDisabledMessage,selectedResourceIds:h})),r.buttons(m),r.label(a.title),r.icon(MsPortalFx.Base.Images.ArrowRight()),r.disabledMessage(v()),r}return __extends(t,e),t}(n.MenuButton);t.MoveResourceButton=p})),
define("FxInternal/Controls/ToolbarItems/OAuthButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OAuthButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=9,r.requestUrl=MsPortalFx.initObservable(n.requestUrl),r.popupHeight=MsPortalFx.initObservable(n.popupHeight),r.popupWidth=MsPortalFx.initObservable(n.popupWidth),r.value=ko.observable(),r}return __extends(t,e),t}(n.BaseButton);t.OAuthButton=r})),
define("FxInternal/Controls/ToolbarItems/ToggleButton",["require","exports","FxInternal/Controls/ToolbarItems/BaseButton"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleButton=void 0;var r=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type=6,r.checked=MsPortalFx.initObservable(n.checked,!1),r.optionGroupName=n.optionGroupName,r.ariaLabelId=MsPortalFx.getUniqueId(),r.command={canExecute:ko.observable(!0),execute:function(e){return Promise.resolve(n.onToggled(e.checked))}},r}return __extends(t,e),t}(n.BaseButton);t.ToggleButton=r})),
define("Fx/Controls/Toolbar",["require","exports","FxInternal/Controls/ToolbarItems/BasicButton","Fx/Composition","FxInternal/Controls/ToolbarItems/ToggleButton","FxInternal/Controls/ToolbarItems/MoveResourceButton","FxInternal/Controls/ToolbarItems/OAuthButton","FxInternal/Controls/ToolbarItems/FileDownloadButton","FxInternal/Controls/ToolbarItems/ClipboardCopyButton","FxInternal/Controls/ToolbarItems/ClipboardPasteButton","FxInternal/Controls/Toolbar","FxInternal/Controls/FileDownload","FxInternal/Controls/ToolbarItems/FileUploadButton","FxInternal/Controls/ToolbarItems/MenuButton","FxInternal/Controls/ToolbarItems/MenuItemCustomButton"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,m){var h;Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarItems=void 0,t.create=function(e,t){var n;return ko.ignoreDependencies((function(){n=new c.ViewModel(e,t)})),n},function(e){function t(e,t){var r;return ko.ignoreDependencies((function(){r=new n.BasicButton(e,t)})),r}function c(e,t){var n;return ko.ignoreDependencies((function(){n=new p.ViewModel(e,t)})),n}e.createBasicButton=t,e.createToggleButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new o.ToggleButton(e,t)})),n},e.createOAuthButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new a.OAuthButton(e,t||{})})),n},e.createMoveResourceButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new i.MoveResourceButton(e,t)})),n},e.createDataUriFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.DataUri,t)})),n},e.createSasLikeFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.SasLike,t)})),n},e.createOAuthFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.OAuth,t)})),n},e.createBlobUriFileDownloadButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new s.FileDownloadButton(e,d.DownloadType.BlobUri,t)})),n},e.createStreamUploadButton=function(e,t){return c(e,t)},e.createBlobStoreUploadButton=function(e,t){return c(e,t)},e.createMenuItemCustomButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new m.MenuItemCustomButton(e,t)})),n},e.createMenuButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new f.MenuButton(e,t)})),n},e.createSeparator=function(){return{type:12}},e.createFeedbackButton=function(e,n){var o=MsPortalFx.Resources.Strings.Toolbar.FeedbackButton.title;return t(e,{label:o,icon:MsPortalFx.Base.Images.Feedback(),onClick:new r.ClickableLink("#menu/feedback","_self","",n.onButtonClicked,n.telemetryName),tooltip:o})},e.createCopyButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new l.ClipboardCopyButton(e,t)})),n},e.createPasteButton=function(e,t){var n;return ko.ignoreDependencies((function(){n=new u.ClipboardPasteButton(e,t)})),n}}(h||(t.ToolbarItems=h={}))})),
define("Fx/Cryptography",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Internal=void 0,t.getHmacSha256=function(e){if(!(e&&e.key&&e.stringToHash))throw new Error("Incomplete options passed to getHmacSha256.");return n.getHmacSha256(e,o.client)},t.getHmacSha256UsingCryptoApi=s;var n,r=MsPortalFx.Base,o=FxImpl.Rpc;!function(e){e.getHmacSha256EndPoint=new o.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.getHmacSha256),e.getHmacSha256=function(t,n){return window.crypto||window.msCrypto?s(t.key,t.stringToHash):e.getHmacSha256EndPoint.invoke(n||o.client,r.Constants.Shell,t)}}(n||(t.Internal=n={}));var i=function(e,t){for(var n=t?window.atob(e):e,r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);return o},a=function(e){for(var t="",n=new Uint8Array(e),r=0;r<n.length;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)};function s(e,t){var n={name:"HMAC",hash:{name:"SHA-256"}};return crypto.subtle.importKey("raw",i(e,!0),n,!1,["sign"]).then((function(e){var r=unescape(encodeURIComponent(t));return crypto.subtle.sign(n,e,i(r)).then((function(e){return a(e)}))}))}})),
define("FxInternal/Experimentation",["require","exports","Fx/DependencyInjectionCore","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationManager=t.ExperimentationProvider=void 0;var o="Fx/Experimentation",i="complete",a="cancel",s=/^\w[\w-]*$/;function l(e,t){return t?Promise.race([e,new Promise((function(e,n){return setTimeout((function(){return e()}),t)}))]):e}var u=function(){function e(e){this.isAvailable=!1,this.data={assignmentContext:"",flights:[],variables:Object.create(null)},this._whenAvailable=Promise.withResolvers(),this._getValueMemoizeMap=new Map,this._hasFlightMemoizeMap=new Map,this._trace=e.trace||function(){},this._traceFirstAccess=e.traceFirstAccess,this._waitTimeout=e.waitTimeout}return e.prototype._startTelemetry=function(){!this._traceFirstAccess||this._firstAccessTraced||this.isAvailable||this._timer||(this._timer=(0,r.startTimer)())},e.prototype.markTelemetry=function(){var e,t=this,n=this.isAvailable;if(this._traceFirstAccess&&this._firstAccessTraced!==n){var r=(null===(e=this._timer)||void 0===e?void 0:e.call(this))||0,s=n?0===r?"Experimentation-FlightsAlreadyAvailable":"Experimentation-ExtensionWaitedForFlights":"Experimentation-ExtensionTimeout",l={assignmentContext:this.data.assignmentContext};n&&(this._hasFlightMemoizeMap.size||this._getValueMemoizeMap.size)&&(this.data.flights.filter((function(e){return t._hasFlightMemoizeMap.has(e)})).length||Object.keys(this.data.variables).filter((function(e){return t._getValueMemoizeMap.has(e)})).length)&&(l={assignmentContext:""}),this._firstAccessTraced=n,this._trace({source:o,action:s,actionModifier:n?i:a,duration:r,data:l})}},e.prototype.whenAvailable=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return this._startTelemetry(),this.isAvailable?[3,2]:[4,l(this._whenAvailable.promise,null!=e?e:this._waitTimeout)];case 1:t.sent(),t.label=2;case 2:return[2,this]}}))}))},e.prototype.hasFlight=function(e){this.markTelemetry();var t=e.toLowerCase(),n=this._hasFlightMemoizeMap;if(n.has(t))return n.get(t);var r=this.isAvailable,s=r&&!!~this.data.flights.indexOf(t);return n.set(t,s),this._trace({source:o,action:"HasFlight",actionModifier:r?i:a,name:t,data:s}),s},e.prototype.getStringValue=function(e,t){return this._getValue(e,t,(function(e){return String(e)}))},e.prototype.getNumberValue=function(e,t){return this._getValue(e,t,(function(e){var t=parseFloat(e);return isNaN(t)?null:t}))},e.prototype.getBooleanValue=function(e,t){return this._getValue(e,t,(function(e){return"boolean"==typeof e?e:"string"==typeof e?4===e.length&&"true"===e.toLowerCase():null}))},e.prototype._getValue=function(e,t,n){var s;this.markTelemetry();var l=function(e,t){return(e=(e||"").toLowerCase()).startsWith("azureportal_")||(e=(t=(null==t?void 0:t.toLowerCase())||"azureportal")+"_"+e),e}(e,t),u=this._getValueMemoizeMap,c=function(e){return(0,r.isNullOrUndefined)(e)?e:n(e)};if(u.has(l))return c(u.get(l));var d=null===(s=this.data.variables)||void 0===s?void 0:s[l],p=c(d),f=this.isAvailable;return u.set(l,d),f&&(0,r.isNullOrUndefined)(d)||this._trace({source:o,action:"GetValue",actionModifier:f?i:a,name:l,data:{value:p}}),p},e.prototype.__setAssignments=function(e,t){this.data=this._normalizeAssignments(e,t),this.isAvailable=!0,this._whenAvailable.resolve()},e.prototype._normalizeAssignments=function(e,t){var n=(t.flightsFeature||"").toLowerCase().split(";").filter((function(e){return s.test(e)})),o=(null==t?void 0:t.fromQuery)||{},i=Object.keys(o).filter((function(e){return e.startsWith("exp.")})).reduce((function(e,t){var n;return e[(n=t.substring(4),(n=n.toLowerCase()).includes("_")||(n="azureportal_"+n),n)]=o[t],e}),Object.create(null));e=e||{};var a=(0,r.union)(e.flights||[],n).sort(),l=Object.create(null);return(0,r.forEachKey)(e.variables||{},(function(e,t){l[e.toLowerCase()]=t})),(0,r.extend)(l,i),{flights:a,assignmentContext:!n.length&&!Object.keys(i).length&&e.assignmentContext||"",variables:l}},e}();t.ExperimentationProvider=u;var c=function(){function t(e){var t=this;this._trace=e.trace,this._onVariantsAssigned=e.onVariantsAssigned;var n=e.frameContext||0,o=0===n?300:1e4,i=e.features;this._queryStringAssignments={flightsFeature:i.getValue("experimentationflights"),fromQuery:i.shellFeatures.fromQuery};var a=e.shellVariants,s=this.shellAssignments=new u({trace:this._trace,traceFirstAccess:1===n,waitTimeout:o});FxImpl.getShellAssignments=function(){return s},this.extensionAssignments=new u({trace:this._trace,traceFirstAccess:0===n,waitTimeout:o}),this._mergedVariants=new u({trace:this._trace,waitTimeout:o});var l=function(e){s.__setAssignments(e,t._queryStringAssignments),0!==n&&t.setExtensionFlights(e)};i.isEnabled("experimentation")?(0,r.isPromiseLike)(a)?a.then((function(e){return l(e)})):l(a):(l(null),this.setExtensionFlights(null))}return t.prototype.getExtensionFlights=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.getAssignments()];case 1:return e=t.sent(),[2,{has:function(t){return e.hasFlight(t)},getAll:function(){var t;return null!==(t=e.isAvailable&&e.data.flights)&&void 0!==t?t:[]}}]}}))}))},t.prototype.getAssignments=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,n,o,i,a,s;return __generator(this,(function(l){switch(l.label){case 0:return(e=this._mergedVariants).isAvailable?[3,3]:(t=this.shellAssignments,n=this.extensionAssignments,t.isAvailable&&n.isAvailable?[3,2]:(void 0===this._mergedVariantsWhenAvailable&&(this._mergedVariantsWhenAvailable=Promise.all([t.whenAvailable(),n.whenAvailable()])),[4,this._mergedVariantsWhenAvailable]));case 1:l.sent(),l.label=2;case 2:e.isAvailable||(n.markTelemetry(),o=t.data,i=n.data,a=t.isAvailable&&n.isAvailable,s={assignmentContext:a?(o.assignmentContext||"")+(i.assignmentContext||""):"",flights:(0,r.union)(o.flights,i.flights).sort(),variables:__assign(__assign({},o.variables),i.variables)},e.__setAssignments(s,{fromQuery:{}})),l.label=3;case 3:return[2,e]}}))}))},t.prototype.setExtensionFlights=function(e){var t,n=this.extensionAssignments;return n.isAvailable||(n.__setAssignments(e,this._queryStringAssignments),null===(t=this._onVariantsAssigned)||void 0===t||t.call(this,n.data)),__assign({},n.data)},t=__decorate([__metadata("fx:diagnostics",[e,"ExperimentationManager"]),n.Value(),__metadata("design:paramtypes",[Object])],t)}();t.ExperimentationManager=c})),
define("Fx/Experimentation",["require","exports","Fx/DependencyInjectionCore","FxInternal/Experimentation"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Experimentation=void 0;var o=function(){function t(){}return t.create=function(e){return e.get(r.ExperimentationManager)},__decorate([__metadata("fx:diagnostics",[e,"Experimentation"]),n.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[n.Container]),__metadata("design:returntype",t)],t,"create",null),t}();t.Experimentation=o})),
define("Fx/Feedback",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Internal=void 0,t.showNps=function(e){n.showNpsEndpoint.invoke(o.client,a,e)},t.canShowNps=function(){return n.canShowNpsEndpoint.invoke(o.client,a,null)};var n,r=MsPortalFx.Base,o=FxImpl.Rpc,i=FxImpl.Constants.RpcMethods;!function(e){e.showNpsEndpoint=new o.FuncEndPointDefinition(i.showNps),e.canShowNpsEndpoint=new o.FuncEndPointDefinition(i.canShowNps)}(n||(t.Internal=n={}));var a=r.Constants.Shell})),
define("Fx/Lifetime",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("FxInternal/AsyncLoaderCore",["require","exports","FxInternal","FxInternal/Rpc"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.get=i,t.defineHandler=function(e,t){return t},t.registerRpc=function(e,t,o){o=o||e.get(r.Client),(0,n.forEachKey)(t,(function(t,r){(0,n.forEachKey)(r,(function(n,r){r(e,o,t,n)}))}))},t.makeRegistration=function(e,t){return function(r,o,a,s){return e.register(o,t,(function(e,t){return(0,n.tryImmediateResolve)(i(a,s),(function(n){return n({diContainer:r,messageArg:e,messageContext:t})}))})),null}};var o=window;function i(e,t){return Q((0,n.tryImmediateResolve)((r=e,Q.promise((function(e,t){o.requirejs([r],e,t)}))),(function(e){return e[t]})));var r}})),
define("FxInternal/AsyncLoader",["require","exports","FxInternal/AsyncLoaderCore","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.makeRegistration=t.defineProxyHandler=t.defineHandler=t.get=void 0,t.getFactory=function(e,n){return function(){return(0,t.get)(e,n)}},t.registerRpc=function(e,t){(0,n.registerRpc)(e,t,e.get(FxImpl.Rpc.Client))},t.makeProxyRegistration=function(e,n,o){return function(i,a,s,l){return e.registerObjectFactory(a,{allowedOrigin:n,allowRemoteChanges:o,handler:function(e,n,o){return r.tryImmediateResolve((0,t.get)(s,l),(function(t){return t({diContainer:i,messageArg:e,messageContext:n,messageLifetime:o})}))}}),null}},t.get=n.get,t.defineHandler=n.defineHandler;t.defineProxyHandler=function(e,t){return t},t.makeRegistration=n.makeRegistration})),
define("FxInternal/Copilot/EntraShellAPIs",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.entraShellApisGetCopilotViewNudgesAllowedEndpoint=t.entraShellApisGetCopilotViewNudgesEndpoint=t.entraShellApisNudgeWithSourceEndpoint=t.entraShellApisClosePickerBladeEndpoint=t.entraShellApisCollectFXContextsEndpoint=t.entraShellApisMenuButtonFocusEndpoint=t.entraShellApisGetBladeViewModelsHandlerEndpoint=t.entraShellApisInvokeReactViewHandlerEndpoint=t.getActiveReactViewsForEntraManagerEndpoint=t.getReactViewPortForEntraManagerEndpoint=t.pushReactViewPortToEntraManagerEndpoint=t.entraShellApisBladeWasClosedEndpoint=t.entraShellApisExecuteBladeHandlerEndpoint=t.entraShellApisExecuteShellHandlerEndpoint=t.entraShellApisGetShellHandlerDefinitionsEndpoint=t.entraShellApisSetBladeDetailsEndpoint=t.entraShellApisLogErrorToExtensionEndpoint=t.entraShellApisOpenBladeEndpoint=t.entraShellApisGetBladeDeepLinkEndpoint=t.entraShellApisGetRecentBladeEndpoint=t.entraShellApisGetCurrentBladeInfoEndpoint=t.entraShellApisGetExtensionVersionEndpoint=t.entraShellApisGetManifestCacheUriEndpoint=t.entraShellApisGetManifestCacheEndpoint=t.entraShellApisGetDirectLineTokenEndpoint=void 0,t.entraShellApisGetDirectLineTokenEndpoint=new n.FuncEndPointDefinition("entraShellApisGetDirectLineToken"),t.entraShellApisGetManifestCacheEndpoint=new n.FuncEndPointDefinition("entraShellApisGetManifestCache"),t.entraShellApisGetManifestCacheUriEndpoint=new n.FuncEndPointDefinition("entraShellApisGetManifestCacheUri"),t.entraShellApisGetExtensionVersionEndpoint=new n.FuncEndPointDefinition("entraShellApisGetExtensionVersion"),t.entraShellApisGetCurrentBladeInfoEndpoint=new n.FuncEndPointDefinition("entraShellApisGetCurrentBladeInfo"),t.entraShellApisGetRecentBladeEndpoint=new n.FuncEndPointDefinition("entraShellApisGetRecentBlade"),t.entraShellApisGetBladeDeepLinkEndpoint=new n.FuncEndPointDefinition("entraShellApisGetBladeDeepLink"),t.entraShellApisOpenBladeEndpoint=new n.FuncEndPointDefinition("entraShellApisOpenBlade"),t.entraShellApisLogErrorToExtensionEndpoint=new n.ActionEndPointDefinition("entraShellApisLogErrorToExtension"),t.entraShellApisSetBladeDetailsEndpoint=new n.ActionEndPointDefinition("entraShellApisSetBladeDetails"),t.entraShellApisGetShellHandlerDefinitionsEndpoint=new n.FuncEndPointDefinition("entraShellApisGetShellHandlerDefinitions"),t.entraShellApisExecuteShellHandlerEndpoint=new n.FuncEndPointDefinition("entraShellApisExecuteShellHandler"),t.entraShellApisExecuteBladeHandlerEndpoint=new n.FuncEndPointDefinition("entraShellApisExecuteBladeHandler"),t.entraShellApisBladeWasClosedEndpoint=new n.ActionEndPointDefinition("entraShellApisBladeWasClosed"),t.pushReactViewPortToEntraManagerEndpoint=new n.ActionEndPointDefinition("pushReactViewPortToEntraManager"),t.getReactViewPortForEntraManagerEndpoint=new n.FuncEndPointDefinition("getReactViewPortForEntraManager"),t.getActiveReactViewsForEntraManagerEndpoint=new n.FuncEndPointDefinition("getActiveReactViewsForEntraManager"),t.entraShellApisInvokeReactViewHandlerEndpoint=new n.FuncEndPointDefinition("entraShellApisInvokeReactViewHandler"),t.entraShellApisGetBladeViewModelsHandlerEndpoint=new FxImpl.Rpc.ProxiedObjectTypeDefinition("entraShellApisGetBladeViewModelsHandler"),t.entraShellApisMenuButtonFocusEndpoint=new n.ActionEndPointDefinition("entraShellApisMenuButtonFocus"),t.entraShellApisCollectFXContextsEndpoint=new n.FuncEndPointDefinition("entraShellApisCollectFXContexts"),t.entraShellApisClosePickerBladeEndpoint=new n.ActionEndPointDefinition("entraShellApisClosePickerBlade"),t.entraShellApisNudgeWithSourceEndpoint=new n.FuncEndPointDefinition("copilotNudgeWithSource"),t.entraShellApisGetCopilotViewNudgesEndpoint=new n.FuncEndPointDefinition("getCopilotViewNudges"),t.entraShellApisGetCopilotViewNudgesAllowedEndpoint=new n.FuncEndPointDefinition("getCopilotViewNudgesAllowed")})),
define("FxInternal/Copilot/ShellAPIs",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.azureShellApisGetViewNudgesEndpoint=t.azureShellApisNudgeWithSourceEndpoint=t.azureShellApisToggleCopilotSizeEndpoint=t.azureShellApisGetBrowserTabIdEndpoint=t.azureShellApisCloseCopilotPickerBladeEndpoint=t.azureShellApisCollectFXContextsEndpoint=t.azureShellApisMenuButtonFocusEndpoint=t.azureShellApisGetBladeViewModelsHandlerEndpoint=t.azureShellApisInvokeReactViewHandlerEndpoint=t.getActiveReactViewsForCopilotManagerEndpoint=t.getReactViewPortForCopilotManagerEndpoint=t.pushReactViewPortToCopilotManagerEndpoint=t.azureShellApisBladeWasClosedEndpoint=t.azureShellApisExecuteBladeHandlerEndpoint=t.azureShellApisExecuteShellHandlerEndpoint=t.azureShellApisGetShellHandlerDefinitionsEndpoint=t.azureShellApisSetBladeDetailsEndpoint=t.azureShellApisLogErrorToExtensionEndpoint=t.azureShellApisOpenBladeEndpoint=t.azureShellApisGetBladeDeepLinkEndpoint=t.azureShellApisGetRecentBladeEndpoint=t.azureShellApisGetCurrentBladeInfoEndpoint=t.azureShellApisGetExtensionVersionEndpoint=t.azureShellApisGetManifestCacheUriEndpoint=t.azureShellApisGetManifestCacheEndpoint=t.azureShellApisGetDirectLineTokenEndpoint=void 0,t.azureShellApisGetDirectLineTokenEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetDirectLineToken"),t.azureShellApisGetManifestCacheEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetManifestCache"),t.azureShellApisGetManifestCacheUriEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetManifestCacheUri"),t.azureShellApisGetExtensionVersionEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetExtensionVersion"),t.azureShellApisGetCurrentBladeInfoEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetCurrentBladeInfo"),t.azureShellApisGetRecentBladeEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetRecentBlade"),t.azureShellApisGetBladeDeepLinkEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetBladeDeepLink"),t.azureShellApisOpenBladeEndpoint=new n.FuncEndPointDefinition("copilotShellApisOpenBlade"),t.azureShellApisLogErrorToExtensionEndpoint=new n.ActionEndPointDefinition("copilotShellApisLogErrorToExtension"),t.azureShellApisSetBladeDetailsEndpoint=new n.ActionEndPointDefinition("copilotShellApisSetBladeDetails"),t.azureShellApisGetShellHandlerDefinitionsEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetShellHandlerDefinitions"),t.azureShellApisExecuteShellHandlerEndpoint=new n.FuncEndPointDefinition("copilotShellApisExecuteShellHandler"),t.azureShellApisExecuteBladeHandlerEndpoint=new n.FuncEndPointDefinition("copilotShellApisExecuteBladeHandler"),t.azureShellApisBladeWasClosedEndpoint=new n.ActionEndPointDefinition("copilotBladeWasClosed"),t.pushReactViewPortToCopilotManagerEndpoint=new n.ActionEndPointDefinition("pushReactViewPortToCopilotManager"),t.getReactViewPortForCopilotManagerEndpoint=new n.FuncEndPointDefinition("getReactViewPortForCopilotManager"),t.getActiveReactViewsForCopilotManagerEndpoint=new n.FuncEndPointDefinition("getActiveReactViewsForCopilotManager"),t.azureShellApisInvokeReactViewHandlerEndpoint=new n.FuncEndPointDefinition("copilotInvokeReactViewHandler"),t.azureShellApisGetBladeViewModelsHandlerEndpoint=new FxImpl.Rpc.ProxiedObjectTypeDefinition("copilotShellApisGetBladeViewModelsHandler"),t.azureShellApisMenuButtonFocusEndpoint=new n.ActionEndPointDefinition("copilotShellApisMenuButtonFocus"),t.azureShellApisCollectFXContextsEndpoint=new n.FuncEndPointDefinition("copilotShellApisCollectFXContexts"),t.azureShellApisCloseCopilotPickerBladeEndpoint=new n.ActionEndPointDefinition("copilotShellApisCloseCopilotPickerBlade"),t.azureShellApisGetBrowserTabIdEndpoint=new n.FuncEndPointDefinition("copilotShellApisGetBrowserTabId"),t.azureShellApisToggleCopilotSizeEndpoint=new n.ActionEndPointDefinition("copilotShellApisToggleCopilotSize"),t.azureShellApisNudgeWithSourceEndpoint=new n.FuncEndPointDefinition("copilotNudgeWithSource"),t.azureShellApisGetViewNudgesEndpoint=new n.FuncEndPointDefinition("getCopilotViewNudges")})),
define("FxInternal/Environment",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Environment"]),n.Value()],t)}();t.Environment=r})),
define("FxInternal/Events",["require","exports","Fx","Fx/DependencyInjection","FxInternal/Environment"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=t.EventHandlerRegistry=void 0,t.registerEventHandler=s,t.getRegistry=function(){return r.container.get(u)};var i=Object.create(null);function a(e){return i[e]||(i[e]=Promise.withResolvers())}function s(e,t){a(e).resolve(t)}var l,u=function(){function t(e,t){var r=this;this._diContainer=e,this._eventToHandlerMap=Object.create(null),n.forEachKey(t.sdkEnv.eventHandlers||{},(function(t,o){o.forEach((function(o){r._getRecord(o).handler=function(){return n.require(t).then((function(){return e.getAsync(a(o).promise)}))},r.onEventHandlerRegistered(o,null)}))}))}return t.prototype.registerEventHandler=function(e,t){var n=this._getRecord(e);if(n.handler){if(n.handlerObj!==t)throw new Error("Cannot register event handler '".concat(e,"' because it's already registered."))}else n.handlerObj=t,n.handler=function(){return Promise.resolve(t)};this.onEventHandlerRegistered(e,null)},t.prototype.onEventHandlerRegistered=function(e,t){var n=this,r=this._getRecord(e);return t&&(r.onRegisteredCallback=t),r.onRegisteredCallback&&r.handler&&r.onRegisteredCallback().then((function(e){e(r.handler,n._diContainer)})),this},t.prototype._getRecord=function(e){return this._eventToHandlerMap[e]||(this._eventToHandlerMap[e]={})},t=__decorate([__metadata("fx:diagnostics",[e,"EventHandlerRegistry"]),r.Class(),__metadata("design:paramtypes",[r.Container,o.Environment])],t)}();t.EventHandlerRegistry=u,function(e){e.Decorator=function(e){return function(t){s(e,t)}}}(l||(t.EventHandler=l={}))})),
define("FxInternal/RpcEndPointsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getVariantAssignmentsForExtension=t.getCopilotConfigurationEndpoint=t.isCopilotEnabledEndpoint=t.getFederatedModulesRequireConfigEndpoint=t.getCopilotFxRequireConfigEndPoint=t.getPostBootEndPoint=t.getAllKeysEndPoint=t.clearEndPoint=t.removeSettingsEndPoint=t.readSettingsEndPoint=t.writeSettingEndPoint=t.getUserInfoEndPoint=t.setExtensionFlightsEndPoint=void 0,t.setExtensionFlightsEndPoint=new n.FuncEndPointDefinition("setExtensionFlights"),t.getUserInfoEndPoint=new n.FuncEndPointDefinition("getUserInfo"),t.writeSettingEndPoint=new n.FuncEndPointDefinition("writePersistentSetting"),t.readSettingsEndPoint=new n.FuncEndPointDefinition("readPersistentSettings"),t.removeSettingsEndPoint=new n.FuncEndPointDefinition("removePersistentSettings"),t.clearEndPoint=new n.FuncEndPointDefinition("clearPersistentStorage"),t.getAllKeysEndPoint=new n.FuncEndPointDefinition("getAllPersistentSettingsKeys"),t.getPostBootEndPoint=new n.FuncEndPointDefinition("getPostBoot"),t.getCopilotFxRequireConfigEndPoint=new n.FuncEndPointDefinition("getCopilotFxRequireConfig"),t.getFederatedModulesRequireConfigEndpoint=new n.FuncEndPointDefinition("getFederatedModulesRequireConfig"),t.isCopilotEnabledEndpoint=new n.FuncEndPointDefinition("isCopilotEnabled"),t.getCopilotConfigurationEndpoint=new n.FuncEndPointDefinition("getCopilotConfiguration"),t.getVariantAssignmentsForExtension=new n.FuncEndPointDefinition("getVariantAssignmentsForExtension")})),
define("FxInternal/RpcEndPoints",["require","exports","FxInternal/AsyncLoader","FxInternal/Events","FxInternal/Rpc","FxInternal/Copilot/ShellAPIs","FxInternal/Copilot/EntraShellAPIs","FxInternal/RpcEndPointsCore"],(function(e,t,n,r,o,i,a,s){function l(e){e().then((function(e){return e.handleLoadEvent()}))}function u(e){e().then((function(e){return e.registerEndPoints()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.azureShellApisGetBrowserTabIdEndpoint=t.getReactViewPortForEntraManagerEndpoint=t.getActiveReactViewsForEntraManagerEndpoint=t.entraShellApisInvokeReactViewHandlerEndpoint=t.entraShellApisSetBladeDetailsEndpoint=t.entraShellApisOpenBladeEndpoint=t.entraShellApisMenuButtonFocusEndpoint=t.entraShellApisLogErrorToExtensionEndpoint=t.entraShellApisGetShellHandlerDefinitionsEndpoint=t.entraShellApisGetRecentBladeEndpoint=t.entraShellApisGetManifestCacheUriEndpoint=t.entraShellApisGetManifestCacheEndpoint=t.entraShellApisGetExtensionVersionEndpoint=t.entraShellApisGetDirectLineTokenEndpoint=t.entraShellApisGetCurrentBladeInfoEndpoint=t.entraShellApisGetBladeViewModelsHandlerEndpoint=t.entraShellApisGetBladeDeepLinkEndpoint=t.entraShellApisExecuteShellHandlerEndpoint=t.entraShellApisExecuteBladeHandlerEndpoint=t.entraShellApisCollectFXContextsEndpoint=t.entraShellApisClosePickerBladeEndpoint=t.getReactViewPortForCopilotManagerEndpoint=t.getActiveReactViewsForCopilotManagerEndpoint=t.azureShellApisToggleCopilotSizeEndpoint=t.azureShellApisSetBladeDetailsEndpoint=t.azureShellApisOpenBladeEndpoint=t.azureShellApisMenuButtonFocusEndpoint=t.azureShellApisLogErrorToExtensionEndpoint=t.azureShellApisGetShellHandlerDefinitionsEndpoint=t.azureShellApisGetRecentBladeEndpoint=t.azureShellApisGetManifestCacheUriEndpoint=t.azureShellApisGetManifestCacheEndpoint=t.azureShellApisGetExtensionVersionEndpoint=t.azureShellApisGetDirectLineTokenEndpoint=t.azureShellApisGetCurrentBladeInfoEndpoint=t.azureShellApisGetBladeViewModelsHandlerEndpoint=t.azureShellApisGetBladeDeepLinkEndpoint=t.azureShellApisExecuteShellHandlerEndpoint=t.azureShellApisExecuteBladeHandlerEndpoint=t.azureShellApisCollectFXContextsEndpoint=t.azureShellApisCloseCopilotPickerBladeEndpoint=t.copilotGetDiagnosticsDataEndpoint=t.copilotOpenGlobalFeedbackEndpoint=t.copilotResetConversationEndpoint=t.addCopilotViewContextAdditionalDetailsEndpoint=t.isCopilotEnabledEndpoint=t.fetchFeedbackPolicySettingsEndpoint=t.copilotRunSampleTestEndpoint=t.copilotNudgeEndpoint=t.copilotMetadataEndpoint=t.copilotInteractionsEndpoint=t.addFxNotificationEndpoint=void 0,t.registerRpcEndPoints=function(e){e.get(r.EventHandlerRegistry).onEventHandlerRegistered("extension",(function(){return Promise.resolve(l)})).onEventHandlerRegistered("rpc",(function(){return Promise.resolve(u)})).onEventHandlerRegistered("fileUploadSasUri",n.getFactory("FxInternal/Controls/FileUpload","setupRenewSasUri")).onEventHandlerRegistered("fileUploadAuthorization",n.getFactory("FxInternal/Controls/FileUpload","setupRenewAuthorization")).onEventHandlerRegistered("intuneAppFileUpload",n.getFactory("Extensions/IntuneApps/IntuneAppFileUpload","internal_RegisterCallbacks")).onEventHandlerRegistered("executeCopilotClientHandler",n.getFactory("FxInternal/Copilot/Handler","registerCopilotHandler"))},t.addFxNotificationEndpoint=new o.FuncEndPointDefinition("Fx.RpcEndpoints.addFxNotification"),t.copilotInteractionsEndpoint=new o.FuncEndPointDefinition("copilotInteractions"),t.copilotMetadataEndpoint=new o.FuncEndPointDefinition("copilotMetadata"),t.copilotNudgeEndpoint=new o.FuncEndPointDefinition("copilotNudge"),t.copilotRunSampleTestEndpoint=new o.FuncEndPointDefinition("copilotRunSampleTest"),t.fetchFeedbackPolicySettingsEndpoint=new o.FuncEndPointDefinition("fetchFeedbackPolicySettings"),t.isCopilotEnabledEndpoint=s.isCopilotEnabledEndpoint,t.addCopilotViewContextAdditionalDetailsEndpoint=new o.FuncEndPointDefinition("addCopilotViewContextAdditionalDetails"),t.copilotResetConversationEndpoint=new o.ActionEndPointDefinition("copilotResetConversation"),t.copilotOpenGlobalFeedbackEndpoint=new o.ActionEndPointDefinition("copilotOpenGlobalFeedback"),t.copilotGetDiagnosticsDataEndpoint=new o.ActionEndPointDefinition("copilotGetDiagnosticsData"),t.azureShellApisCloseCopilotPickerBladeEndpoint=i.azureShellApisCloseCopilotPickerBladeEndpoint,t.azureShellApisCollectFXContextsEndpoint=i.azureShellApisCollectFXContextsEndpoint,t.azureShellApisExecuteBladeHandlerEndpoint=i.azureShellApisExecuteBladeHandlerEndpoint,t.azureShellApisExecuteShellHandlerEndpoint=i.azureShellApisExecuteShellHandlerEndpoint,t.azureShellApisGetBladeDeepLinkEndpoint=i.azureShellApisGetBladeDeepLinkEndpoint,t.azureShellApisGetBladeViewModelsHandlerEndpoint=i.azureShellApisGetBladeViewModelsHandlerEndpoint,t.azureShellApisGetCurrentBladeInfoEndpoint=i.azureShellApisGetCurrentBladeInfoEndpoint,t.azureShellApisGetDirectLineTokenEndpoint=i.azureShellApisGetDirectLineTokenEndpoint,t.azureShellApisGetExtensionVersionEndpoint=i.azureShellApisGetExtensionVersionEndpoint,t.azureShellApisGetManifestCacheEndpoint=i.azureShellApisGetManifestCacheEndpoint,t.azureShellApisGetManifestCacheUriEndpoint=i.azureShellApisGetManifestCacheUriEndpoint,t.azureShellApisGetRecentBladeEndpoint=i.azureShellApisGetRecentBladeEndpoint,t.azureShellApisGetShellHandlerDefinitionsEndpoint=i.azureShellApisGetShellHandlerDefinitionsEndpoint,t.azureShellApisLogErrorToExtensionEndpoint=i.azureShellApisLogErrorToExtensionEndpoint,t.azureShellApisMenuButtonFocusEndpoint=i.azureShellApisMenuButtonFocusEndpoint,t.azureShellApisOpenBladeEndpoint=i.azureShellApisOpenBladeEndpoint,t.azureShellApisSetBladeDetailsEndpoint=i.azureShellApisSetBladeDetailsEndpoint,t.azureShellApisToggleCopilotSizeEndpoint=i.azureShellApisToggleCopilotSizeEndpoint,t.getActiveReactViewsForCopilotManagerEndpoint=i.getActiveReactViewsForCopilotManagerEndpoint,t.getReactViewPortForCopilotManagerEndpoint=i.getReactViewPortForCopilotManagerEndpoint,t.entraShellApisClosePickerBladeEndpoint=a.entraShellApisClosePickerBladeEndpoint,t.entraShellApisCollectFXContextsEndpoint=a.entraShellApisCollectFXContextsEndpoint,t.entraShellApisExecuteBladeHandlerEndpoint=a.entraShellApisExecuteBladeHandlerEndpoint,t.entraShellApisExecuteShellHandlerEndpoint=a.entraShellApisExecuteShellHandlerEndpoint,t.entraShellApisGetBladeDeepLinkEndpoint=a.entraShellApisGetBladeDeepLinkEndpoint,t.entraShellApisGetBladeViewModelsHandlerEndpoint=a.entraShellApisGetBladeViewModelsHandlerEndpoint,t.entraShellApisGetCurrentBladeInfoEndpoint=a.entraShellApisGetCurrentBladeInfoEndpoint,t.entraShellApisGetDirectLineTokenEndpoint=a.entraShellApisGetDirectLineTokenEndpoint,t.entraShellApisGetExtensionVersionEndpoint=a.entraShellApisGetExtensionVersionEndpoint,t.entraShellApisGetManifestCacheEndpoint=a.entraShellApisGetManifestCacheEndpoint,t.entraShellApisGetManifestCacheUriEndpoint=a.entraShellApisGetManifestCacheUriEndpoint,t.entraShellApisGetRecentBladeEndpoint=a.entraShellApisGetRecentBladeEndpoint,t.entraShellApisGetShellHandlerDefinitionsEndpoint=a.entraShellApisGetShellHandlerDefinitionsEndpoint,t.entraShellApisLogErrorToExtensionEndpoint=a.entraShellApisLogErrorToExtensionEndpoint,t.entraShellApisMenuButtonFocusEndpoint=a.entraShellApisMenuButtonFocusEndpoint,t.entraShellApisOpenBladeEndpoint=a.entraShellApisOpenBladeEndpoint,t.entraShellApisSetBladeDetailsEndpoint=a.entraShellApisSetBladeDetailsEndpoint,t.entraShellApisInvokeReactViewHandlerEndpoint=a.entraShellApisInvokeReactViewHandlerEndpoint,t.getActiveReactViewsForEntraManagerEndpoint=a.getActiveReactViewsForEntraManagerEndpoint,t.getReactViewPortForEntraManagerEndpoint=a.getReactViewPortForEntraManagerEndpoint,t.azureShellApisGetBrowserTabIdEndpoint=i.azureShellApisGetBrowserTabIdEndpoint})),
define("FxInternal/Authentication/TokensCommon",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCommonEndPointMatch=function(e){return n.exec(e)},t.translateCommonEndpoint=function(e){return r.get(e)};var n=/\{(.*?)\}/,r=new Map([["{graph}",FxImpl.internalEnv.fxGraphEndpoint],["{msgraph}",FxImpl.internalEnv.fxMsGraphEndpoint]])})),
define("FxInternal/Utils/NotificationUtils",["require","exports","FxInternal/Authentication/TokensCommon","Fx/Diagnostics"],(function(e,t,n,r){var o,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.titleAndDescriptionRegex=void 0,t.createPendingNotificationReturnObject=function(e,t,n){var r=!1,o=e;return{id:o.id,complete:function(e){return r?(p.error("[".concat(l,"]: PendingNotification.complete can't be called on notifications that have already had PendingNotification.complete called.")),null):e.status&&3===Number(e.status)?(p.error("[".concat(l,"]: PendingNotification.complete can't be called on notifications with a completed status of InProgress.")),null):(o=__assign(__assign(__assign(__assign(__assign(__assign(__assign({},o),e.title&&{title:e.title}),e.description&&{description:e.description}),"actions"in e&&{actions:e.actions}),"linkTo"in e&&{linkTo:e.linkTo}),t&&"toastDuration"in e&&{toastDuration:e.toastDuration}),{timestamp:new Date,percentComplete:void 0,status:f[e.status]}),r=!0,_(o)?(n(o),o.timestamp):null)},update:function(e){return r?(p.error("[".concat(l,"]: PendingNotification.update can't be called on notifications that have already had PendingNotification.complete called.")),null):_(o=__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({},o),e.title&&{title:e.title}),e.description&&{description:e.description}),"actions"in e&&{actions:e.actions}),"linkTo"in e&&{linkTo:e.linkTo}),"percentComplete"in e&&{percentComplete:e.percentComplete}),t&&"toastDuration"in e&&{toastDuration:e.toastDuration}),{timestamp:new Date}))?(n(o),o.timestamp):null}}},t.createResponseNotification=function(e,t,n,r){var o,i,a={};u.forEach((function(n){var r,o;n in t?a=__assign(__assign({},a),((r={})[n]=t[n],r)):"status"!==n&&(a=__assign(__assign({},a),((o={})[n]=e[n],o)))})),a=__assign(__assign({},a),{id:e.id}),e.isInternal&&(a=__assign(__assign({},a),{toastDuration:null!==(i=null!==(o=t.toastDuration)&&void 0!==o?o:e.toastDuration)&&void 0!==i?i:0}));var s=a.title;if(s.includes("{{$")&&s.includes("}}"))try{var l=w(n,s);a=__assign(__assign({},a),{title:l})}catch(e){return P(r,!0,e),null}var c="object"==typeof a.description?a.description.htmlTemplate:a.description;if(c.includes("{{$")&&c.includes("}}"))try{var d=w(n,c);a=a="string"==typeof a.description?__assign(__assign({},a),{description:d}):__assign(__assign({},a),{description:{htmlTemplate:d}})}catch(e){return P(r,!1,e),null}return a},t.fetchNotificationPollingResponseDetailsByContentStatus=h,t.fetchNotificationPollingResponseDetailsByStatusCode=v,t.generateNotificationId=g,t.getAuthDetails=function(e){var t,r,o,i;if(!e)return null;if(b(e))return null;var a=(null!==(t=MsPortalFx.getEnvironmentValue("extensionName"))&&void 0!==t?t:"").toLowerCase(),s=MsPortalFx.getEnvironmentValue("authorization"),l=!x(a),u="",c="";l&&(null==s?void 0:s.resourceAccess)&&(u=null!==(i=null===(o=null===(r=MsPortalFx.find(s.resourceAccess,(function(t){var r=t.resource,o=(0,n.isCommonEndPointMatch)(r);if((null==o?void 0:o.length)&&(r=(0,n.translateCommonEndpoint)(r)),e.includes(r))return c=r,!0})))||void 0===r?void 0:r.name)||void 0===o?void 0:o.toLowerCase())&&void 0!==i?i:u);return{extensionName:a,resourceName:u,audience:c}},t.handleTelemetry=y,t.isArmUriMatch=b,t.isShellOrHubs=x,t.serializeNotification=function(e,t){void 0===t&&(t=!0);return __assign({actions:e.actions||[],description:e.description,id:t&&e.id?e.id:"".concat(t?"Internal":"").concat(g()),linkTo:e.linkTo,status:f[e.status],timestamp:new Date,title:e.title},t&&"toastDuration"in e&&{toastDuration:e.toastDuration})},t.serializePendingNotification=function(e,t){void 0===t&&(t=!0);return __assign({actions:e.actions||[],description:e.description,id:t&&e.id?e.id:"".concat(t?"Internal":"","Pending").concat(g()),linkTo:e.linkTo,percentComplete:e.percentComplete,status:3,timestamp:new Date,title:e.title},t&&"toastDuration"in e&&{toastDuration:e.toastDuration})},t.validateAsyncOpPollingDetails=function(e,t,n){var r=e.responseNotificationByStatus;if(!r||!Object.keys(r).length)return y(t,!0,null==e?void 0:e.defaultTelemetryName,n,"Missing responseNotificationByStatus or the responseNotificationByStatus contains no records within pollingDetails."),!1;var o=e.keepPollingStatuses;if(!o||!Array.isArray(o))return y(t,!0,null==e?void 0:e.defaultTelemetryName,n,"Missing keepPollingStatuses."),!1;if(o.some((function(e){return"string"!=typeof e||!e.trim().length})))return y(t,!0,null==e?void 0:e.defaultTelemetryName,n,"keepPollingStatuses values must be non-empty strings."),!1;var i=Object.keys(r).map((function(e){var t="[status: ".concat(e,"]");if("string"!=typeof e||!e.trim().length)return"".concat(t," status keys within responseNotificationByStatus must be non-empty strings.");var n=e.split("-");if(7===e.length&&2===(null==n?void 0:n.length)&&3===e.indexOf("-")){var o=Number(n[0]),i=Number(n[1]);if(isNaN(o)||!(100<=o&&o<599))return"".concat(t," 7 character responseNotificationByStatusCode keys must start with a 3 digit number from one of the following 100-599.");if(isNaN(i)||!(100<i&&i<=599))return"".concat(t," 7 character responseNotificationByStatusCode keys must end with a 3 digit number from one of the following 100-599.");if(i<o)return"".concat(t," 7 character responseNotificationByStatusCode range keys on left side must be less than the right side (ie. invalid: 500-400).")}var a=h(r,e);if(!a)return"".concat(t," When a status key points to another status key, that pointed to status key must be valid (ie. non-empty string value) and must contain a valid PollingResponseDetails object.");var s=E(a.notification,a.requiredResponseValue,t);return s||""}));if(i.some((function(e){return!!e})))return y(t,!0,null==e?void 0:e.defaultTelemetryName,n,"One or more records contained within responseNotificationByStatus was/were invalid. See extra information in error for more details. "+i.filter((function(e){return!!e})).join(" ")),!1;if(c.some((function(e){return!r[e]})))return y(t,!0,null==e?void 0:e.defaultTelemetryName,n,"responsenotificationbystatus must contain the three minimum records: succeeded, failed, and canceled."),!1;return!0},t.validateBase=C,t.validateCommonPollingDetails=function(e,t,n){if(!e)return y(t,!0,null,n,'Missing pollingDetails in the "polling" notification.'),!1;var r=e;if(r.responseNotificationByStatusCode&&!(r.uri||"").trim())return y(t,!0,e.defaultTelemetryName,n,"Missing uri in pollingDetails."),!1;if(!e.defaultFailureNotification)return y(t,!0,e.defaultTelemetryName,n,"Missing defaultFailureNotification."),!1;var o=e.pollingTimeout;if(o){var i=Number(o.timeoutInMs);if(!i||isNaN(i)||i<1)return y(t,!0,e.defaultTelemetryName,n,'Invalid pollingTimeout details. The "timeoutInMs" must be a valid, positive number less than 24 hours worth of milliseconds if a value is supplied to "pollingTimeout".'),!1;if(i>m){e.pollingTimeout.timeoutInMs=m;var a="[".concat(l,"]: NotificationId: ").concat(n,".");a+=e.defaultTelemetryName?" Telemetry Name: ".concat(e.defaultTelemetryName,"."):"",a+=" Details: ".concat('Invalid pollingTimeout details. The "timeoutInMs" can\'t be more than 24 hours worth of milliseconds. It will be ignored.',"."),t.warning(a)}if(!o.failureNotification)return y(t,!0,e.defaultTelemetryName,n,'Invalid pollingTimeout details. The "failureNotification" must be defined if a value is supplied to "pollingTimeout".'),!1}var s=Number(e.customDelayInMs);if("customDelayInMs"in e&&(isNaN(s)||s<0||s>m))return y(t,!0,e.defaultTelemetryName,n,"Invalid customDelayInMs details."),!1;return!0},t.validateNonAsyncOpPollingDetails=function(e,t,n){var r=e.responseNotificationByStatusCode;if(!r||!Object.keys(r).length)return y(t,!0,e.defaultTelemetryName,n,"Missing responseNotificationByStatusCode or the responseNotificationByStatusCode contains no records within pollingDetails."),!1;var o=e.keepPollingCodes;if(!o||!Array.isArray(o)||!(null==o?void 0:o.length))return y(t,!0,e.defaultTelemetryName,n,"Missing keepPollingCodes or it contains an empty list."),!1;if(o.some((function(e){var t=Number(e);return isNaN(t)||100>t||t>599})))return y(t,!0,e.defaultTelemetryName,n,"keepPollingCodes must contain only numbers inclusively between 100 and 599."),!1;var i=Object.keys(r).map((function(e){var t="[code: ".concat(e,"]"),n=Number(e);if(3===e.length&&(isNaN(n)||100>n||n>599))return"".concat(t," 3 character responseNotificationByStatusCode keys must be valid numbers between 100 and 599.");var o=e.split("-");if(7===e.length){if(2!==o.length)return"".concat(t,' 7 character responseNotificationByStatusCode keys must be 2 numbers separated by a "-" character.');var i=Number(o[0]),a=Number(o[1]);if(isNaN(i)||!(100<=i&&i<599))return"".concat(t," 7 character responseNotificationByStatusCode keys must start with a 3 digit number from one of the following 100-599.");if(isNaN(a)||!(100<a&&a<=599))return"".concat(t," 7 character responseNotificationByStatusCode keys must end with a 3 digit number from one of the following 100-599.");if(a<i)return"".concat(t," 7 character responseNotificationByStatusCode range keys on left side must be less than the right side (ie. invalid: 500-400).")}if(3!==e.length&&7!==e.length)return"".concat(t," responseNotificationByStatusCode keys can either be 3 characters (response codes) or 7 characters long (ranged). No other values will work.");var s=v(r,e);if(!s)return"".concat(t," At least one invalid responseNotificationByStatusCode key. (ie. '200' or '400-499') and must point to a PollingResponseDetails object or a string value that represents a key that will point to a valid PollingResponseDetails object.");var l=E(s.notification,s.requiredResponseValue,t);return l||""}));if(i.some((function(e){return!!e})))return y(t,!0,e.defaultTelemetryName,n,"One or more records contained within responseNotificationByStatusCode was/were invalid. See extra information in error for more details. "+i.filter((function(e){return!!e})).join(" ")),!1;return!0},t.validateNotification=function(e){return C(e)},t.validatePendingNotification=_;var s=MsPortalFx.Base,l="Fx/Notifications",u=["actions","description","linkTo","status","title"],c=["Succeeded","Canceled","Failed"],d=((o={})[s.Constants.Shell.toLowerCase()]=!0,o["HubsExtension".toLowerCase()]=!0,o),p=(0,r.createLog)(e),f=__assign(((i={})[0]=0,i[1]=1,i[2]=2,i[4]=4,i),((a={})[0]=0,a[1]=1,a[2]=2,a[4]=4,a)),m=864e5;function h(e,t){if(!t||"string"!=typeof t||!t.trim().length)return null;if(e[t])return"object"!=typeof e[t]?e[e[t]]:e[t];var n=Object.keys(e).filter((function(e){return 3===e.indexOf("-")&&7===e.length})),r=n.find((function(e){var n=Number(e.slice(0,3)),r=Number(e.slice(4,8)),o=Number(t);return!(isNaN(n)||isNaN(r)||isNaN(o))&&(n<=o&&o<=r||void 0)}));return r&&e[r]?"string"!=typeof e[r]?e[r]:e[e[r]]:null}function v(e,t){if(isNaN(Number(t))&&7!==(t+"").length)return null;if(e[t])return"object"!=typeof e[t]?e[e[t]]:e[t];var n=Object.keys(e).filter((function(e){return 3===e.indexOf("-")&&7===e.length})),r=n.find((function(e){var n=Number(e.slice(0,3)),r=Number(e.slice(4,8)),o=Number(t);return!isNaN(n)&&!isNaN(r)&&(n<=o&&o<=r||void 0)}));return r&&e[r]?"string"!=typeof e[r]?e[r]:e[e[r]]:null}function g(){return"Notification-"+MsPortalFx.getUniqueId()}function y(e,t,n,r,o){if(t||n){var i="[".concat(l,"]: NotificationId: ").concat(r,".");i+=n?" Telemetry Name: ".concat(n,"."):"",i+=o?" Details: ".concat(o,"."):"",t?e.error(i):e.verbose(i)}}function b(e){return!MsPortalFx.isUriAbsolute(e)||new MsPortalFx.Base.UriBuilder(e).getAuthority().toLowerCase().includes(FxImpl.baseArmAuthorityLowerCase)}function x(e){return d[(e||"").toLowerCase()]}function C(e,t){if(!(e.title||"").trim()||!function(e){if(!e)return!1;if("object"==typeof e)return!!((null==e?void 0:e.htmlTemplate)||"").trim();return!!(e||"").trim()}(e.description))return y(p,!0,t,e.id,"Missing or invalid title/description."),!1;var n=function(e){var t;if(!e)return"";if(!("string"==typeof e||(null===(t=null==e?void 0:e.parameters)||void 0===t?void 0:t.blade)&&e.parameters.extension))return"[".concat(l,']: When "linkTo" is provided as an object BladeReference type, it must contain at least the "blade" and "extension" parameters.');return""}(e.linkTo);if(n)return y(p,!0,t,e.id,n),!1;var r=function(e){if(!e)return"";if(!Array.isArray(e)&&"object"!=typeof e)return'When "actions" are included, it must be an array or a single object.';if(Array.isArray(e)&&e.length>3)return'When "actions" are included, it must be an array with no more than 3 buttons.';if(!Array.isArray(e)&&"object"==typeof e)return function(e){var t;if(!e||Array.isArray(e)||"object"!=typeof e)return'A link in the "actions" property must be an {} object type.';if(!e.label||"string"!=typeof e.label||!e.label.trim())return'A link in the "actions" property must have a valid string with more than white space characters as a "label".';if(!e.action)return'A link in the "actions" property must have an "action" value.';var n=e.action;if(!("string"==typeof n||(null===(t=null==n?void 0:n.parameters)||void 0===t?void 0:t.blade)&&n.parameters.extension))return'When a link in the "actions" property is provided as an object BladeReference type, it must contain at least the "blade" and "extension" parameters.';return""}(e);var t=e.map((function(e){return function(e){if(!e||Array.isArray(e)||"object"!=typeof e)return"[".concat(l,']: Every button in the "actions" list must be an {} object type.');if(!e.label||"string"!=typeof e.label||!e.label.trim())return"[".concat(l,']: Every button in the "actions" list must have a valid string with more than white space characters as a "label".');if(!e.action)return"[".concat(l,']: Every button in the "actions" list must have an "action" value.');var t=e.action;if("string"!=typeof t){var n=t;if(n.extension&&n.partName&&n.parameters)return"";var r=t;return r.parameters&&r.parameters.blade&&r.parameters.extension?"":"[".concat(l,']: Every button in the "actions" list must have an "action" value. If not a string, it must be a valid BladeReference or set of PinToDashboard arguments.')}return""}(e)})).filter((function(e){return!!e}));if(t.length)return'When "actions" are included, all buttons must be valid: '.concat(t.join(" "));return""}(Array.isArray(e.actions)?__spreadArray([],e.actions,!0):e.actions);return!r||(y(p,!0,t,e.id,r),!1)}function _(e){if(!C(e))return!1;if(void 0===e.percentComplete)return!0;var t=Number(e.percentComplete);return!(isNaN(t)||t<0||t>100)||(p.error("[".concat(l,"]: When percentComplete is defined, it must be a valid number between 0 and 100.")),!1)}function w(e,n){var r,o=n.split("{{$").length-1,i=n.split("}}").length-1;if(!e)throw new Error("The was no response.content to use for formatting. stringToBeFormatted: "+n);if(o>i)throw new Error("Not enough closing }} format bounds to match the number of {{$ bounds present in string. stringToBeFormatted: "+n);var a=null!==(r=n.match(t.titleAndDescriptionRegex))&&void 0!==r?r:[];if(o!==a.length)throw new Error("Found ".concat(o<a.length?"more ":"less "," matches than there should have been."));var s=a.map((function(e){return e.replace("{{","").replace("}}","").trim()})).map((function(t){if("$"===t.trim())return JSON.stringify(e);var n=t.split(".").filter((function(e){return null==e?void 0:e.length}));if(n.length<=1)throw new Error("Invalid format of the dot delimited search string. "+t);n.shift();for(var r=e,o=function(e){if("object"!=typeof r)throw new Error("There was neither an object, nor an array after applying ".concat(n[e-1]," to use the following key value on ").concat(n[e],". Instead, ").concat(r," was found."));var t=n[e];if(Array.isArray(r)&&isNaN(Number(t)))throw new Error("Searching the response content using inline format keys found an array type [".concat(r.join(", "),'], but the following key "').concat(t,'" was not a numeric index.'));if(!Array.isArray(r)&&!Object.keys(r).some((function(e){return e===t})))throw new Error("Searching the response content using inline format keys found an object {} type ".concat(JSON.stringify(r),', but the following key "').concat(t,'" was not found'));try{r=r[t]}catch(e){throw new Error("Unexpected error encountered while drilling into response content to retrieve desired format value."+MsPortalFx.getLogFriendlyMessage(e))}},i=0;i<n.length;i++)o(i);if("object"==typeof r)try{r=JSON.stringify(r)}catch(e){return r}return r})),l=n;return a.forEach((function(e,t){l=l.replace(e,s[t])})),l}function P(e,t,n){var r,o=JSON.stringify({createdTime:new Date(e.createdTime),descriptionFormatFailure:!t,errorReason:null==n?void 0:n.message,extensionName:e.extensionName,failedAt:new Date,notificationId:e.originalNotification.id,titleFormatFailure:t,uri:e.uri});y(p,!0,null===(r=e.originalNotification.pollingDetails)||void 0===r?void 0:r.defaultTelemetryName,e.originalNotification.id,"errorThrown.message "+o)}function E(e,n,r){if(!e||Array.isArray(e)||"object"!=typeof e)return"".concat(r,' Every entry must refer to a valid record containing a "notification" object.');if(void 0===e.status||3===Number(e.status))return"".concat(r,' Every entry must refer to a valid record containing a "notification" object with a valid Status other than InProgress.');var o=function(e,t){if(e){if(Array.isArray(e)||"object"!=typeof e)return"".concat(t," Every entry that includes a requiredResponseValue value must be an object.");if(void 0===e.value)return"".concat(t,' Every entry that includes a requiredResponseValue must include a "value" with a value other than "undefined".');if(!Array.isArray(e.location)||!e.location.length)return"".concat(t,' Every entry that includes a requiredResponseValue must include a "location" with an array value with at least 1 value.');var n=e.failureNotification;if(n&&(Array.isArray(n)||"object"!=typeof n))return"".concat(t," Every entry that includes a requiredResponseValue.failureNotification value must be an object.")}}(n,r);if(o)return o;var i=function(e,n,r){var o="object"==typeof n?n.htmlTemplate:n,i=null==o?void 0:o.match(t.titleAndDescriptionRegex),a=(null==o?void 0:o.split("{{$").length)-1;if((null==i?void 0:i.length)&&i.length!==a)return"".concat(r," Invalid use of formatting indicators {{$.keyName1.keyName2.keyNameN}} in the ").concat("object"==typeof n?"description.htmlTemplate":"description"," string.");var s=null==e?void 0:e.match(t.titleAndDescriptionRegex),l=(null==e?void 0:e.split("{{$").length)-1;if((null==s?void 0:s.length)&&s.length!==l)return"".concat(r," Invalid use of formatting indicators {{$.keyName1.keyName2.keyNameN}} in the title string.")}(e.title,e.description,r);if(i)return i;var a=null==n?void 0:n.pollingValues;return!a||Array.isArray(a)&&!a.some((function(e){return"object"==typeof e&&null!==e||"function"==typeof e}))?void 0:"".concat(r," If pollingValues is defined, it must be an array and values contained must be of string, number, or boolean type.")}t.titleAndDescriptionRegex=/(\{\{\$[\w.\-"']*\}\})/g})),
define("FxInternal/Notifications",["require","exports","FxInternal/Utils/NotificationUtils","FxInternal/Rpc","FxInternal/RpcEndPoints","Fx/DependencyInjectionCore","Fx/Diagnostics"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.publishPollingNotification=t.publishPendingNotification=t.publishNotification=t.executeAzureAsyncOperation=void 0,t.checkForRequiredContent=d,t.checkForContinuedPollingContent=function(e,t){var n;try{var r=t;return e.location.forEach((function(e){return r=r[e]})),void 0!==r&&(null===(n=e.pollingValues)||void 0===n?void 0:n.some((function(e){return e===r})))}catch(e){return!1}},t.validatePollingDetails=p;var s=(0,a.createLog)(e),l=["Succeeded","Canceled","Failed"],u=[200,201,202],c=__spreadArray(__spreadArray([],u,!0),[204],!1);t.executeAzureAsyncOperation=function(e,r,o,i,d){var m,v,g;void 0===i&&(i=!0),void 0===d&&(d="Knockout");var y=i&&r.id?r.id:"".concat(i?"InternalAzureAsyncOperation":"AzureAsyncOperation").concat((0,n.generateNotificationId)()),b=__assign(__assign(__assign(__assign({title:r.title,description:r.description},"actions"in r&&{actions:r.actions}),"linkTo"in r&&{linkTo:r.linkTo}),null!==(v=null===(m=null==r?void 0:r.pollingDetails)||void 0===m?void 0:m.defaultFailureNotification)&&void 0!==v?v:Object.create(null)),{status:2,id:y}),x=null===(g=null==r?void 0:r.pollingDetails)||void 0===g?void 0:g.defaultTelemetryName;if(!(0,n.validateBase)(__assign({actions:r.actions,description:r.description,id:y,linkTo:r.linkTo,status:3,timestamp:new Date,title:r.title},i&&"toastDuration"in r&&{toastDuration:r.toastDuration})))return o?(0,t.publishNotification)(b,!0,d):null;if(!r.pollingDetails)return(0,n.handleTelemetry)(s,!0,x,y,'Missing pollingDetails in the "polling" notification.'),o?(0,t.publishNotification)(b,!0,d):null;if(!p(r.pollingDetails,s,y))return o?(0,t.publishNotification)(b,!0,d):null;var C=__assign(__assign({},r),{id:y}),_=(0,t.publishPendingNotification)(C,!0,d);return e.then((function(e){var o,i,a,p,m,v=e.content,g=e.headers,b=e.httpStatusCode,x=!!v,C=new Headers(g),w=C.get("Location"),P=C.get("Azure-AsyncOperation"),E=P||w,F=null===(o=null==v?void 0:v.properties)||void 0===o?void 0:o.provisioningState,M=null==v?void 0:v.status,S=__assign({},r.pollingDetails),I=(a=+C.get("Retry-After"),(p=null!==(i=S.customDelayInMs)&&void 0!==i?i:0)<(m=1e3*(a||0)||15e3)?m:p),k=__assign(__assign({},S),{customDelayInMs:I,uri:E}),A=__assign(__assign({},r),{id:y,pollingDetails:k});if(function(e,t,n){if(!e)return!1;if((200===t||201===t||202===t)&&!l.includes(n))return!0;return!1}(E,b,F))return!P&&w&&((S=__assign(__assign({},r.pollingDetails),{keepPollingStatuses:__spreadArray(__spreadArray([],S.keepPollingStatuses,!0),["201","202","404"],!1)})).responseNotificationByStatus[200]="Succeeded",S.responseNotificationByStatus[204]="Succeeded"),(0,t.publishPollingNotification)(A,!0,d);var T=S.defaultFailureNotification,D=S.defaultTelemetryName,R=S.responseNotificationByStatus;if(l.includes(F)){var B=h(F,A,R,T,D,v);return(0,n.handleTelemetry)(s,!1,null==B?void 0:B.telemetryName,y,"ProvisioningState: ".concat(F)),_.complete(B.options)}if(F||E)return(0,n.handleTelemetry)(s,!1,D,y,"Failed without polling. ProvisioningState: ".concat(F,". AsyncOpUrl: ").concat(E)),_.complete(f(S.defaultFailureNotification));if(!(x&&M||200!==b&&204!==b)){B=h("Succeeded",A,R,T,D,v);return(0,n.handleTelemetry)(s,!1,null==B?void 0:B.telemetryName,y,"Success without polling. HttpStatusCode: ".concat(b)),_.complete(B.options)}if(M&&u.includes(b)){B=h(M,A,R,T,D,v);return(0,n.handleTelemetry)(s,!1,null==B?void 0:B.telemetryName,y,"Success without polling. Content Status: ".concat(M)),_.complete(B.options)}if(!c.includes(b)){B=h(b.toString(),A,R,T,D,v);return(0,n.handleTelemetry)(s,!1,null==B?void 0:B.telemetryName,y,"Failed without polling. HttpStatusCode: ".concat(b)),_.complete(B.options)}throw Error("Failed to find any async operation scenario. Fall back to defaultFailureNotification.")})).catch((function(e){var t,o,i,l=null===(t=null==r?void 0:r.pollingDetails)||void 0===t?void 0:t.defaultFailureNotification,u=null===(o=null==r?void 0:r.pollingDetails)||void 0===o?void 0:o.defaultTelemetryName,c=null===(i=null==r?void 0:r.pollingDetails)||void 0===i?void 0:i.responseNotificationByStatus;try{if("object"==typeof e&&(null==e?void 0:e.httpStatusCode)){var d=e.content,p=e.httpStatusCode,m=h(p.toString(),C,c,l,u,d);return(0,n.handleTelemetry)(s,!1,null==m?void 0:m.telemetryName,y,"Failed without polling. HttpStatusCode: ".concat(p)),_.complete(m.options)}}catch(e){var v=(0,a.getLogFriendlyMessage)(e);return(0,n.handleTelemetry)(s,!1,u,y,"Failed without polling. Error: ".concat(v)),_.complete(f(l))}(0,n.handleTelemetry)(s,!1,u,y,"executeAzureAsyncOperation batch promise failed without an httpStatusCode."),_.complete(f(l))})),{id:_.id}};t.publishNotification=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a="Knockout");var s=(0,n.serializeNotification)(e,t);return(0,n.validateNotification)(s)?(o.addFxNotificationEndpoint.invoke(i.container.get(r.Client),"fx",[s,a]),{id:s.id}):null};t.publishPendingNotification=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a="Knockout");var s=(0,n.serializePendingNotification)(e,t),l=function(e){o.addFxNotificationEndpoint.invoke(i.container.get(r.Client),"fx",[e,a])};return(0,n.validatePendingNotification)(s)?(l(s),(0,n.createPendingNotificationReturnObject)(s,t,l)):null};function d(e,t){try{var n=t;return e.location.forEach((function(e){return n=n[e]})),n===e.value}catch(e){return!1}}function p(e,t,r){if(!(0,n.validateCommonPollingDetails)(e,t,r))return!1;var o=e;return o.responseNotificationByStatus||o.keepPollingStatuses?(0,n.validateAsyncOpPollingDetails)(e,t,r):(0,n.validateNonAsyncOpPollingDetails)(e,t,r)}function f(e){return __assign(__assign({},e),{status:2})}function m(e,t,r,o){var i=null==t?void 0:t.notification,a=null==t?void 0:t.requiredResponseValue,s=!0;if(a){s=d(a,r);var l=a.failureNotification||o,u=__assign(__assign({},l),{status:2});return s?i:u}var c=(0,n.createResponseNotification)(e,i,r);return c||(c=__assign(__assign(__assign(__assign(__assign(__assign(__assign({title:e.title,description:e.description},"linkTo"in e&&{linkTo:e.linkTo}),"actions"in e&&{actions:e.actions}),{status:2}),"title"in o&&{title:o.title}),"description"in o&&{description:o.description}),"linkTo"in o&&{linkTo:o.linkTo}),"actions"in o&&{actions:o.actions})),c}function h(e,t,r,o,i,a){var s=(0,n.fetchNotificationPollingResponseDetailsByContentStatus)(r,e);return s?{options:m(t,s,a,o),telemetryName:s.telemetryName}:{options:f(o),telemetryName:i}}t.publishPollingNotification=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a="Knockout");var l=__assign({actions:e.actions||[],description:e.description,id:t&&e.id?e.id:"".concat(t?"Internal":"","Polling").concat((0,n.generateNotificationId)()),linkTo:e.linkTo,pollingDetails:e.pollingDetails,status:3,timestamp:new Date,title:e.title},t&&"toastDuration"in e&&{toastDuration:e.toastDuration});return(0,n.validateBase)(l)&&p(l.pollingDetails,s,l.id)?(o.addFxNotificationEndpoint.invoke(i.container.get(r.Client),"fx",[l,a]),{id:l.id}):null}})),
define("Fx/Notifications",["require","exports","FxInternal/Notifications","FxInternal/Utils/NotificationUtils"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.executeAzureAsyncOperation=function(e,t){return n.executeAzureAsyncOperation(e,t,!1,!1)},t.publishNotification=function(e){return n.publishNotification(e,!1)},t.publishPendingNotification=function(e){var t=n.publishPendingNotification(e,!1);return{complete:function(e){return t.complete(e)},id:t.id,update:function(e){return t.update(e)}}},t.publishPollingNotification=function(e){var t,o=(0,r.getAuthDetails)(null===(t=null==e?void 0:e.pollingDetails)||void 0===t?void 0:t.uri),i=__assign(__assign({},e),{pollingDetails:__assign(__assign({},null==e?void 0:e.pollingDetails),o&&{authDetails:o})});return n.publishPollingNotification(i,!1)}})),
define("Fx/Pinner",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Internal=void 0,t.pin=function(e,t){return n.pinEndPoint.invoke(o.client,r.Constants.Shell,{parts:e,options:t})};var n,r=MsPortalFx.Base,o=FxImpl.Rpc;!function(e){e.pinEndPoint=new o.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.pinParts)}(n||(t.Internal=n={}))})),
define("Fx/Security",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("Fx/Telemetry",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;var n=MsPortalFx.Base.Diagnostics.Telemetry;t.trace=n.trace})),
define("FxInternal/Units",["require","exports"],(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UnitType=t.perTimeBit=t.higherByteOffset=void 0,t.higherByteOffset=8,t.perTimeBit=1<<t.higherByteOffset-1,function(e){e[e.None=0]="None",e[e.Bytes=1]="Bytes",e[e.Decimal=2]="Decimal",e[e.Time=3]="Time",e[e.BytesPerTime=4]="BytesPerTime",e[e.DecimalPerTime=5]="DecimalPerTime",e[e.Bytes_SI=6]="Bytes_SI",e[e.BytesPerTime_SI=7]="BytesPerTime_SI"}(n||(t.UnitType=n={}))})),
define("Fx/Units",["require","exports","FxInternal/Units"],(function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Unit=void 0,function(e){e[e.None=0]="None",e[e.Percentage=1]="Percentage",e[e.Bytes=256]="Bytes",e[e.Kilobytes=257]="Kilobytes",e[e.Megabytes=258]="Megabytes",e[e.Gigabytes=259]="Gigabytes",e[e.Terabytes=260]="Terabytes",e[e.Petabytes=261]="Petabytes",e[e.BytesPerDay=1152]="BytesPerDay",e[e.BytesPerHour=1153]="BytesPerHour",e[e.BytesPerMinute=1154]="BytesPerMinute",e[e.BytesPerSecond=1155]="BytesPerSecond",e[e.KilobytesPerSecond=1156]="KilobytesPerSecond",e[e.MegabytesPerSecond=1157]="MegabytesPerSecond",e[e.GigabytesPerSecond=1158]="GigabytesPerSecond",e[e.TerabytesPerSecond=1159]="TerabytesPerSecond",e[e.PetabytesPerSecond=1160]="PetabytesPerSecond",e[e.Count=512]="Count",e[e.Thousand=513]="Thousand",e[e.Million=514]="Million",e[e.Billion=515]="Billion",e[e.Trillion=516]="Trillion",e[e.MicroSeconds=768]="MicroSeconds",e[e.MilliSeconds=769]="MilliSeconds",e[e.Seconds=770]="Seconds",e[e.Minutes=771]="Minutes",e[e.Hours=772]="Hours",e[e.Days=773]="Days",e[e.CountPerDay=1408]="CountPerDay",e[e.CountPerHour=1409]="CountPerHour",e[e.CountPerMinute=1410]="CountPerMinute",e[e.CountPerSecond=1411]="CountPerSecond",e[e.ThousandPerSecond=1412]="ThousandPerSecond",e[e.MillionPerSecond=1413]="MillionPerSecond",e[e.BillionPerSecond=1414]="BillionPerSecond",e[e.TrillionPerSecond=1415]="TrillionPerSecond",e[e.Bytes_SI=1536]="Bytes_SI",e[e.Kilobytes_SI=1537]="Kilobytes_SI",e[e.Megabytes_SI=1538]="Megabytes_SI",e[e.Gigabytes_SI=1539]="Gigabytes_SI",e[e.Terabytes_SI=1540]="Terabytes_SI",e[e.Petabytes_SI=1541]="Petabytes_SI",e[e.BytesPerDay_SI=1920]="BytesPerDay_SI",e[e.BytesPerHour_SI=1921]="BytesPerHour_SI",e[e.BytesPerMinute_SI=1922]="BytesPerMinute_SI",e[e.BytesPerSecond_SI=1923]="BytesPerSecond_SI",e[e.KilobytesPerSecond_SI=1924]="KilobytesPerSecond_SI",e[e.MegabytesPerSecond_SI=1925]="MegabytesPerSecond_SI",e[e.GigabytesPerSecond_SI=1926]="GigabytesPerSecond_SI",e[e.TerabytesPerSecond_SI=1927]="TerabytesPerSecond_SI",e[e.PetabytesPerSecond_SI=1928]="PetabytesPerSecond_SI"}(r||(t.Unit=r={}))})),
define("Fx/UriBuilder",["require","exports"],(function(e,t){return MsPortalFx.Base.UriBuilder})),
define("FxHubs/ArmClient/Models",["require","exports","Fx/ResourceManagement"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.toResource=function(e,t){var o=e.id;if(!o){if(e.value&&Array.isArray(e))throw new Error("toResource called with object with array property 'value'");return r.warning("ARM returned a resource with no id: "+JSON.stringify(e)),null}var i=e.name;t=t||n.ArmId.parse(o,!0),i||(i=t.resourceName);var a=e.type;a||(a=t.resourceType);return{id:o,armId:t,location:e.location||"",name:i,tags:e.tags||{},properties:e.properties||{},resourceGroup:n.ArmId.stringify(t,4),type:a,kind:e.kind,zones:e.zones,plan:e.plan,managedBy:e.managedBy,sku:e.sku,identity:e.identity}},t.toResourceGroup=function(e,t){var o=(e||{}).id;if(!o){if(e.value&&Array.isArray(e))throw new Error("toResourceGroup called with object with array property 'value'");return r.warning("ARM returned a resource group with no id: "+JSON.stringify(e)),null}t=t||n.ArmId.parse(o,!0);var i=e.properties||{};return{id:o,armId:t,location:e.location||"",name:e.name,tags:e.tags||{},properties:i,provisioningState:i.provisioningState,managedBy:e.managedBy}};var r=MsPortalFx.Base.Diagnostics.createLog(e)})),
define("FxHubs/ArmHelpers/ArmApisStartup",["require","exports","Fx/Ajax","Fx/ResourceManagement","FxHubs/RpcEndPoints","Fx"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=t.getLatestApiVersion=t.resourceTypeApiVersionDictionary=t.callRaw=t.getAbsoluteArmUri=void 0,t.isHiddenTag=function(e){var t=F(e);return!e||t.startsWith("hidden-")||t.startsWith("link:")},t.callWithContinuation=function(e,t,n,r){return I(e,t,n,!1,r)},t.call=function(e,n,r,o,i,a,s,l){return(0,t.callRaw)({armApiOrUri:e,httpMethod:n,data:r,dataType:"json",telemetry:o,useApiInvoke:i,filterEmptyResponse:a,performRetry:s,headers:l}).then((function(e){return e.content}))},t.callBatchWithContinuation=function(e,t,r,o,i){i=i||{};var a=e,s=function(){if(a.length){var l=!1,u=[],c=[],d=a.map((function(a,s){var d=void 0===a.originalIndex?s:a.originalIndex,p=e[d].uri;return c.push(p),(0,n.batch)({options:o?4:1,uri:a.uri,setTelemetryHeader:a.telemetry+(a.lastChunk||".-1")}).then((function(e){if(!l){var n=e.content||{},o=n,s="",c={value:0,type:"None"};if(a.arrayResponse&&(o=n.value,s=n.nextLink,i.additionalResponseInfo)){var f=n.count;f&&(c.value=f.value,c.type=f.type)}!n||!o||e.httpStatusCode>=400?r({api:p,reason:e}):!1===t(o,d,{countData:c})?l=!0:s&&u.push({uri:s,arrayResponse:!0,telemetry:a.telemetry,originalIndex:d,lastChunk:".".concat(o.length)})}})).catch((function(e){if(!e.httpStatusCode)return Promise.reject(e);r({api:p,reason:e})}))}));return Promise.all(d).then((function(){if(!l)return a=u,s()})).catch((function(e){if(r({api:c.join("|"),reason:e}),!l)return a=u,s()}))}return Promise.resolve()};return s()},t.listLocationsApi=function(){return"/locations".concat(null!=g?g:"?api-version=2019-11-01")},t.listTenantsApi=function(){return"/tenants"+(MsPortalFx.isFeatureEnabled("tenants2020")?"?api-version=2020-01-01&$includeAllTenantCategories=true":"?api-version=2019-03-01&$includeAllTenantCategories=true")},t.getSubscriptionApi=function(e){e=e.replace(/^\/?subscriptions\/?/,"").replaceAll("/","");var t=MsPortalFx.isFeatureEnabled("mspfilter")?MsPortalFx.isFeatureEnabled("subscriptionpromotions")?"?api-version=2022-01-01":"?api-version=2018-06-01":"?api-version=2016-06-01";return"/subscriptions/".concat(e).concat(t)},t.filterSubscriptionsByScope=function(e,t,n){return T(e,t,n)},t.filterSubscriptionsByScopeByResourceGroup=T,t.internalNotifyAssetDeleted=function(e,t,n){var r=MsPortalFx.makeArray(t).filter((function(e){return!MsPortalFx.find(D,(function(t){return e.extensionName===t.extensionName&&e.assetType===t.assetType&&MsPortalFx.deepEquals(e.assetId,t.assetId)}))}));D.push.apply(D,r);var a=r.map((function(e){var t=e;return t.reason=n,t}));if(!a.length)return;o.Events.notifyAssetDeletedDefinition.invoke(e.get(c.Client),f,a).finally((function(){i.delay(2e3).then((function(){D.forEach((function(e){return MsPortalFx.remove(D,e)}))}))}))},t.listSubscriptions=function(){return"/subscriptions".concat("?api-version=2018-06-01&$expand=inherited")},t.listSubscriptionLocationsApi=function(e){return"/subscriptions/".concat(e,"/locations").concat(null!=g?g:"?api-version=2019-11-01")},t.listLocationsAtScopeApi=function(e){return"".concat(e,"/locations").concat(null!=g?g:"?api-version=2019-11-01")},t.getPermissionsApi=function(e){var t=MsPortalFx.getFeatureValue("permissionsapiversion"),n=t?"?api-version=".concat(t):"?api-version=2018-01-01-preview";return"/".concat(P(M(e)),"/providers/microsoft.authorization/permissions").concat(n)},t.getEventsApi=function(e,t,n,r){void 0===r&&(r=null);return function(e,t,n,r,o,i){var a="eventTimestamp",l=new s.UriBuilder("/subscriptions/".concat(t,"/providers/microsoft.insights/eventtypes/management/").concat(e)),u="".concat(a," ge '").concat(n.toISOString(),"' and ").concat(a," le '").concat(r.toISOString(),"'");o&&o.length&&(u=o+" and "+u);var c=l.query;return c.setParameter("api-version","2014-04-01"),c.setParameter("$filter",u),l.toString()+(MsPortalFx.isNullOrUndefined(i)?"":"&$top=".concat(i))}("values",e,t,n,r)},t.resourcesAcrossSubscriptionsApi=function(e,t,n,r,o,i,a,l){var u=new s.UriBuilder("/resources"),c=[e.map((function(e){return"subscriptionId eq '".concat(e,"'")})).join(" or ")];R(n,c),B("resourcegroup",i,c,a),B("location",o,c),B("resourceType",t,c),r&&c.push.apply(c,r),u.query.setParameter("api-version","2014-04-01-preview");var d=c.filter(MsPortalFx.identity).map((function(e){return"(".concat(e,")")})).join(" and ");return d&&u.query.setParameter("$filter",d),l&&u.query.setParameter("$top",l),u.toString()},t.tenantResourcesApi=function(e,t,n){var r=new s.UriBuilder("/providers/".concat(e.topLevelTenantAlias)),o=[];(e.proxyRoutingFilters||[]).forEach((function(e){switch(e){case 1:R(t,o);break;case 3:B("location",n,o);break;default:p.error("Unhandled proxy routing filter: <".concat(e,">"))}})),r.query.setParameter("api-version",e.apiVersion);var i=o.filter(MsPortalFx.identity).map((function(e){return"(".concat(e,")")})).join(" and ");return i&&r.query.setParameter("$filter",i),r.toString()},t.providerProxyResourcesApi=function(e,t,n,r,o,i,a){var l,u=t.topLevelResourceTypeAlias;l=u?"/subscriptions/".concat(e,"/providers/").concat(u):"".concat(a,"/").concat(MsPortalFx.last(t.resourceType.split("/")));var c=new s.UriBuilder(l),d=[];(t.proxyRoutingFilters||[]).forEach((function(e){switch(e){case 1:R(n,d);break;case 2:B("resourcegroup",o,d,i);break;case 3:B("location",r,d);break;default:p.error("Unhandled proxy routing filter: <".concat(e,">"))}})),c.query.setParameter("api-version",t.apiVersion);var f=d.filter(MsPortalFx.identity).map((function(e){return"(".concat(e,")")})).join(" and ");return f&&c.query.setParameter("$filter",f),c.toString()},t.subscriptionTagsApi=function(e){return"/subscriptions/".concat(P(e),"/tagnames").concat("?api-version=2016-06-01")},t.resourceGroupsInSubscriptionApi=N,t.resourcesInSubscriptionApi=O,t.resourceGroupsWithTagApi=function(e,t,n){var r=new s.UriBuilder(N(e)),o=["tagname eq '".concat(S(t),"'"),n||""===n?"tagvalue eq '".concat(S(n),"'"):null].filter((function(e){return!!e})).join(" and ");return r.query.setParameter("$filter",o),r.toString()},t.resourcesWithTagApi=function(e,t,n){var r=new s.UriBuilder(O(e)),o=["tagname eq '".concat(S(t),"'"),n||""===n?"tagvalue eq '".concat(S(n),"'"):null].filter((function(e){return!!e})).join(" and ");return r.query.setParameter("$filter",o),r.toString()},t.resourceGroupApi=function(e){return E(M(e))+"?api-version=2020-06-01"},t.getResourceGroupForceDeleteApi=function(e,t){return"".concat(E(M(e))).concat("?api-version=2020-06-01","&").concat(t)},t.resourceFromArmCacheApi=function(e){e="/"+P(e);var t=r.ArmId.parse(e,!0);if(6!==t.kind)return L(e);return Promise.resolve("".concat(r.ArmId.stringify(t,1),"/resources")+"".concat("?api-version=2014-04-01-preview","&").concat("$filter","=resourceId eq '").concat(S(e),"'"))},t.resourceApi=L,t.resourcesInResourceGroupApi=function(e){return E(e)+"/resources?api-version=2014-04-01-preview"};var a,s=MsPortalFx.Base,l=s.Constants,u=s.Diagnostics,c=FxImpl.Rpc,d=u.Telemetry,p=(MsPortalFx.Extension.ProxyRoutingFilter,u.createLog(e)),f=l.Shell,m=FxImpl.Rpc.client,h=JSON.stringify,v=s.Resources.isUriAbsolute,g=MsPortalFx.getFeatureValue("azslocapiver"),y=/^[0-9-]+$/g,b="2014-04-01",x=/^((https?:)(\/\/\/?)(\w*(?::\w*)?@)?([\w.-]+)(?::(\d+))?)?([^?]*)?(.*)?$/i,C=/^[\s/]*|\/*$/g,_=/\/\//g,w=FxImpl.getErrorMap({batchLimitExceeded:"",invalidUrlEndpoint:"",endpointNotFound:""});function P(e){return e.replace(C,"")}function E(e){return"/"+P(e)}function F(e){return(e||"").toLowerCase()}function M(e){return e.replaceAll("#","%23")}function S(e){return M(function(e){return e.replaceAll("'","''")}(e))}function I(e,n,r,o,i){if(!e.length)return Promise.resolve();var a=e.pop(),s=(0,t.getAbsoluteArmUri)(a);return A({headers:{accept:"application/json"},isBackgroundTask:o,armApiOrUri:s,telemetry:i,httpMethod:"GET"}).then((function(t){var s=t.content,l=s&&s.value;if(s)if(l)if(!1===n(l))e=[];else{var u=s.nextLink;u&&e.push(u)}else r({api:a,reason:"Expected response.value not found."});else r({api:a,reason:"Expected response not found."});return I(e,n,r,o,i)}),(function(t){return r({api:a,reason:t}),I(e,n,r,o,i)}))}t.getAbsoluteArmUri=function(e){return v(e)?e:(t=e,r=(0,n.getEndpoints)().arm,o=MsPortalFx.trimEnd(r,"/")+MsPortalFx.ensurePrefix(t,"/"),(i=x.exec(o))||w.invalidUrlEndpoint(o),o=i[1]?i[1]+"/":"",o+=P(i[7]).replace(_,"/"),!i[1]&&i[7].startsWith("/")&&(o="/"+o),o+(i[8]||""));var t,r,o,i};var k=["GET","POST","DELETE","HEAD","PUT","PATCH"];function A(e){var r=e.armApiOrUri,o=e.httpMethod,i=e.data,a=e.isBackgroundTask,s=e.dataType,l=e.telemetry,u=e.useApiInvoke,c=e.filterEmptyResponse,d=e.performRetry,p=e.noBatch,f=(0,t.getAbsoluteArmUri)(r),m={headers:e.headers||{accept:"application/json"},isBackgroundTask:a,performRetry:d,invokeApi:!1!==u?FxImpl.internalEnv.fxArmInvokeApi:null,setAuthorizationHeader:!0,setTelemetryHeader:l,type:o,uri:f};i&&(m.contentType="application/json",m.data="string"==typeof i?i:h(i)),c&&(m.dataFilter=function(e,t){return"json"!==t||e?e:"{}"}),s&&(m.dataType=s);var g=(0,t.getAbsoluteArmUri)("/");if(p||!v(r)||~r.indexOf(g)||(p=!0),!p&&k.includes(o.toUpperCase())){var y={options:a?4:1,setTelemetryHeader:m.setTelemetryHeader,type:o,uri:r};return i&&MsPortalFx.extend(y,{content:i}),(0,n.batch)(y).then((function(e){return{content:e.content,jqXHR:{responseJSON:e.content,status:e.httpStatusCode,getResponseHeader:function(t){return e.headers[t]}}}}),(function(e){throw{errorThrown:MsPortalFx.getLogFriendlyMessage(e),jqXHR:{responseJSON:e.content,responseText:e.content,status:e.httpStatusCode,getResponseHeader:function(t){return e.headers[t]}}}}))}return(0,n.ajaxExtended)(m)}function T(e,t,n){var o=r.ArmId.parse(t,!0);return 1===o.kind?[o.subscription]:4===o.kind||6===o.kind?(n&&n("resourcegroup eq '".concat(S(o.resourceGroup),"'")),[o.subscription]):e||[]}t.callRaw=A;var D=[];function R(e,t){F(e).split(" ").forEach((function(e){e&&t.push("substringof('".concat(S(e),"', name)"))}))}function B(e,t,n,r){var o=r?"ne":"eq",i=MsPortalFx.makeArray(t).filter(MsPortalFx.identity).map((function(t){return"".concat(e," ").concat(o," '").concat(S(F(t)),"'")})).join(r?" and ":" or ");i&&n.push(i)}function N(e,t){var n="/subscriptions/".concat(P(e),"/resourcegroups").concat("?api-version=2020-06-01");return t&&(n+="&$top=1"),n}function O(e,t){var n="/subscriptions/".concat(P(e),"/resources").concat("?api-version=2014-04-01-preview");return t&&(n+="&$top=1"),n}function L(e){var n=new s.UriBuilder(E(M(e))),r=n.query;return r.getParameter("api-version")?Promise.resolve(n.toString()):(0,t.getLatestApiVersion)(n.path).then((function(e){return r.setParameter("api-version",e),n.toString()}))}t.resourceTypeApiVersionDictionary={"aspera.transfers/services":"2016-03-25","cloudyn.analytics/accounts":"2016-03-01","conexlink.mycloudit/accounts":"2015-06-15","hive.streaming/services":"2016-03-18","microsoft.bingmaps/mapapis":"2015-07-02","microsoft.visualstudio/account/project":"2014-02-26","pokitdok.platform/services":"2016-05-17","raygun.crashreporting/apps":"2015-01-01","signiant.flight/accounts":"2015-06-29","trendmicro.deepsecurity/accounts":"2015-06-15"},t.getLatestApiVersion=function(e){var i=r.ArmId.parse(e,!0);if(4===i.kind)return Promise.resolve("2020-06-01");if(1===i.kind)return Promise.resolve("2016-06-01");if(6===i.kind||3===i.kind||8===i.kind){var s,l=F(i.resourceType);return a||(a=o.AssetTypes.getAssetTypesInformationEndPoint.invoke(m,"fxw",void 0).then((function(e){e.forEach((function(e){var n=e.resourceType,r=e.apiVersion;n&&r&&(t.resourceTypeApiVersionDictionary[F(n)]=r)}))}))),a.then((function(){if(s=t.resourceTypeApiVersionDictionary[l])return Promise.resolve(s);if(s=t.resourceTypeApiVersionDictionary[F(r.ArmId.parse(e).resourceType)])return Promise.resolve(s);d.trace({source:"HubsExtension",action:"MissingApiVersion",actionModifier:l});var o=i.subscription,a=i.isNestedResourceType&&MsPortalFx.last(i.nestedResourceTypes).provider||i.provider,u=(o?"/subscriptions/".concat(o,"/providers/").concat(a):"/providers/".concat(a))+"?api-version=2021-04-01",c=(0,t.getAbsoluteArmUri)(u),f=F(i.isNestedResourceType&&"".concat(a,"/").concat(MsPortalFx.last(i.nestedResourceTypes).resourceTypes.join("/"))||i.resourceType);return(0,n.ajaxExtended)({uri:c,invokeApi:FxImpl.internalEnv.fxArmInvokeApi,type:"GET",headers:{accept:"application/json"},setAuthorizationHeader:!0,setTelemetryHeader:"getLatestApiVersion"}).then((function(e){return(e&&e.content&&e.content.resourceTypes||[]).forEach((function(e){var n=e.defaultApiVersion;if(!n){var r=e.apiVersions||[];n=MsPortalFx.find(r,(function(e){return e&&y.test(e)}))||r[0]}var o=F(a+"/"+e.resourceType);t.resourceTypeApiVersionDictionary[o]||(t.resourceTypeApiVersionDictionary[o]=n)})),t.resourceTypeApiVersionDictionary[f]||function(e){var n;if(!n)for(var r=e.split("/"),o=r.length-1;o;){var i=r.slice(0,o).join("/");if(t.resourceTypeApiVersionDictionary[i]){n=t.resourceTypeApiVersionDictionary[i],t.resourceTypeApiVersionDictionary[e]=n;break}o--}return n}(f)||b}),(function(t){return p.warning("".concat(e," using api ver ").concat(b,". Error ").concat(t.responseText)),b}))}))}return Promise.reject("Unexpected id "+e)}})),
define("FxHubs/ArmHelpers/ArmIds",["require","exports","Fx/ResourceManagement"],(function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceArmIdKindMap=void 0,t.ResourceArmIdKindMap=((r={})[6]=!0,r[3]=!0,r[8]=!0,r)})),
define("FxHubs/ArmClient",["require","exports","Fx/Ajax","Fx/ResourceManagement","FxHubs/ArmHelpers/ArmApisStartup","FxHubs/ArmHelpers/ArmIds","FxHubs/ArmClient/Models","Fx"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidResourceIdError=t.resourceGroupAssetType=void 0,t.getResourceGroup=function(e,t,n){if(4!==r.ArmId.parse(e.split("?")[0],!0).kind)throw new Error("Invalid resource group ID: ".concat(e));return Promise.all([p(e,t,n),d()]).then((function(t){var n=t[0],r=t[1];if(!n)throw new f(e);return h(n,r)}))},t.mapResourceGroupToResourceGroupWithStrings=h,t.getResource=function(e,t,n){if(!i.ResourceArmIdKindMap[r.ArmId.parse(e.split("?")[0],!0).kind])throw new m(e);return Promise.all([v(e,t,n),d()]).then((function(t){var n=t[0],r=t[1];if(!n)throw new f(e);return g(n,r)}))},t.mapResourceToResourceWithStrings=g;var l=MsPortalFx.Base,u=l.Constants,c=l.Diagnostics.Telemetry;t.resourceGroupAssetType=u.AssetNames.ResourceGroups;var d=(0,s.memoizePromise)((function(){return MsPortalFx.Azure.getLocations().then((function(e){var t=FxImpl.lowerCaseStringMap();return(0,s.forEachKey)(e,(function(e,n){return t.set(e,n)})),t}))}));function p(e,r,i){void 0===i&&(i={});var s=i.background,l=i.useNonBatchCall,u=(0,o.resourceGroupApi)(e);return(l?(0,n.ajaxExtended)({headers:{accept:"application/json"},isBackgroundTask:!1,setAuthorizationHeader:!0,setTelemetryHeader:r+".nonBatch",type:"GET",uri:MsPortalFx.trimEnd((0,n.getEndpoints)().arm,"/")+MsPortalFx.ensurePrefix(u,"/")}).then((function(e){return(0,a.toResourceGroup)(e.content)})):(0,n.batch)({options:s?4:1,setTelemetryHeader:r,uri:u}).then((function(e){return(0,a.toResourceGroup)(e.content)}))).catch((function(n){throw n&&404===n.status&&MsPortalFx.UI.AssetManager.notifyAssetDeleted(t.resourceGroupAssetType,e,"HubsExtension"),n}))}var f=function(e){function t(t){var n=e.call(this,"Invalid server response for ".concat(t))||this;return n.status=406,n}return __extends(t,e),t}(Error),m=function(e){function t(n){var r=e.call(this,"Invalid Resource ID: ".concat(MsPortalFx.sanitizeMessage(n)))||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error);function h(e,t){var n=e.location||"";return MsPortalFx.extend({locationString:t.get(n)||n},e)}function v(e,t){return __awaiter(this,arguments,void 0,(function(e,t,i){var l,u,d,p,f,m,h,g,y,b,x,C,_,w,P,E;return void 0===i&&(i={}),__generator(this,(function(F){switch(F.label){case 0:l=i.skipArmCache,u=i.useArgPointGet,d=i.useArgListGet,p=i.background,f=i.skipCacheMissRetry,m=i.useNonBatchCall,h=r.ArmId.parse(e.split("?")[0]),g=function(n,r){if(l||f){if(r)throw r;return Promise.reject({content:null==n?void 0:n.content,headers:null==n?void 0:n.headers,httpStatusCode:404})}return c.trace({source:"getResource",action:"FallbackFromCache",data:{options:i,response:n,error:r}}),v(e,t,{skipArmCache:!0,background:p})},y=l||u&&6===h.kind,b=y?(0,o.resourceApi)(e):(0,o.resourceFromArmCacheApi)(e),F.label=1;case 1:return F.trys.push([1,4,,5]),[4,b];case 2:return x=F.sent(),m?[2,(0,n.ajaxExtended)({headers:{accept:"application/json"},isBackgroundTask:!1,setAuthorizationHeader:!0,setTelemetryHeader:t+".nonBatch",type:"GET",uri:MsPortalFx.trimEnd((0,n.getEndpoints)().arm,"/")+MsPortalFx.ensurePrefix(x,"/")}).then((function(t){var n=t.content;n&&n.value&&(n=n.value[0])&&(n.id=n.id||e);var r=n&&(0,a.toResource)(n);return r||g(t)})).catch((function(e){throw e}))]:(y?(C="",(0,s.forEachKey)(i.additionalQueryStrings,(function(e,t){C+="&".concat(e,"=").concat(t)})),x+=C,u&&(x+="&useResourceGraph=true")):d&&(x+="&useResourceGraph=true"),[4,(0,n.batch)({options:p?4:1,setTelemetryHeader:t,uri:x})]);case 3:return _=F.sent(),(w=_.content)&&w.value&&(w=w.value[0])&&(w.id=w.id||e),(P=w&&(0,a.toResource)(w))?[2,P]:[2,g(_)];case 4:if(E=F.sent(),!u&&!d)throw E;return[2,g(null,E)];case 5:return[2]}}))}))}function g(e,t){var n=e.location||"";return MsPortalFx.extend({locationString:t.get(n)||n,trimmedName:MsPortalFx.last((e.name||e.id||"").split("/"))},e)}t.InvalidResourceIdError=m})),
define("FxHubs/ArmHelpers/ArmEventsHelpers",["require","exports","Fx/ResourceManagement","FxHubs/RpcEndPoints","FxHubs/ArmHelpers/ArmIds"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ArmEventWatcher=void 0;var i=MsPortalFx.Base.Constants,a=i.ResourceTypes,s=FxImpl.Rpc,l=(a.ResourceGroups||"").toLowerCase(),u=function(){function e(e){this.diContainer=e}return e.prototype.attachEventWatch=function(e,t,a,u,c){var d=this,p="/write",f="/delete";(e||"").toLowerCase()===l&&(p="microsoft.resources/subscriptions/resourcegroups/write",f="microsoft.resources/subscriptions/resourcegroups/delete");var m=function(e,t,l,p){var f,m,h={eventCriteria:{source:null,operationNameRegex:e},eventLimit:100};return(u?(f=ko.observableArray(),m=c.subscribeToArmEvent(h.eventCriteria,f,h.eventLimit),Promise.resolve({value:{cookie:m,events:f}})):r.Events.subscribeToArmEventDefinition.acquireObject(d.diContainer.get(s.Client),i.Shell,h)).then((function(e){var r=e.value;return r.events.subscribe(a,(function(e){if(p.resourceGroupCallback){var r=e.filter((function(e){var r=n.ArmId.parse(e.assetId,!0);return"succeeded"===(e.status||"").toLowerCase()&&e.operationName===t&&4===r.kind}));r.length&&p.resourceGroupCallback(r)}if(p.resourceCallback){var i=e.filter((function(e){var t,r=n.ArmId.parse(e.assetId,!0);return"succeeded"===(e.status||"").toLowerCase()&&(null===(t=e.operationName)||void 0===t?void 0:t.endsWith(l))&&o.ResourceArmIdKindMap[r.kind]}));i.length&&p.resourceCallback(i)}})),!u&&a.registerForDispose(e),r.cookie}))};(t.writeToResourceGroup||t.writeToResource)&&(this._writeEventSub=m(p,"microsoft.resources/subscriptions/resourcegroups/write","/write",{resourceGroupCallback:t.writeToResourceGroup,resourceCallback:t.writeToResource})),(t.resourceGroupDeleted||t.resourceDeleted)&&(this._deleteEventSub=m(f,"microsoft.resources/subscriptions/resourcegroups/delete","/delete",{resourceGroupCallback:t.resourceGroupDeleted,resourceCallback:t.resourceDeleted}))},e.prototype.disposeEventWatcher=function(){this._writeEventSub&&this._writeEventSub.then((function(e){return r.Events.removeArmEventSubscriptionDefinition.invoke(s.client,i.Shell,{cookie:e})})),this._writeEventSub=null,this._deleteEventSub&&this._deleteEventSub.then((function(e){return r.Events.removeArmEventSubscriptionDefinition.invoke(s.client,i.Shell,{cookie:e})})),this._deleteEventSub=null},e}();t.ArmEventWatcher=u})),
define("FxHubs/HubsSettingsSchema",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeBrowsePreviewOptInFlagEndpoint=t.allowedUserSettingsKeys=t.Keys=t.writeHubsLastUsedUserSettings=t.deleteHubsUserSettings=t.writeHubsUserSettings=t.readHubsUserSettings=void 0;var n,r=FxImpl.Rpc,o=FxImpl.Constants.RpcMethods;t.readHubsUserSettings=new r.FuncEndPointDefinition(o.shellReadUserSettings),t.writeHubsUserSettings=new r.ActionEndPointDefinition(o.shellWriteUserSettings),t.deleteHubsUserSettings=new r.ActionEndPointDefinition("Shell.deleteUserSettings"),t.writeHubsLastUsedUserSettings=new r.ActionEndPointDefinition(o.shellWriteLastUsedUserSettings),function(e){e.createLastDeployedItems="gallery_create_lastDeployed_galleryItems",e.createLauncherLastUsedSubscriptionId="gallery_createLauncher_lastUsed_subscriptionId",e.createLauncherLastUsedResourceGroupLocation="gallery_createLauncher_lastUsed_resourceGroupLocation",e.deploymentsLastUsedLocations=FxImpl.Azure.lastUsedLocationsKey,e.whatsNewLastNotificationTime="whatsNew_lastNotificationTimestamp",e.subscriptionsSelected="subscriptions_selected",e.pastDueSubscriptionsSnoozed="pastduesubscriptions_snoozed",e.browseColumnsSettings="browse_columns",e.browseFavoriteViews="favorite_views",e.recentResourcesSettings="browse_recentResources",e.directoriesSelected="directories_selected",e.recentArgQueries="recents_argQueries",e.favoriteResourcesSettings="browse_favoriteResources"}(n||(t.Keys=n={})),t.allowedUserSettingsKeys=[n.createLastDeployedItems,n.createLauncherLastUsedSubscriptionId,n.createLauncherLastUsedResourceGroupLocation,n.deploymentsLastUsedLocations],t.writeBrowsePreviewOptInFlagEndpoint=new r.ActionEndPointDefinition("writeBrowsePreviewOptInFlag")})),
define("FxHubs/Common/UserSettingsHelper",["require","exports","Fx/DependencyInjection","FxHubs/HubsSettingsSchema","FxHubs/HubsSettingsSchema","Fx"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.UserSettingsHelper=void 0;var a=MsPortalFx.Base,s=FxImpl.Rpc,l=a.Constants.Shell,u=function(){function t(e,t){var n=this;this._rpcClient=e,this._diContainer=t,this._settingsCache=Object.create(null),this.useGlobalResourceFiltersMemo=(0,i.memoizePromise)((function(){if(!n._diContainer.get(FxImpl.Features).isEnabled("globalresourcefilter"))return Promise.resolve(!1);var e="optedIn";return n.readSettings([e],19).then((function(t){return!!t[e]}))}))}return t.prototype.readSettings=function(e,t,n){var o=t||0;this._settingsCache[o]||(this._settingsCache[o]=Object.create(null));var i=e.join("|");return!n&&this._settingsCache[o][i]||(this._settingsCache[o][i]=r.readHubsUserSettings.invoke(this._rpcClient,l,{settingsKeys:e,settingStore:t,bypassCache:n})),this._settingsCache[o][i]},t.prototype.writeSettings=function(e,t,n){var o=this;return r.writeHubsUserSettings.invoke(this._rpcClient,l,{settings:e,priority:t,settingStore:n}).then((function(e){return o._clearCacheForStore(n)}))},t.prototype.deleteSettings=function(e,t){var n=this;return r.deleteHubsUserSettings.invoke(this._rpcClient,l,{settingsKeys:e,settingStore:t}).then((function(e){return n._clearCacheForStore(t)}))},t.prototype.writeLastUsedSettings=function(e){return r.writeHubsLastUsedUserSettings.invoke(this._rpcClient,l,e)},t.prototype.writeBrowsePreviewOptIn=function(e,t,n,r,i){var a=this;return o.writeBrowsePreviewOptInFlagEndpoint.invoke(this._rpcClient,"fx",{assetIds:e,value:r,resourceType:t,kind:n,preventAutoBladeLaunch:i}).then((function(e){return a._clearCacheForStore(15)}))},t.prototype._clearCacheForStore=function(e){delete this._settingsCache[e||0]},t=__decorate([__metadata("fx:diagnostics",[e,"UserSettingsHelper"]),n.Class(),__metadata("design:paramtypes",[s.Client,n.Container])],t)}();t.UserSettingsHelper=u})),
define("FxHubs/ArtBrowse/ArtBrowseArea",["require","exports","Fx/DependencyInjection","Fx","FxInternal","FxHubs/RpcEndPointsCore","FxHubs/Resources/FxHubsClientStrings","Fx/Notifications","FxHubs/HubsSettingsSchema","FxHubs/Common/UserSettingsHelper"],(function(e,t,n,r,o,i,a,s,l,u){Object.defineProperty(t,"__esModule",{value:!0}),t.DataContext=void 0;var c=l.Keys.browseFavoriteViews,d=function(){function t(e){this._diContainer=e,this._responseMap=new Map,this._viewLru={},this._viewFavorite={},this._viewMap={},this._viewNameSet=new Set,this.detailsBladeSelectedRowIndex=ko.observable(),this.detailsBladeSelectedRowIndexChangedWithButton=!1,this._viewLifetime=new FxImpl.TriggerableLifetimeManager}return t.prototype.setResponseForDetailsBlade=function(e){var t=r.getUniqueId();return this._responseMap.set(t,e),t},t.prototype.getResponseForDetailsBlade=function(e){return this._responseMap.get(e)},t.prototype.removeResponseForDetailsBlade=function(e){this._responseMap.delete(e)},t.prototype.getSavedBrowseViews=function(e){var t=(e||"").toLowerCase(),n=Promise.resolve(this._viewLru[t]||this._loadSavedBrowseViews(t));return o.tryImmediateResolve(n,MsPortalFx.identity)},t.prototype.isSavedFavoriteBrowseViewInitialized=function(e){var t=(e||"").toLowerCase();return!!this._viewFavorite[t]},t.prototype.initializeSavedFavoriteBrowseView=function(e,t,n){var r=(e||"").toLowerCase();return this._viewFavorite[r]?n&&this._viewFavorite[r](t):(this._viewFavorite[r]=ko.observable(t),this._watchSavedFavoriteBrowseView(r)),this._viewFavorite[r]},t.prototype.getSavedFavoriteBrowseView=function(e){var t=(e||"").toLowerCase(),n=Promise.resolve(this._viewFavorite[t]||this._loadSavedFavoriteBrowseView(t));return o.tryImmediateResolve(n,MsPortalFx.identity)},t.prototype.deleteSavedBrowseView=function(e,t,n){var r=this;return o.tryImmediateResolve(this.getSavedBrowseViews(e),(function(e){var o,i=(r._viewMap[t]||{name:null}).name;return e.remove((function(e){return e.id===t})),delete r._viewMap[t],r._viewNameSet.delete(i),n||(o=(0,s.publishPendingNotification)({title:a.Browse.deletingViewLabel.format(i),description:a.Browse.deletingViewDescription.format(i)})),r._diContainer.get(u.UserSettingsHelper).deleteSettings(["View_"+t],15).then((function(){o&&!n&&o.complete({title:a.Browse.deletedViewLabel.format(i),description:a.Browse.deletedViewDescription.format(i),status:4})})).catch((function(e){return o&&o.complete({title:a.Browse.deleteViewFailedLabel.format(i),description:a.Browse.deleteViewFailedDescription.format(i),status:2}),Promise.reject(e)}))}))},t.prototype.getSavedBrowseView=function(e){return Promise.resolve(this._viewMap[e]||this._loadSavedView(e))},t.prototype.updateSavedBrowseViewDetails=function(e){this._viewMap[e.id]=e},t.prototype.saveSavedBrowseView=function(e,t){this._viewMap[e.id]=e,this._viewNameSet.add(e.name);var n,r=Object.create(null);return r["View_"+e.id]={version:1,view:ko.toJS(e)},t||(n=(0,s.publishPendingNotification)({title:a.Browse.savingViewLabel.format(e.name),description:a.Browse.savingViewDescription.format(e.name)})),this._diContainer.get(u.UserSettingsHelper).writeSettings(r,void 0,15).then((function(){n&&!t&&n.complete({title:a.Browse.savedViewLabel.format(e.name),description:a.Browse.savedViewDescription.format(e.name),status:4})})).catch((function(t){return n&&n.complete({title:a.Browse.saveViewFailedLabel.format(e.name),description:a.Browse.saveViewFailedDescription.format(e.name),status:2}),Promise.reject(t)}))},t.prototype._loadSavedBrowseViews=function(e){var t=this,n=this._diContainer.get(u.UserSettingsHelper),r=ko.observableArray([]);return r.extend({rateLimit:50}),n.readSettings(["LRU_"+e],15).then((function(o){if(t._viewLru[e]=r,o&&o["LRU_"+e]){var i=o["LRU_"+e];1===i.version&&(r(i.lru),i.lru.forEach((function(e){t._viewNameSet.add(e.name)})))}return r.subscribe(t._viewLifetime,(function(t){var r=Object.create(null);r["LRU_"+e]={version:1,lru:ko.toJS(t)},n.writeSettings(r,void 0,15)})),Promise.resolve(t._viewLru[e])}))},t.prototype._watchSavedFavoriteBrowseView=function(e){var t=this,n=this._diContainer.get(u.UserSettingsHelper);this._viewFavorite[e].subscribe(this._viewLifetime,(function(r){n.readSettings([c],15).then((function(o){o||(o=Object.create(null)),o[c]||(o[c]=Object.create(null)),o[c][e]=r,n.writeSettings(o,void 0,15),i.Browse.onBrowseFavoriteViewIdUpdatedEndPoint.invoke(t._diContainer.get(FxImpl.Rpc.Client),"fxw",{resourceTypeKey:e,favoriteViewId:r})}))}))},t.prototype._loadSavedFavoriteBrowseView=function(e){var t=this,n=this._diContainer.get(u.UserSettingsHelper),r=ko.observable();return r.extend({rateLimit:50}),n.readSettings([c],15).then((function(n){if(t._viewFavorite[e]=r,n&&n[c]&&n[c][e]){var o=n[c][e];r(o||"_default_")}else r("_default_");return t._watchSavedFavoriteBrowseView(e),Promise.resolve(t._viewFavorite[e])}))},t.prototype._loadSavedView=function(e){return this._diContainer.get(u.UserSettingsHelper).readSettings(["View_"+e],15).then((function(t){if(t&&t["View_"+e]){var n=t["View_"+e];if(1===n.version)return n.view}return Promise.resolve(null)}))},t=__decorate([__metadata("fx:diagnostics",[e,"DataContext"]),n.Class(),__metadata("design:paramtypes",[n.Container])],t)}();t.DataContext=d})),
define("FxHubs/ResourceManagement",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AssetTypeOptions=t.AssetTypeContracts=void 0,t.supportsContract=function(e,t){return(e&t)===t},t.supportsAnyContract=function(e,t){return!!(e&t)},t.supportsOption=function(e,t){return(e&t)===t},t.supportsAnyOption=function(e,t){return!!(e&t)};var n=MsPortalFx.Assets,r=MsPortalFx.Extension;t.AssetTypeContracts=n.AssetContracts,t.AssetTypeOptions=r.AssetTypeOptions})),
define("FxHubs/Utilities",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MapWithKeyTransform=void 0;var n=function(){function e(e){this._map=new Map,this._toInternal=e.sourceToInternal,this._toSource=e.internalToSource}return e.prototype.clear=function(){this._map.clear()},e.prototype.delete=function(e){return this._map.delete(this._toInternal(e))},e.prototype.forEach=function(e,t){var n=this;this._map.forEach((function(r,o,i){e.call(t,r,n._toSource&&n._toSource(o),n)}),t)},e.prototype.get=function(e){return this._map.get(this._toInternal(e))},e.prototype.has=function(e){return this._map.has(this._toInternal(e))},e.prototype.set=function(e,t){return this._map.set(this._toInternal(e),t),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!1,configurable:!0}),e}();t.MapWithKeyTransform=n})),
define("FxHubs/ArtHelpers/ArgBrowseHelpers",["require","exports","Fx","FxInternal","Fx","Fx/Composition/Selectable","Fx/Errors","FxHubs/ResourceManagement","FxHubs/RpcEndPoints","Fx/ResourceManagement","FxHubs/Utilities","MsPortalFx/Globalization","FxHubs/RpcEndPointsCore","FxHubs/Resources/FxHubsClientStrings","FxHubs/ArtBrowse/ArtBrowseArea","FxHubs/HubsSettingsSchema","FxHubs/Common/UserSettingsHelper"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,m,h,v){var g,y;Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowsePreRequisitesMemoized=t.knownArgTopLevelOperatorsLowerCased=t.getColumnName=t.dateFormatter=t.numberFormatter=t.defaultDateTimeFormat=t.columnIdToArgColumn=t.columnIdToStringMap=t.resourceDefaultColumns=t.resourceVisibleColumns=t.resourcePersistedColumns=t.initializedFromSettings=void 0,t.canOptIn=function(e,t){if(t){if(1!==t.browseType)return!1;if(MsPortalFx.isFeatureEnabled("artbrowse")&&(!(0,s.supportsContract)(t.contracts,2)||e&&4!==e)&&(t.routingType||b.Default)===b.Default&&4!==e&&3!==e)return!0}return 2===e},t.areColumnsInitialized=function(e){return!!t.initializedFromSettings[e]},t.mapArgResponseToArgBrowseItems=function(e,t,n,o,i,a,s){var l=e.data||{},c=MsPortalFx.convertArrayToMap(l.columns,(function(e){return e.name}),(function(e,t){return t})),d=c.id,p=c.name,f=c.type,m=c.kind,h=c.subscriptionId,v=c.subscriptionDisplayName,g=c.tags,y=MsPortalFx.getUniqueId();null==s||s.preProcessor(y);var b=(l.rows||[]).reduce((function(e,c){var b=c[d],C=c[f],_=c[m],w=C&&n&&n[C.toString().toLowerCase().trim()];if(!w&&t&&(w={}),w){var P=w.partDetails;if(_){var E=function(e){P=e.partDetails},F=(w.kindMap||Object.create(null))[_];F?E(F):w.defaultKind&&E(w.defaultKind)}P||(P=a);var M=c[h],S=c[g]||Object.create(null),I=c[p],k=u.ArmId.parse(b,!0);0===k.kind&&0!==(k=u.ArmId.parse("/"+b,!0)).kind&&(b="/"+b),I=u.ResourceName.getDisplayName({id:b,name:I,armId:k,tags:S})||I;var A={};(l.columns||[]).forEach((function(e,t){var n=e.name.replaceAll("_","."),r=o[n]||MsPortalFx.identity;A[n]=r(c[t],i[n])})),A.id=b,A.name=I,A.resourceGroupId=u.ArmId.stringify(k,4),A.tagsArray=ko.observable(null),A.partDetails=P,A.tags=ko.observable(S);var T=c[v];T?A.subscriptionDisplayName=ko.observable(T):(A.subscriptionDisplayName=ko.observable(M),M&&r.tryImmediateResolve(x.getSubscriptionInfo(M),(function(e){A.subscriptionDisplayName(e.displayName)}))),null==s||s.itemProcessor(y,A),e.push(A)}return e}),[]);return null==s||s.postProcessor(y),b},t.getCreateBlade=function(e,t){var n=e.sourceBladeOrPartName||"Resources";if(e.noPdlCreateBlade){var r;return t&&(r={},(0,o.forEachKey)(e.noPdlCreateParameters,(function(e,n){r[e]="string"==typeof n&&"{resourceid}"===n.toLowerCase()?t:n}))),Promise.resolve(new i.ProvisioningBladeReference(e.noPdlCreateBlade,e.noPdlCreateExtension||e.assetExtensionName,e.assetType?{extensionName:e.assetExtensionName,assetKind:e.assetKind,assetType:e.assetType,marketplaceId:e.marketplaceItemId}:e.marketplaceItemId,{parameters:r||e.noPdlCreateParameters,onClosed:e.onBladeClosed}))}if(e.marketplaceItemId){var s={extension:"HubsExtension",detailBlade:"NoCreateFlowBlade",detailBladeInputs:{marketplaceItemId:e.marketplaceItemId}},l=e.createFlowPromise||Promise.resolve(P().then((function(t){return t.getCreateFlow({marketplaceGalleryItemId:e.marketplaceItemId,launchingContext:{telemetryId:MsPortalFx.newGuid(),source:[n,e.resourceType]},dontDiscardJourney:!0,error:{extension:e.noPdlCreateExtension,maretplaceItemId:e.marketplaceItemId}},(function(){}))})));e.onCreateFlowPromise&&e.onCreateFlowPromise(l);var u=new i.PdlBladeReference("NoCreateFlowBlade","HubsExtension",{parameters:s.detailBladeInputs,onClosed:e.onBladeClosed});return l.then((function(t){return"bladeSelection"in t?Promise.resolve(new i.ProvisioningBladeReference(t.bladeSelection.detailBlade,t.bladeSelection.extension,null,{parameters:{internal_bladeCallerParams:t},onClosed:e.onBladeClosed})):Promise.resolve(new i.ProvisioningBladeReference(t.bladeName,t.bladeExtension,null,{parameters:__assign({},t.bladeInputs)}))})).catch((function(t){return w.warning(new a.FxError({message:"Could not get the create flow for item <".concat(e.marketplaceItemId,">. Error: ").concat(MsPortalFx.getLogFriendlyMessage(t)),innerErrors:[t]})),u}))}if(e.marketplaceMenuItemId){var c=void 0,d=e.marketplaceMenuItemId;return c=e.listScopeArmId&&4===e.listScopeArmId.kind?d.includes("/")?E({parameters:{selectedSubMenuItemId:{menuItemId:d,dontDiscardJourney:!0,resourceGroup:e.listScope,resourceGroupLocation:e.listScopeLocation,launchingContext:{source:"AddResourceCommand"}}},callbacks:null,onClosed:e.onBladeClosed}):F({parameters:{selectedMenuItemId:d,dontDiscardJourney:!0,resourceGroup:e.listScope,resourceGroupLocation:e.listScopeLocation,launchingContext:{source:"AddResourceCommand"}},callbacks:null,onClosed:e.onBladeClosed}):d.includes("/")?E({parameters:{selectedSubMenuItemId:{menuItemId:d,dontDiscardJourney:!0,launchingContext:{source:"".concat(n," ").concat(e.resourceType)}}},callbacks:null,onClosed:e.onBladeClosed}):d===MsPortalFx.Base.Constants.GalleryMenuItems.HomeMenuItem?new i.PdlBladeReference(MsPortalFx.Base.Constants.BladeNames.Hubs.CreateHubBlade,"Microsoft_Azure_Marketplace",{parameters:{package:null,additionalConfig:null,dontDiscardJourney:!0,selectedMenuItemId:null,createLanding:null},onClosed:e.onBladeClosed}):F({parameters:{selectedMenuItemId:d,dontDiscardJourney:!0,launchingContext:{source:"".concat(n," ").concat(e.resourceType)}},callbacks:null,onClosed:e.onBladeClosed}),Promise.resolve(c)}},t.initializeColumns=function(e,n){if(!t.initializedFromSettings[n]){var r=_.start({source:"ColumnChooser",action:"ReadUserSettingsV"+n}),o=e.get(v.UserSettingsHelper).readSettings([A],n>1?15:void 0).then((function(e){_.endTrace(r,"complete"),T(n,e[A],!0)}));t.initializedFromSettings[n]=o}return t.initializedFromSettings[n]},t.initializeColumnsWithSettings=T,t.setDefaultBrowseColumns=function(e,n,r,o){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");D(e,n,r)(o)},t.getDefaultBrowseColumns=D,t.getVisibleBrowseColumns=function(e,n,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");var o=B(e,n,r),i=t.resourceVisibleColumns.get(o);if(!i){var a=D(e,n,r),s=R(e,n,r);(i=ko.pureComputed((function(){var e=a(),t=s();if(t){var n=[];return t.forEach((function(t){if(t.visible){var r=t.id,o=void 0,i=MsPortalFx.find(e,(function(e){return e.id===r}));if(i&&(o=MsPortalFx.extend2(i,{visible:!0})),!i&&(null==r?void 0:r.startsWith(I))){var a=r.slice(k);o={id:r,name:f.Browse.tagColumnNameFormat.format(a),format:MsPortalFx.ViewModels.Controls.Lists.Grid.Format.HtmlBindings,formatOptions:{htmlBindingsTemplate:S},visible:!0}}o&&n.push(o)}})),e.forEach((function(e){e.visible&&(MsPortalFx.find(t,(function(t){return t.id===e.id}))||n.push(e))})),n}return e.filter((function(e){return e.visible}))}))).extend({deferred:!0}),t.resourceVisibleColumns.set(o,i)}return i},t.getPersistedBrowseColumns=R,t.getResourceTypeKey=B,t.setPersistedBrowseColumns=function(e,n,r,o,i,a){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");if(a)e.get(m.DataContext).getSavedBrowseView(a).then((function(t){t&&(t.gridColumns=i,e.get(m.DataContext).updateSavedBrowseViewDetails(t),_.trace({action:i?"BrowseViewSetColumns":"BrowseViewResetColumns",source:M,data:{resourceType:n,viewId:a,scopeResourceType:r,columns:i}}))}));else{var s=R(n,r,o),l=i&&i.map((function(e){return{id:e.id,visible:e.visible}}));s(l);var u=Object.create(null);u[A]=Object.create(null),t.resourcePersistedColumns.forEach((function(e,t){u[A][t]=ko.unwrap(e)})),e.get(v.UserSettingsHelper).writeSettings(u,void 0,o>1?15:void 0),p.Browse.onBrowseColumnsUpdatedEndPoint.invoke(e.get(FxImpl.Rpc.Client),"fxw",{store:o>1?15:6,columns:u[A]}),_.trace({action:i?"BrowseSetColumns":"BrowseResetColumns",source:M,data:{resourceType:n,scopeResourceType:r,columns:i?l:null}})}};MsPortalFx.Extension.BrowseType;var b=MsPortalFx.Extension.ResourceRoutingType,x=MsPortalFx.Azure,C=MsPortalFx.UnitConversionUtil,_=(MsPortalFx.Assets.ResourceColumnIds,MsPortalFx.Base.Diagnostics.Telemetry),w=MsPortalFx.Base.Diagnostics.createLog(e),P=(0,o.memoizePromise)((function(){return n.require("FxHubs/MarketplaceRpc")})),E=function(e){return new i.PdlBladeReference("GalleryResultsListBlade","Microsoft_Azure_Marketplace",e)},F=function(e){return new i.PdlBladeReference("GalleryFeaturedMenuItemBlade","Microsoft_Azure_Marketplace",e)},M="ColumnChooser",S='\x3c!-- ko if: value --\x3e<div data-bind="pcControl:value"></div>\x3c!-- /ko --\x3e',I="tags.",k=5,A=h.Keys.browseColumnsSettings;t.initializedFromSettings={},t.resourcePersistedColumns=new Map,t.resourceVisibleColumns=new Map,t.resourceDefaultColumns=new Map,t.columnIdToStringMap=((g={})[1]="name",g[2]="kind",g[3]="resourceGroup",g[4]="location",g[5]="locationId",g[6]="resourceId",g[7]="resourceGroupId",g[8]="resourceType",g[9]="subscription",g[10]="subscriptionId",g[11]="assetType",g[12]="tagsArray",g[13]="edgeZone",g),t.columnIdToArgColumn=((y={})[6]="id",y[8]="type",y[12]="tags",y[13]="extendedLocation",y),t.defaultDateTimeFormat=FxImpl.Intl.DateTimeFormat.create({year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});t.numberFormatter=function(e,t){if("number"!=typeof e)return e;var n=e;if(t.sourceUnits){var r=C.getAppropriateUnit(n,C.Unit[C.Unit[t.sourceUnits]]),o=C.getConversionFactor(C.Unit[C.Unit[t.sourceUnits]],r),i=C.toString(r,!0);return o&&1!==o&&(n/=o),d.NumberFormat.create({maximumFractionDigits:t.maximumFractionDigits}).format(n)+" "+i}return d.NumberFormat.create({maximumFractionDigits:t.maximumFractionDigits}).format(n)};t.dateFormatter=function(e,n){var r=Date.parse(e);return isNaN(r)?e:t.defaultDateTimeFormat.format(new Date(r))};function T(e,n,r){if(!t.initializedFromSettings[e]||r)return t.initializedFromSettings[e]=Promise.resolve(),MsPortalFx.forEachKey(n,(function(e,n){O(t.resourcePersistedColumns,e.toLowerCase())(n)})),!0}function D(e,n,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return N(t.resourceDefaultColumns,e,n,r)}function R(e,n,r){if(!t.initializedFromSettings)throw new Error("Columns not initialized, call initializeColumns() first");return N(t.resourcePersistedColumns,e,n,r)}function B(e,t,n){return n>1?(e+(t?"|"+t:"")+"."+n.toString()).toLowerCase():(e+(t?"|"+t:"")).toLowerCase()}function N(e,t,n,r){return O(e,B(t,n,r))}function O(e,t){var n=e.get(t);return n||(n=ko.observable(),e.set(t,n)),n}t.getColumnName=function(e){return"string"==typeof e?e:t.columnIdToArgColumn[e]||t.columnIdToStringMap[e]},t.knownArgTopLevelOperatorsLowerCased=["count","distinct","extend","join","limit","mvexpand","mv-expand","order","parse","project","project-away","sort","summarize","take","top","union","where"],t.getBrowsePreRequisitesMemoized=n.memoizePromise((function(e){return l.ArtBrowse.getBrowsePrereqsEndpoint.invoke(FxImpl.Rpc.client,"fxw",e)}),{cacheFactory:function(){return new c.MapWithKeyTransform({sourceToInternal:function(e){var t;return(null==e?void 0:e.resourceTypeKey)||(null===(t=null==e?void 0:e.resourceType)||void 0===t?void 0:t.toLowerCase())}})}})})),
define("FxHubs/ArtHelpers/ArtApis",["require","exports","FxHubs/ArmHelpers/ArmApisStartup","Fx/Ajax","Fx"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromArt=function(e,t,a,d,p,f){var m=MsPortalFx.getFeatureValue("argapiversion"),h=encodeURIComponent(m);m?e.options?e.options.resultFormat||(e.options.resultFormat="table"):e.options={$top:1e3,resultFormat:"table"}:e.options?e.options.resultFormat||(e.options.resultFormat="table"):e.options={resultFormat:"table"};var v=m?h:(null==d?void 0:d.apiVersion)||"2021-03-01",g=(null==f?void 0:f.retryTimeoutsInSeconds)||[5,10,60],y=-1,b=null==f?void 0:f.skipErrorLogging,x=function(){return r.batch({uri:(0,n.getAbsoluteArmUri)("/providers/Microsoft.ResourceGraph".concat((null==d?void 0:d.usePPE)?".PPE":"","/resources?api-version=").concat(v)),setTelemetryHeader:t,type:"POST",content:e,options:a||1}).then((function(e){return __assign(__assign({},e.content),{correlationId:e.headers[s],tenantMaxSubscriptionLimit:e.headers[l]?Number(e.headers[l]):void 0,tenantSubscriptionLimitHit:e.headers[u]?"true"===e.headers[u].toLowerCase():void 0,httpStatusCode:e.httpStatusCode})}),(function(e){var n=MsPortalFx.getLogFriendlyMessage({commandName:t,apiVersion:v,error:e}),r=FxImpl.Azure.buildSimplifiedError(e).message||"";if(429!==e.httpStatusCode||(null==f?void 0:f.skipRetryHandling)){if(400===e.httpStatusCode&&r.toLowerCase().includes("novalidsubscriptionsinqueryrequest"))return!b&&i.warning(n,e.httpStatusCode,e),{};403===e.httpStatusCode||401===e.httpStatusCode||p&&(null==n?void 0:n.includes("InvalidQuery"))?!b&&i.warning(n,e.httpStatusCode,e):e.httpStatusCode&&!b&&i.error(n,e.httpStatusCode,e)}else{if(!(++y>g.length-1)){var a=c(e)||g[y];return!b&&i.warning(n+" - retry in ".concat(a," seconds"),e.httpStatusCode,e),(null==f?void 0:f.notifyRetry)&&(null==f||f.notifyRetry(n,y,a)),o.delay(1e3*a).then((function(){return x()}))}!b&&i.error(n,e.httpStatusCode,e)}throw e}))};return x()},t.getRetryAfterSeconds=c,t.getRetryAfterMinutes=function(e){return c(e)&&Math.max(Math.ceil(c(e)/a),1)};var i=MsPortalFx.Base.Diagnostics.createLog(e),a=60,s="x-ms-correlation-request-id",l="x-ms-tenant-max-subscription-limit",u="x-ms-tenant-subscription-limit-hit";function c(e){return 429===e.httpStatusCode&&e.headers?Math.max(Number(e.headers["Retry-After"])||0,1):0}})),
define("FxHubs/ArtHelpers/KustoQueryGenerator",["require","exports","Fx/Errors","FxHubs/Resources/KustoClientStrings"],(function(e,t,n,r){var o,i,a,s,l,u,c,d,p,f,m;Object.defineProperty(t,"__esModule",{value:!0}),t.KustoQueryGenerator=t.buildNamePrioritizationCleanupPredicate=t.buildNamePrioritizationPredicateExcludeTags=t.buildNamePrioritizationPredicate=t.tagKeyClauses=t.tagsLowerCasePredicate=t.log=void 0,t.wrapColumnWithCastFunction=k,t.extendColumnWithCastFunctionWrappedColumn=function(e,t){var n=k(e,t);return n===e?null:"extend ".concat(e,"=").concat(n)},t.encodeKustoValue=T,t.getPredicate=D,t.buildDisplayNameMapProvider=function(e){var t=[],n=h[e.comparisonTypeOverride||7];if(MsPortalFx.forEachKey(e.displayNameMapFunc()||{},(function(r,o){e.subValueColumnName&&o.subValueDisplayNames&&MsPortalFx.forEachKey(o.subValueDisplayNames,(function(o,i){t.push("(".concat(e.columnName," ").concat(n," ").concat(T(r,e.skipColumnNameTrim),") and (").concat(e.subValueColumnName," ").concat(n," ").concat(T(o,e.skipColumnNameTrim),"),").concat(T(i,e.skipDisplayNameTrim),","))})),t.push("".concat(e.columnName," ").concat(n," ").concat(T(r,e.skipColumnNameTrim),",").concat(T(null==o?void 0:o.displayName,e.skipDisplayNameTrim),","))})),t.length){if(t.length>700){for(var r=[],o=[],i=0;i<t.length;i+=700){var a=Math.min(i+700,t.length),s=t.slice(i,a),l="".concat(e.mappedColumnName).concat(o.length+1);o.push(l),r.push("extend ".concat(l,"=case(").concat(s.join(""),'"")'))}return"".concat(r.join("|"),"|extend ").concat(e.mappedColumnName,"=coalesce(").concat(o.join(","),",").concat(e.columnName,")")}return"extend ".concat(e.mappedColumnName,"=case(").concat(t.join("")).concat(e.columnName,")")}return"extend ".concat(e.mappedColumnName,"=").concat(e.columnName)},t.buildValueToStringMapProvider=function(e){return"extend ".concat(e.mappedColumnName,"=tostring(").concat(e.columnName,")")},t.buildIifMapProvider=function(e){return"extend ".concat(e.mappedColumnName,"=iif(").concat(e.predicate,",").concat(e.trueValue,",").concat(e.falseValue,")")},t.buildSubscriptionUniqueDisplayNameMapProvider=function(){return"extend uniqueDisplayName=strcat(iif(properties.state=~'disabled','(disabled) ',''),name,' (',subscriptionId,')')"},t.log=MsPortalFx.Base.Diagnostics.createLog(e);var h=((o={})[1]="contains_cs",o[2]="==",o[3]="in",o[4]="startswith_cs",o[5]="endswith_cs",o[6]="contains",o[7]="=~",o[8]="in~",o[9]="startswith",o[10]="endswith",o[11]="!contains_cs",o[12]="!=",o[13]="!in",o[14]="!startswith_cs",o[15]="!endswith_cs",o[16]="!contains",o[17]="!~",o[18]="!in~",o[19]="!startswith",o[20]="!endswith",o[21]="isempty({0})",o[22]="isnull({0})",o[25]="has",o[26]="<",o[27]=">",o[28]="<=",o[29]=">=",o[30]="between ({0}..{1})",o[31]="!between ({0}..{1})",o[23]="isnotempty({0})",o[24]="isnotnull({0})",o),v=((i={})[2]="and",i[1]="or",i),g=((a={})[21]=!0,a[23]=!0,a[22]=!0,a[24]=!0,a),y=((s={})[3]=!0,s[13]=!0,s[8]=!0,s[18]=!0,s[30]=!0,s[31]=!0,s),b=((l={})[2]=3,l[7]=8,l[12]=13,l[17]=18,l),x=((u={})[21]=!0,u[23]=!0,u[22]=!0,u[24]=!0,u[30]=!0,u[31]=!0,u),C={},_=function(e,t){t.forEach((function(t){return C[t]=e}))};_("or",[1,2,4,5,6,7,9,10,23,24,26,27,28,29,3,8,25]),_("and",[11,12,14,15,16,17,19,20,21,22,13,18]);var w=((c={})[2]=21,c[7]=21,c[12]=23,c[17]=23,c),P=((d={})[2]=22,d[7]=22,d[12]=24,d[17]=24,d),E='"'+[r.Months.jan,r.Months.feb,r.Months.mar,r.Months.apr,r.Months.may,r.Months.jun,r.Months.jul,r.Months.aug,r.Months.sep,r.Months.oct,r.Months.nov,r.Months.dec].join('","')+'"',F='"'+[r.Days.sun,r.Days.mon,r.Days.tue,r.Days.wed,r.Days.thu,r.Days.fri,r.Days.sat].join('","')+'"',M=((p={})[2]=function(e){return"tolower(tostring(".concat(e,"))")},p[3]=function(e){return"tostring(".concat(e,")")},p[4]=function(e){return"todatetime(".concat(e,")")},p[5]=function(e){return"todouble(".concat(e,")")},p[6]=function(e){return"tobool(".concat(e,")")},p[7]=function(e){return"totimespan(".concat(e,")")},p[8]=function(e){return"todecimal(".concat(e,")")},p[9]=function(e){return"bin(todatetime(".concat(e,"),1d)")},p[10]=function(e){return'make_datetime(datetime_part("Year",todatetime('.concat(e,')),datetime_part("Month",todatetime(').concat(e,")),1)")},p[11]=function(e){return'make_datetime(datetime_part("Year",todatetime('.concat(e,")),1,1)")},p[12]=function(e){return'make_datetime(datetime_part("Year",todatetime('.concat(e,')),datetime_part("Month",todatetime(').concat(e,")),1)")},p[13]=function(e){return"hourofday(todatetime(".concat(e,"))")},p[14]=function(e){return"hourofday(todatetime(".concat(e,"))")},p[15]=function(e){return"dayofweek(todatetime(".concat(e,"))")},p[16]=function(e){return"dayofmonth(todatetime(".concat(e,"))")},p[17]=function(e){return"monthofyear(todatetime(".concat(e,"))")},p[18]=function(e){return'datetime_part("Year",todatetime('.concat(e,"))")},p[19]=function(e){return"ago(".concat(e,")")},p),S=((f={})[12]=function(e){return"strcat(tostring(dynamic([".concat(E,"])[toint(monthofyear(").concat(e,')-1)]),", ",format_datetime(').concat(e,',"yyyy"))')},f[14]=function(e){return"tolower(format_datetime(make_datetime(2020,1,1,".concat(e,',0,0),"h tt"))')},f[15]=function(e){return"tostring(dynamic([".concat(F,"])[toint(format_timespan(").concat(e,',"d"))])')},f[17]=function(e){return"tostring(dynamic([".concat(E,"])[toint(").concat(e,"-1)])")},f),I=((m={})[19]=!0,m);function k(e,t){return(M[t]||MsPortalFx.identity)(e)}var A={"'":"\\'","\\":"\\\\"};function T(e,t,n){if(!(e=e&&ko.toJS(e))||"string"!=typeof e)return n?e||"":"'"+(e||"")+"'";var r=function(e){if(!e)return e;for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<32){for(var o=r.toString(16);o.length<2;)o="0"+o;t+="\\x"+o}else t+=e.charAt(n)}return t}(MsPortalFx.replaceMany(t?e:e.trim(),A));return n?r:"'"+r+"'"}function D(e,t,n,r,o,i,a,s,l,u){var c=" ".concat(i&&C[e]||"or"," ");if(o)return t.map((function(t){return"(".concat(h[e].format(t),")")})).join(c);var d=a?"((".concat(a.prefixText,") ").concat(v[a.operator]," ("):"",p=a?"))":"",f=function(e,t){var n;return x[e]?(n=h[e]).format.apply(n,t):1===t.length?"".concat(h[e]," (").concat(t[0],")"):"".concat(h[e]," (").concat(t.join(","),")")},m=I[l];if(y[e])return d+t.map((function(t){return t=u?(M[s]||MsPortalFx.identity)(t):t,"(".concat(t," ").concat(f(e,n.map((function(e){var t="string"==typeof e?T(e,r,m):e.toString();return u?(M[l]||MsPortalFx.identity)(t):t}))),")")})).join(c)+p;if(n.length>1){var g=b[e];if(g){var _=n.map((function(e){return null===e?null:"string"==typeof e?T(e,r,m):e.toString()})),E=w[e],F=P[e],k=E&&_.some((function(e){return"''"===e}));k&&(_=_.filter((function(e){return"''"!==e})));var A=F&&_.some((function(e){return null===e}));return A&&(_=_.filter((function(e){return null!==e}))),d+t.map((function(t){var n=1!==_.length?"(".concat(t," ").concat(f(g,_),")"):"(".concat(t," ").concat(f(e,_),")");return k&&A?"(".concat([n,"(".concat(f(E,[t]),")"),"(".concat(f(F,[t]),")")].join(c),")"):k?"(".concat([n,"(".concat(f(E,[t]),")")].join(c),")"):A?"(".concat([n,"(".concat(f(F,[t]),")")].join(c),")"):n})).join(c)+p}}return d+t.map((function(t){return n.map((function(n){if(null===n&&(o=P[e]))return"(".concat(f(o,[t]),")");var o,i="string"==typeof n?T(n,r,m):n.toString();if("''"===i&&(o=w[e]))return"(".concat(f(o,[t]),")");return t=(M[s]||MsPortalFx.identity)(t),S[s]&&(t=(S[s]||MsPortalFx.identity)(t)),i=(M[l]||MsPortalFx.identity)(i),"(".concat(t," ").concat(f(e,[i]),")")})).join(" ".concat(C[e]," "))})).join(c)+p}t.tagsLowerCasePredicate="extend tagsLowerCase = todynamic(tolower(tostring(tags)))",t.tagKeyClauses=["extend tagKeys=bag_keys(tags)","extend lowerTagKeys=bag_keys(parse_json(tolower(tostring(tags))))"];t.buildNamePrioritizationPredicate=function(e,t){return"extend ".concat(e,"=iif(((array_slice(split(tostring(name),'/'),-1,-1)[0]=~(").concat(T(t),"))or(tostring(tagsLowerCase['hidden-title'])=~(").concat(T(t),"))),100,iif(((array_slice(split(tostring(name),'/'),-1,-1)[0]startswith(").concat(T(t),"))or(tostring(tagsLowerCase['hidden-title'])startswith(").concat(T(t),"))),99,iif(((array_slice(split(tostring(name),'/'),-1,-1)[0]endswith(").concat(T(t),"))or(tostring(tagsLowerCase['hidden-title'])endswith(").concat(T(t),"))),98,iif(((tostring(name)contains(").concat(T(t),"))or(tostring(tagsLowerCase['hidden-title'])contains(").concat(T(t),"))),97,0))))")};t.buildNamePrioritizationPredicateExcludeTags=function(e,t){return"extend ".concat(e,"=iif((array_slice(split(tostring(name),'/'),-1,-1)[0]=~(").concat(T(t),")),100,iif((array_slice(split(tostring(name),'/'),-1,-1)[0]startswith(").concat(T(t),")),99,iif((array_slice(split(tostring(name),'/'),-1,-1)[0]endswith(").concat(T(t),")),98,iif((tostring(name)contains(").concat(T(t),")),97,0))))")};function R(e,r){var o={},i={};return e.forEach((function(a){var s=a.split("=",2).map((function(e){return e.trim()})),l=s[0];if(o[l]){if(!!i[l].assignment!=(1!==s.length))throw new n.FxError({message:"One or more than one column in the "+r+" columns had an assignment ("+l+") which did not match: "+e.join(", ")});if(i[l].assignment&&s[1]!==i[l].assignment)throw new n.FxError({message:"More than one column in the "+r+" columns had an assignment ("+l+") which did not match: "+e.join(", ")});t.log.warning(new n.FxError({message:"Setting the "+r+" columns with a duplicate column name ("+l+"): "+e.join(", ")}))}else o[l]=!0,i[l]={assignment:s[1]}})),Object.keys(i).map((function(e){return e+(i[e].assignment?"="+i[e].assignment:"")}))}t.buildNamePrioritizationCleanupPredicate=function(e){return"project-away ".concat(e)};var B=function(){function e(e,t,n,r){this._mappingProviders=[],this._queryProviders=[],this._expansionProviders=[],this._postExpandMappingProviders=[],this._postExpandQueryProviders=[],this._summarizeQueryProviders=[],this._summarizeColumnExtensions=[],this._postSummarizeQueryProviders=[],this._prefixPredicates=[],this._suffixPredicates=[],this._preSortPredicates=[],this._preSortQueryProviders=[],this._postSortPredicates=[],this.query=ko.observable(""),this._sortProviders=e&&__spreadArray([],e,!0)||[];var o=R(t||[],"projected");this._projectedColumns=__spreadArray([],o,!0),this._summarizedColumns=n&&__spreadArray([],n,!0)||[],this._defaultQueryPredicate=r}return e.prototype.setSources=function(e){this._sources=e},e.prototype.getSources=function(){return this._sources},e.prototype.setIncludeSubscriptionNameJoin=function(e){this._includeSubscriptionNameJoin=e},e.prototype.getIncludeSubscriptionNameJoin=function(){return this._includeSubscriptionNameJoin},e.prototype.setDefaultQueryPredicate=function(e){this._defaultQueryPredicate=e},e.prototype.getDefaultQueryPredicate=function(){return this._defaultQueryPredicate},e.prototype.setMappingProviders=function(e){var t;(t=this._mappingProviders).splice.apply(t,__spreadArray([0,this._mappingProviders.length],e||[],!1))},e.prototype.getMappingProviders=function(){var e;return(null===(e=this._mappingProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setQueryProviders=function(e){var t;(t=this._queryProviders).splice.apply(t,__spreadArray([0,this._queryProviders.length],e||[],!1))},e.prototype.getQueryProviders=function(){var e;return(null===(e=this._queryProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setExpansionProviders=function(e){var t;(t=this._expansionProviders).splice.apply(t,__spreadArray([0,this._expansionProviders.length],e||[],!1))},e.prototype.getExpansionProviders=function(){var e;return(null===(e=this._expansionProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setPostExpandMappingProviders=function(e){var t;(t=this._postExpandMappingProviders).splice.apply(t,__spreadArray([0,this._postExpandMappingProviders.length],e||[],!1))},e.prototype.getPostExpandMappingProviders=function(){var e;return(null===(e=this._postExpandMappingProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setPostExpandQueryProviders=function(e){var t;(t=this._postExpandQueryProviders).splice.apply(t,__spreadArray([0,this._postExpandQueryProviders.length],e||[],!1))},e.prototype.getPostExpandQueryProviders=function(){var e;return(null===(e=this._postExpandQueryProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setSummarizeQueryProviders=function(e,t,n){var r,o;(r=this._summarizeQueryProviders).splice.apply(r,__spreadArray([0,this._summarizeQueryProviders.length],e||[],!1)),this._removeProjectedColumns=t,(o=this._summarizeColumnExtensions).splice.apply(o,__spreadArray([0,this._summarizeColumnExtensions.length],n||[],!1))},e.prototype.setSummarizeQuery=function(e,t){this._summarizeQuery=e,this._removeProjectedColumns=t,this._summarizeColumnExtensions.splice(0,this._summarizeColumnExtensions.length)},e.prototype.setPostSummarizeQueryProviders=function(e){var t;(t=this._postSummarizeQueryProviders).splice.apply(t,__spreadArray([0,this._postSummarizeQueryProviders.length],e||[],!1))},e.prototype.setSortProviders=function(e){var t;(t=this._sortProviders).splice.apply(t,__spreadArray([0,this._sortProviders.length],e||[],!1))},e.prototype.getSortProviders=function(){var e;return(null===(e=this._sortProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setProjectedColumns=function(e){var t,n=R(e||[],"projected");(t=this._projectedColumns).splice.apply(t,__spreadArray([0,this._projectedColumns.length],n,!1))},e.prototype.getProjectedColumns=function(){var e;return(null===(e=this._projectedColumns)||void 0===e?void 0:e.slice())||[]},e.prototype.setPreSortPredicates=function(e){var t;(t=this._preSortPredicates).splice.apply(t,__spreadArray([0,this._preSortPredicates.length],e||[],!1))},e.prototype.getPreSortPredicates=function(){var e;return(null===(e=this._preSortPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setPostSortPredicates=function(e){var t;(t=this._postSortPredicates).splice.apply(t,__spreadArray([0,this._postSortPredicates.length],e||[],!1))},e.prototype.getPostSortPredicates=function(){var e;return(null===(e=this._postSortPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setPreSortQueryProviders=function(e){var t;(t=this._preSortQueryProviders).splice.apply(t,__spreadArray([0,this._preSortQueryProviders.length],e||[],!1))},e.prototype.getPreSortQueryProviders=function(){var e;return(null===(e=this._preSortQueryProviders)||void 0===e?void 0:e.slice())||[]},e.prototype.setPrefixPredicates=function(e){var t;(t=this._prefixPredicates).splice.apply(t,__spreadArray([0,this._prefixPredicates.length],e||[],!1))},e.prototype.getPrefixPredicates=function(){var e;return(null===(e=this._prefixPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setSuffixPredicates=function(e){var t;(t=this._suffixPredicates).splice.apply(t,__spreadArray([0,this._suffixPredicates.length],e||[],!1))},e.prototype.getSuffixPredicates=function(){var e;return(null===(e=this._suffixPredicates)||void 0===e?void 0:e.slice())||[]},e.prototype.setInlineDataSource=function(e){this._inlineDataSource=e},e.prototype.updateQuery=function(e,t){var n=[];if(this._sources&&!t){var r=[];1&~this._sources||r.push("resources");var o=[];if(2&~this._sources||o.push("microsoft.resources/subscriptions/resourcegroups"),4&~this._sources||o.push("microsoft.resources/subscriptions"),o.length&&r.push("(resourcecontainers|where type in~ ('"+o.join("','")+"'))"),r.length){n.push(r[0]);for(var i=1;i<r.length;i++)n.push("union("+r[i]+")")}}var a=this._prefixPredicates;if((a||[]).length&&n.push.apply(n,a),this._defaultQueryPredicate&&n.push(this._defaultQueryPredicate),this._inlineDataSource){var s=this._inlineDataSource.dataTableHeader,l=this._inlineDataSource.upstreamDataFilterColumn;if(l){var u;s.some((function(e,t){var n=e[0];e[1];if(n===l)return u=t,!0}));var c=this._inlineDataSource.dataTableRows.map((function(e){return e[u]}));if(null==c?void 0:c.length){var d="where (".concat(D(13,[l],c),")");n.push(d)}}var p="union (datatable (".concat(s.map((function(e){var t=e[0],n=e[1];return"['".concat(t,"']: ").concat(n)})).join(", "),")[").concat(this._inlineDataSource.dataTableRows.map((function(e){return e.map((function(e){return"string"==typeof e?T(e):"dynamic({".concat(Object.keys(null!=e?e:{}).map((function(t){return"".concat(T(t),":").concat(T(e[t]))})),"})")})).join(", ")})).join(", "),"])");n.push(p)}this._includeSubscriptionNameJoin&&(n.push('join kind=leftouter (resourcecontainers|where type =~ "microsoft.resources/subscriptions"|project subscriptionDisplayName=strcat(iif(properties.state=~"disabled","(disabled) ",""),name," (",subscriptionId,")"),subscriptionId) on $left.subscriptionId == $right.subscriptionId'),n.push("project-away subscriptionId1")),this._mappingProviders.forEach((function(e){return n.push(e)}));var f=function(e,t){e.forEach((function(e){var r=e.comparisonType?{queryProviders:[e],operator:2}:e,o=(r.queryProviders||[]).reduce((function(e,n){var o=g[n.comparisonType],i=D(n.comparisonType,MsPortalFx.makeArray(n.columnName),!o&&MsPortalFx.makeArray(n.value),n.skipValueTrim,o,n.useOperatorMapForMultipleColumns,n.prefix,n.castFunction,n.valueCastFunction,t);if(i){var a="",s=n.nestedQueryProvider;if(s){var l=g[s.comparisonType],u=D(s.comparisonType,[s.columnName],!l&&MsPortalFx.makeArray(s.value),s.skipValueTrim,o);if(u){var c=v[s.operatorOverride||2];a="".concat(c," (").concat(u,")")}}var d="".concat(i," ").concat(a);return n.negate&&(d="not(".concat(d,")")),(d=d.trim())&&(e?(e.multipleClauses=!0,e.accumulation="".concat(e.accumulation,") ").concat(v[r.operator]," (").concat(d)):e={accumulation:d}),e}}),null);(null==o?void 0:o.accumulation)&&(o.multipleClauses?n.push("where (".concat(o.accumulation,")")):n.push("where ".concat(o.accumulation)))}))};f(this._queryProviders,!0),this._expansionProviders.forEach((function(e){n.push("extend ".concat(e.expandedTargetColumn,"=").concat(e.sourceColumn)),n.push("mvexpand bagexpansion=array ".concat(e.expandedTargetColumn))})),this._postExpandMappingProviders.forEach((function(e){return n.push(e)})),f(this._postExpandQueryProviders),n.push.apply(n,this._summarizeColumnExtensions.map((function(e){if(e.extendColumn!==e.column||e.castFunction>1){var t=M[e.castFunction]||MsPortalFx.identity;return"extend ".concat(e.extendColumn,"=").concat(t(e.column))}})).filter((function(e){return!!e})));var m=this._projectedColumns;this._summarizeQueryProviders.forEach((function(e){var t=[];(e.countColumns||[]).forEach((function(e){t.push("".concat(e,"=count()"))}));var r=MsPortalFx.extendArrayIntoMap(Object.create(null),e.wrappedColumns||[],MsPortalFx.identity,(function(e){return!0})),o=[],i=[];m.forEach((function(e){r[e]?o.push("".concat(e,"=any(").concat(e,")")):i.push(e)})),e.wrappedColumnsFirst?t.unshift.apply(t,o):t.push.apply(t,o),n.push("summarize ".concat(t.join(",")," by ").concat(i.join(",")))})),this._summarizeQuery&&n.push(this._summarizeQuery),f(this._postSummarizeQueryProviders),(m||[]).length&&!this._removeProjectedColumns&&n.push("project ".concat(m.join(",")));var h=this._preSortPredicates;(h||[]).length&&n.push.apply(n,h),f(this._preSortQueryProviders);var y=this._sortProviders;if((y||[]).length){var b=y.map((function(e){var t=(M[e.castFunction||2]||MsPortalFx.identity)(e.sortBy);return"(".concat(t.replaceAll(".","_"),") ").concat(1===e.order?"asc":"desc")})).join(",");n.push("sort by ".concat(b))}var x=this._postSortPredicates;(x||[]).length&&n.push.apply(n,x);var C=(this._summarizeColumnExtensions||[]).filter((function(e){return!e.keepExtendedColumn}));C.length&&n.push("project-away ".concat(C.map((function(e){return e.extendColumn})).join(","))),n.push.apply(n,this._summarizeColumnExtensions.map((function(e){var t=S[e.castFunction];return t&&"extend ".concat(e.extendColumn,"=").concat(t(e.column))})).filter((function(e){return!!e})));var _=this._summarizedColumns;(_||[]).length&&n.push("summarize by ".concat(_.join(",")));var w=this._suffixPredicates;(w||[]).length&&n.push.apply(n,w),e&&n.push(e);var P=n.join("|");return this.query(P),P},e}();t.KustoQueryGenerator=B})),
define("FxHubs/ArtHelpers/KustoQueryHelpers",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.buildTypeExclusionQueryProvider=function(e){return{columnName:"type",comparisonType:17,value:e}},t.buildTypeInclusionQueryProvider=function(e){return{columnName:"type",comparisonType:7,value:e}},t.buildTypeKindsExclusionQueryProvider=function(e,t){return{columnName:"type",comparisonType:7,value:e,negate:!0,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t}}},t.buildTypeExclusionWithKindInclusionQueryProvider=function(e,t){return{columnName:"type",comparisonType:17,value:e,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t,operatorOverride:1}}},t.buildTypeWithKindInclusionQueryProvider=function(e,t){return{columnName:"type",comparisonType:7,value:e,nestedQueryProvider:{columnName:"kind",comparisonType:7,value:t}}},t.smartQuerySplit=function(e){var t=0,n=0,r=0,o=[];for(;n<e.length;){var i=e[n++];if("("===i)++t;else if(")"===i)--t;else if("|"===i&&!t){var a=e.substring(r,n-1);a.length>0&&o.push(a.trim()),r=n}}var s=e.substring(r);s.length>0&&o.push(s.trim());return o}})),
define("FxInternal/Redirect",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.switchTenant=t.refreshPortal=t.forceSignInEndPoint=void 0,t.forceSignInEndPoint=new FxImpl.Rpc.FuncEndPointDefinition("FxInternal.RpcMethods.forceSignIn"),t.refreshPortal=new FxImpl.Rpc.FuncEndPointDefinition("FxInternal.RpcMethods.refreshPortal"),t.switchTenant=new FxImpl.Rpc.FuncEndPointDefinition("FxInternal.RpcMethods.switchToTenant")})),
define("FxHubs/ArtHelpers/ZeroSubsExperience",["require","exports","Fx/Controls/CustomHtml","Fx/Composition","FxHubs/Resources/FxHubsClientStrings","Fx/Ajax","FxHubs/ArtHelpers/ArtApis","Fx/Controls/Button","FxHubs/Resources/FxHubsClientStrings","FxInternal/Redirect"],(function(e,t,n,r,o,i,a,s,l,u){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=void 0,t.getZeroSubsPanels=h,t.getZeroSubsExperienceView=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,i,a,s,l;return __generator(this,(function(u){switch(u.label){case 0:return r=t.telemetrySource,[4,b()];case 1:return i=u.sent(),a=i.showTenantSwitchView,s=i.tenantSwitchingTo,a?[2,v(e,s,r)]:[4,y()];case 2:return u.sent()?[2,g(e,r)]:(l=h(t),p.trace({source:r,action:"ZeroSubsShown"}),[2,n.create(e,{htmlTemplate:"<div class='ext-browse-zerosubs-title' data-bind='text: title'></div><div class='ext-browse-zerosubs-subtitle' data-bind='text: subtitle'></div><ul class='ext-hubs-zerosubs-panels' data-bind='foreach: panels'><li class='ext-hubs-zerosubs-panel'><div class='ext-hubs-zerosubs-panel-image ext-hubs-zerosubs-panel-bkgrnd' data-bind='image: icon'></div><div class='ext-browse-zerosubs-panel-title' data-bind='text: panelTitle'></div><div class='ext-browse-zerosubs-panel-description'>\x3c!-- ko if: $data.freeServiceClickableLink --\x3e<span>"+o.ZeroSubs.freeTrialDescription.format("<a data-bind='fxclick: freeServiceClickableLink'>".concat(o.ZeroSubs.freeServices,"</a>"))+"</span>\x3c!-- /ko --\x3e\x3c!-- ko ifnot: $data.freeServiceClickableLink --\x3e<span data-bind='text: panelDescription'></span>\x3c!-- /ko --\x3e</div><div class='ext-browse-zerosubs-panel-actions'><a class='ext-browse-zerosubs-panel-actionbutton ext-browse-zerosubs-panel-actionbuttoncolor' data-bind='text: buttonText, fxclick: buttonClickableLink'></a>\x3c!-- ko if: $data.link --\x3e<div class='ext-browse-zerosubs-panel-linkdetails'><a role='link' class='ext-browse-zerosubs-panel-linktext' data-bind='text: linkText, fxclick: learnMoreClickableLink, attr: { aria-label: learnMoreLinkAriaLabel }'></a><span class='ext-browse-zerosubs-panel-linkicon' data-bind='image: MsPortalFx.Base.Images.Hyperlink()'></span></div>\x3c!-- /ko --\x3e</div></li></ul>",innerViewModel:{title:o.ZeroSubs.title,subtitle:o.ZeroSubs.subTitle,panels:l}})])}}))}))},t.hasSubscriptionAsync=y,t.shouldShowTenantSwitchView=b;var c,d,p=MsPortalFx.Base.Diagnostics.Telemetry,f="resourcecontainers\r\n| where type == 'microsoft.resources/subscriptions'\r\n| count\r\n| project-rename count = Count";function m(e,t,n,o){return new r.ClickableLink(t,o?"_blank":"_self",o?"noopener":"",(function(){p.trace({source:e,action:"ZeroSubsClick",name:n})}))}function h(e){var t=e.telemetrySource,n=e.isGitHubUser,r=MsPortalFx.getEnvironmentValue("zeroSubs");return null==r?void 0:r.panel.filter((function(e){return!!e.titleResxKey})).map((function(e){return function(e){var r,i="true"===String(e.newWindow),a={panelTitle:o.ZeroSubs[e.titleResxKey],panelDescription:o.ZeroSubs[e.descResxKey],buttonText:o.ZeroSubs[e.buttonResxKey],newWindow:i,buttonClickableLink:m(t,e.buttonUri,e.telemetryName+"_Button",i),icon:MsPortalFx.Base.Images.Polychromatic[e.icon](),linkText:o.ZeroSubs.learnMore,link:e.linkUri,learnMoreClickableLink:m(t,e.linkUri,e.telemetryName+"_LearnMore",!0),freeServiceClickableLink:!!e.innerUri&&m(t,e.innerUri,e.telemetryName+"_FreeServices",!1)};if(n&&"aadtitle"===(null===(r=null==e?void 0:e.titleResxKey)||void 0===r?void 0:r.toLowerCase())){var s="https://azure.microsoft.com/products/github",l="GitHub";a={icon:MsPortalFx.Base.Images.Polychromatic.AzureGithub(),panelTitle:o.ZeroSubs.gitHubTitle,panelDescription:o.ZeroSubs.gitHubDescription,newWindow:!0,buttonText:o.ZeroSubs.exploreButtonText,linkText:o.ZeroSubs.learnMore,link:s,buttonClickableLink:m(t,"https://learn.microsoft.com/azure/developer/github",l+"_Button",!0),learnMoreClickableLink:m(t,s,l+"_LearnMore",!0)}}return a?__assign(__assign({},a),{learnMoreLinkAriaLabel:o.ZeroSubs.learnMoreLinkAriaLabel.format(a.panelTitle,a.linkText)}):null}(e)})).filter((function(e){return!!e}))}function v(e,t,r){return p.trace({source:r,action:"TenantSwitchViewShown",data:{tenantSwitchingTo:t.tenantId}}),n.create(e,{htmlTemplate:'<div class="ext-hubs-zerosubs-tenant-switch">\n        <div class="ext-hubs-zerosubs-refresh-icon" data-bind="image: icon"></div>\n        <h4 class="msportalfx-font-semibold ext-hubs-zerosubs-refresh-title" data-bind="text: title"></h4>\n        <div class="ext-hubs-zerosubs-refresh-description" data-bind="text: description"></div>\n        <div data-bind="pcControl: switchButton"></div>\n        </div>',innerViewModel:{icon:MsPortalFx.Base.Images.Polychromatic.ActiveDirectory(),title:l.ZeroSubs.SwitchTenant.title,description:l.ZeroSubs.SwitchTenant.description,switchButton:(0,s.create)(e,{text:l.ZeroSubs.SwitchTenant.switchDirectory,onClick:function(){u.switchTenant.invoke(FxImpl.Rpc.client,MsPortalFx.Base.Constants.Shell,{tenant:t,telemetrySource:r})}})}})}function g(e,t){return p.trace({source:t,action:"RefreshViewShown"}),n.create(e,{htmlTemplate:'<div class="ext-hubs-zerosubs-refresh">\n        <div class="ext-hubs-zerosubs-refresh-icon" data-bind="image: icon"></div>\n        <h4 class="msportalfx-font-semibold ext-hubs-zerosubs-refresh-title" data-bind="text: title"></h4>\n        <div class="ext-hubs-zerosubs-refresh-description" data-bind="text: description"></div>\n        <div data-bind="pcControl: refreshButton"></div>\n        </div>',innerViewModel:{icon:MsPortalFx.Base.Images.ImageUri(MsPortalFx.Base.Resources.getContentUri("/Content/Images/HubsExtension/Keys.svg")),title:l.ZeroSubs.RefreshPage.title,description:l.ZeroSubs.RefreshPage.description,refreshButton:(0,s.create)(e,{icon:{image:MsPortalFx.Base.Images.Refresh(),position:0},text:l.ZeroSubs.RefreshPage.refresh,onClick:function(){u.refreshPortal.invoke(FxImpl.Rpc.client,MsPortalFx.Base.Constants.Shell,{hash:"#home",reason:"ZeroSubsExperienceRefresh",telemetrySource:t})}})}})}function y(){return __awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,s,l,u,m,h,v,g;return __generator(this,(function(y){switch(y.label){case 0:return MsPortalFx.isFeatureEnabled("testnosubscriptionrefreshpage")?[2,!0]:c&&Date.now()-c<6e4?[2,d]:(e=(0,i.batch)({uri:"/subscriptions?api-version=2024-11-01",type:"GET",setTelemetryHeader:"ZeroSubsExperience.GetArmSubscriptions"}),t=(0,a.getDataFromArt)({query:f,options:{resultFormat:"objectArray"}},"ZeroSubsExperience.GetArgSubscriptionCount",null,null,!1,{skipErrorLogging:!0}),n=p.start({source:"ZeroSubsExperience",action:"hasSubscriptionAsync"}),[4,Promise.allSettled([e,t])]);case 1:return r=y.sent(),o=r[0],s=r[1],l="fulfilled"===o.status?o.value.content:null,u=null===(v=null==l?void 0:l.count)||void 0===v?void 0:v.value,m="fulfilled"===s.status?(s.value.data||[])[0]||{}:null,h=null==m?void 0:m.count,d=u>0||h>0,c=Date.now(),p.completeTrace(n,{armSubscriptionCount:u,armSubscriptionCountType:null===(g=null==l?void 0:l.count)||void 0===g?void 0:g.type,argSubscriptionCount:h,armSubscriptionPromiseError:"rejected"===o.status?o.reason:null,argSubscriptionCountPromiseError:"rejected"===s.status?s.reason:null,showRefreshPage:d}),[2,d]}}))}))}function b(){return __awaiter(this,void 0,void 0,(function(){var e,t,n,r,o;return __generator(this,(function(i){switch(i.label){case 0:return[4,MsPortalFx.Base.Security.getUserInfo()];case 1:return e=i.sent(),(t=MsPortalFx.isFeatureEnabled("zerosubswitchtenantview"))||e.directoryId===FxImpl.internalEnv.fxAadInfrastructureTenantId?[4,x()]:[3,3];case 2:if(n=i.sent(),t||(null==n?void 0:n.length))return r={},o="",1===n.length&&(r=n.find((function(e){return e.tenantId!==FxImpl.internalEnv.fxAadInfrastructureTenantId}))||{},o=r.defaultDomain||r.domains[0]||""),p.trace({source:"ZeroSubscriptionsExperience",action:"ShouldShowTenantSwitchView",data:{armTenants:n.map((function(e){return{tenantId:e.tenantId}}))}}),[2,{showTenantSwitchView:!0,tenantSwitchingTo:{tenantId:null==r?void 0:r.tenantId,domainName:o}}];i.label=3;case 3:return[2,{showTenantSwitchView:!1,tenantSwitchingTo:null}]}}))}))}function x(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,i.batch)({uri:"/tenants?api-version=2024-11-01",type:"GET",setTelemetryHeader:"ZeroSubscriptionsExperience.GetArmTenants"})];case 1:return[2,t.sent().content.value];case 2:return e=t.sent(),p.trace({source:"ZeroSubscriptionsExperience",action:"GetArmTenantsError",data:{error:e}}),[2,[]];case 3:return[2]}}))}))}})),
define("FxHubs/Common/AssetTypeCache",["require","exports","Fx","FxInternal","FxHubs/RpcEndPoints","Fx/Errors"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.flushAssetTypes=void 0,t.getAllAssetTypesInformation=c,t.getMarketplaceExtracts=function(e){return o.AssetTypes.getAssetMarketplaceExtractsEndpoint.invoke(u.client,"fxw",e)},t.getSingleAssetTypeInformation=g,t.getResourceTypeSingleAssetTypeInformation=y,t.getMergedResourceTypeSingleAssetTypeInformation=function(t,r){return n.require(e.normalize("./BrowseCuration")).then((function(e){return e.getMergedAssetTypes().then((function(e){return y(t,r).then((function(t){if(!t)return null;var n=MsPortalFx.find(e,(function(e){return b(t,e.base)||e.associated.some((function(e){return b(t,e)}))})),r={base:t,associated:[]};if(n){var o={base:t,associated:[],infoTextOverride:n.infoTextOverride},a=[];return a.push(g(n.base).then((function(e){o.base=e}))),n.associated.forEach((function(e){a.push(g(e).then((function(e){o.associated.push(e)})))})),Promise.allSettled(a).then((function(e){return e.forEach((function(e){"fulfilled"!==e.status&&l.warning(new i.FxError({message:"Failed to find asset type: "+e.reason}))})),o}))}return r}))}))}))},t.getRegisteredResourceTypesIcons=function(){return c().then((function(e){var t={};return e.forEach((function(e){var n=e.lowerCaseResourceType;if(n){var r=e.icon||s.Images.Polychromatic.ResourceDefault();t[n]?t[n](r):t[n]=ko.observable(r)}})),t}))};var a,s=MsPortalFx.Base,l=s.Diagnostics.createLog(e),u=FxImpl.Rpc;new FxImpl.TriggerableLifetimeManager;function c(){return a||(a=o.AssetTypes.getAssetTypesInformationEndPoint.invoke(u.client,"fxw",void 0)),a}var d={},p={};function f(e){return"resourceType:"+e.lowerCaseResourceType}function m(e){return"assetType:"+e.lowerCaseExtension+e.lowerCaseAssetType}function h(e,t,n){return e||n?Promise.resolve(e):Promise.reject("Did not receive asset type information from the shell for: "+JSON.stringify(t))}function v(e,t){return r.tryImmediateResolve(function(e){var t=e.lowerCaseResourceType?f(e):m(e);return d[t]?Promise.resolve(d[t]):p[t]?p[t]:p[t]=o.AssetTypes.getSingleAssetTypeInformationEndPoint.invoke(u.client,"fxw",e).then((function(e){return e&&(d[f(e)]=d[m(e)]=e),e}))}(e),(function(n){return h(n,e,t)})).catch((function(){return h(null,e,t)}))}function g(e,t){var n={lowerCaseExtension:(e&&e.extensionName||"").toLowerCase(),lowerCaseAssetType:(e&&e.assetType||"").toLowerCase()};return e&&e.extensionName&&e.assetType?v(n,t):h(null,n,t)}function y(e,t){var n={lowerCaseResourceType:(e||"").toLowerCase()};return e?v(n,t):h(null,n,t)}function b(e,t){return e.lowerCaseExtension===t.extensionName&&e.lowerCaseAssetType===t.assetType}})),
define("FxInternal/Composition/ViewModel",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PartContext=void 0,t.isV2=function(e){return e&&e._msPortalFx_viewModelApiV2},t.markAsV2=function(e){return e._msPortalFx_viewModelApiV2=!0,e};var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"PartContext"]),n.Value("viewModel")],t)}();t.PartContext=r})),
define("FxHubs/ProvisioningRpc",["require","exports","FxHubs/RpcEndPoints"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.provisioningContextEndpoint=void 0,t.register=function(e){n.Provisioning.createPostProvisioningContentEndPoint.registerObjectFactory(e,{allowedOrigin:["fx","HubsExtension","Microsoft_Azure_Resources"],allowRemoteChanges:!0,handler:function(e){var t=new FxImpl.TriggerableLifetimeManager;return MsPortalFx.require(e.viewModelLocator.module).then((function(n){var r,o=n[e.viewModelLocator.export];if((r=o)._fx&&void 0!==r._fx.itemType||(o=new o(null,null,null)._viewModelClass),!o)throw new Error("Unable to locate blade viewmodel based on locator. Locator: ".concat(JSON.stringify(e.viewModelLocator)));return{getContent:function(e){return o.createPostProvisioningContent(t,e)},lifetime:t}}))}})},t.provisioningContextEndpoint=new FxImpl.Rpc.FuncEndPointDefinition("ProvisioningContext")})),
define("FxInternal/Composition/BladeContainer",["require","exports","FxInternal/Composition/Part"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BladeContainer=void 0,t.bindActionBar=function(e,t){var n=t&&t.actionBar;n instanceof r.ViewModel&&e._actionBar(n)};var r=MsPortalFx.ViewModels.ActionBars.Base,o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._actionBar=ko.observable(),r}return __extends(t,e),t}(n.PartContainer);t.BladeContainer=o})),
define("FxInternal/Composition/TemplateBlade2",["require","exports","Fx/DependencyInjection"],(function(e,t,n){var r;return function(t){function r(e){FxImpl.logObsoleteAPI("Fx/Composition/TemplateBlade2","Fx/Composition/TemplateBlade or ReactViews",e)}t.logObsoleteTemplateBlade2=r,t.Decorator=function(e){return function(t){n.Class("viewModel")(t);var o=t._fx||(t._fx={});o.itemType=12,o.options=e,o.isWeaveBlade=!0,"HubsExtension"!==MsPortalFx.getEnvironmentValue("extensionName")&&r()}};var o=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"Container"]),n.Value("viewModel")],t)}();t.Container=o,function(e){e.Decorator=function(e){return function(t){(t._fx||(t._fx={})).configurableOptions=e||{}}}}(t.Configurable||(t.Configurable={})),function(e){e.Decorator=function(){return function(e){}}}(t.ReturnsData||(t.ReturnsData={})),function(e){e.Decorator=function(){return function(e){}}}(t.Pinnable||(t.Pinnable={})),function(e){e.Decorator=function(e){return function(t){Reflect.defineMetadata("fx:forContextPane",e,t)}}}(t.ForContextPane||(t.ForContextPane={})),function(e){e.Decorator=function(e){return function(e){}}}(t.ReplacesOldBlade||(t.ReplacesOldBlade={}))}(r||(r={})),r})),
define("Weave/Core/WeaveUtil",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.raiseAsyncError=t.resolvedPromise=void 0,t.noop=function(){},t.addToMapOfArray=function(e,t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},t.tryPopFromMapOfArray=function(e,t){var n=e.get(t);return n&&n.pop()},t.returnThis=function(){return this},t.resolvedPromise=Promise.resolve();t.raiseAsyncError=function(e){t.resolvedPromise.then((function(){throw e}))}})),
define("Weave/Core/Computation",["require","exports","Weave/Core/WeaveUtil"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t._makeWritableComputation=t._makeConstantComputation=t._ensureComputationState=void 0,t.getDebugInfo=function(){return{activatedCount:l,lifetimeCount:o.size,pendingPropagationCount:u}},t.invokeAfterChangePropagation=function(e){return i.length?g().then(e):(e(),n.resolvedPromise)},t._waitForChangePropagation=g,t._makeLiftedArrayComputation=function(e){return new ue(e?e.map(L):[])},t._composeComputation=function(e,t,n){var r=[];n|=8;for(var o=0,i=e;o<i.length;o++){var a=L(i[o]);n&=8&a.flags,r.push(a)}return j(r,t,void 0,n)},t._isComputation=function(e){return r.has(e)},t._composeSubscription=function(e,t,n,r,o){var i=s.length;we(e,t.map(L),n,r,o),y(i)},t.pokeComputation=function(e){return r.get(e).activate()},t.resolveComputation=function(e){return r.get(e)},t._makeArrayComputation=function(e){return new le(e)},t._makeIndirectComputation=function(e){return new de(e)},t._identity=Ie;var r=new WeakMap,o=new Map,i=[],a=[],s=[],l=0,u=0,c=n.resolvedPromise,d=void 0;function p(e,t,n){e.splice(n,0,t)}function f(e,t,n){e.splice.apply(e,__spreadArray([n,0],t||[],!1))}function m(e,t){e.push(t)}function h(e,t){e.push.apply(e,t||[])}function v(e,t){var n=e.pop();n!==t&&(e[e.indexOf(t)]=n)}function g(){return c}function y(e){for(var t=e,n=s.length;t<n;t++)s[t].flags&=-257;s.length=e}function b(){for(var e=0,t=i;e<t.length;e++){(o=t[e]).refCount&&(I(o,S),y(0))}i.length=0;for(var n=0,r=a;n<r.length;n++){var o;xe(o=r[n],!1,!1)}a.length=0,d(),d=void 0}function x(e){d=e}function C(){d||(c=new Promise(x),n.resolvedPromise.then(b))}function _(e){2&e.flags&&(u--,e.flags&=-3)}function w(e){if(256&e.flags)throw new Error("Cannot modify a dependency of a graph evaluation.");if(2&~e.flags&&e.refCount){if(e.flags|=2,u++,e.dependents)for(var t=0,n=e.dependents;t<n.length;t++){w(n[t])}e.fn&&(e.flags&=-2),16&e.flags&&(i.push(e),C())}}function P(e,t){return e!==t||Array.isArray(t)}function E(e,t,n){return t>=e.length||P(e[t],n)}function F(e){var t=e.args,n=e.argsChangeIndex,r=0;t&&128&e.flags&&(t.length=0),e.flags|=128;for(var o=0,i=e.dependencies,a=i.length;o<a;o++){var s=i[o],l=S(s);t&&(4&s.flags?n-=E(t,o,l)?1:0:r+=s.changeIndex,t[o]=l)}return e.flags&=-129,e.argsChangeIndex=r,n!==r}function M(e){return!!(32&e.flags)}function S(e){var t=e.flags;if(_(e),1&~t){if(256&t)throw new Error("Cyclic computation graph detected.");e.flags|=256,s.push(e);var n=e.dependencies&&F(e),o=64&t;e.flags|=128;var i=e.value;if(M(e))i=e.fn(0);else{var a=e.valueComp;if(n){i=e.fn.apply(void 0,e.args);var l=r.get(i);a!==l&&(pe(e,a,l),e.valueComp=a=l)}a&&(i=S(a))}(o&&i||!o&&P(e.value,i))&&(e.value=i,e.changeIndex++),e.flags=-129&e.flags|1}return e.value}function I(e,t){try{return t(e),!0}catch(t){e.errorHandler(t)}}function k(e,t){var n=j(void 0,void 0,void 0,1|t);return n.value=e,n}function A(e){return k(e,8)}var T=A(void 0),D=A(!1),R=A(!0),B=A(null),N=A("");function O(e){switch(e){case void 0:return T;case!1:return D;case!0:return R;case null:return B;case"":return N;default:return A(e)}}function L(e){return r.get(e)||O(e)}function j(e,t,n,o){if(e&&!t)throw new TypeError("fn parameter is required.");var i={activate:Pe,args:32&o||!e?void 0:[],argsChangeIndex:0,changeIndex:1,compose:Ee,composeArray:Fe,dependencies:e,dependents:24&o?void 0:[],errorHandler:n,flags:o,fn:t,refCount:0,value:void 0,valueComp:void 0};return r.set(i,i),i}function V(e,t,n){return j(e,n,void 0,32|t)}function H(e,t){t.hasValue=e&&!!e.length,t.value?t.value.length=0:t.value=[],t.hasValue&&h(t.value,e)}function W(e,t){t.hasValue=!!e,t.value=t.source}function q(e,t){t.hasValue=!0,t.value=e}function z(e,t,n){q(function(e,t){var n=e.get(t);n||e.set(t,n={array:[],index:0});return n}(n,e),t)}function U(){return!0}function G(){return!1}function $(e,t){return t}var K=function(){function e(e,t,n,r,o){this._context=e,this._arrayDependency=t,this._projectionFn=n,this._adjustRefsForValueFn=r,this._metadataValueFn=o,this._deletionList=[],this._projectionMap=new Map}return e.prototype.prune=function(e){for(var t=0,n=this._deletionList,r=n.length;t<r;t++){var o=n[t];if(o.refCount)o.flags&=-3;else{o.hasValue&&this._adjustRefsForValueFn(o.value,-1,this._context);var i=o.computation;i&&ge(e,i),this._projectionMap.delete(o.source)}}this._deletionList.length=0},e.prototype.evaluate=function(e,t){var n,o,i=this._projectionMap.get(e);if(1&~i.flags){i.flags|=1;var a=this._projectionFn(e),s=r.get(a);s?(i.computation=s,me(t,s)):n=a,o=!0}var l=i.computation;if(l&&(n=S(l),i.changeIndex!==l.changeIndex&&(i.changeIndex=l.changeIndex,o=!0)),o){var u=this._context;i.hasValue&&this._adjustRefsForValueFn(i.value,-1,u),this._metadataValueFn(n,i,u),i.hasValue&&this._adjustRefsForValueFn(i.value,1,u)}return i},e.prototype.adjustRefCount=function(e,t){var n=this._arrayDependency;if(e>0){n.dependents.push(this);for(var r=0,o=n.array,i=o.length;r<i;r++)this.adjustValueRefCount(o[r],1)}else v(n.dependents,this),this._projectionMap.forEach((function(e){e.computation&&ge(t,e.computation)})),this._deletionList.length=0,this._projectionMap.clear()},e.prototype.adjustValueRefCount=function(e,t){var n=this._projectionMap.get(e);n||this._projectionMap.set(e,n={changeIndex:0,computation:void 0,flags:0,hasValue:!1,refCount:0,source:e,value:void 0}),n.refCount+=t,!n.refCount&&2&~n.flags&&(n.flags|=2,this._deletionList.push(n))},e}();function Q(e,t,n){for(var r=0,o=n;r<o.length;r++){o[r].adjustValueRefCount(e,t)}}function J(e,t,n,r){if(r.length)for(var o=e,i=t.length;o<i;o++)Q(t[o],n,r)}function X(e,t,n){J(0,e,t,n)}function Z(e,t,n){return E(t,e,n)?(t[e]=n,-1):1}function Y(e,t,n){for(var r=n.length,o=1,i=0;i<r;i++)Z(e+i,t,n[i])<0&&(o=-1);return r*o}function ee(e,t,r,o,i){var a=new K(void 0,e,t,n.noop,W),s=V([e.state],0,(function(t){if(0===t){a.prune(s);for(var n=0,l=e.array,u=l.length;n<u;n++){var c=l[n],d=a.evaluate(c,s);if(r===d.hasValue)return o(c,n)}}else a.adjustRefCount(t,s);return i}));return s}function te(e,t,n,r){for(var o=!1,i=e?e.length:0,a=0;a<i;a++){var s=n(e[a]);E(t,a,s)&&(a<t.length&&Q(t[a],-1,r),t[a]=s,Q(s,1,r),o=!0)}return t.length>i&&(J(i,t,-1,r),t.length=i,o=!0),o?t:void 0}var ne=function(){function e(e,t,n){this.dependents=e,this.array=[],this.state=V(t&&[t],64,n),r.set(this,this.state)}return e.prototype.compose=function(e){return this.state.compose(e)},e.prototype.composeArray=function(e){return this.state.composeArray(e)},e.prototype.cEvery=function(e){return ee(this,e,!1,G,!0)},e.prototype.cFlatMap=function(e){return re(this,e,X,H,Y)},e.prototype.cFilter=function(e){return re(this,e,Q,W,Z)},e.prototype.cFind=function(e){return ee(this,e,!0,Ie,void 0)},e.prototype.cFindIndex=function(e){return ee(this,e,!0,$,-1)},e.prototype.cGroupBy=function(e){return new ce(this,e)},e.prototype.cMap=function(e){return re(this,e,Q,q,Z)},e.prototype.cSome=function(e){return ee(this,e,!0,U,!1)},e}();function re(e,t,n,r,o){var i=[],a=new K(i,e,t,n,r),s=new ne(i,e.state,(function(t){var n=s.state,r=s.array;if(0===t){a.prune(n);for(var i=!1,l=0,u=0,c=e.array,d=c.length;u<d;u++){var p=a.evaluate(c[u],n);if(p.hasValue){var f=o(l,r,p.value);f<0&&(f*=-1,i=!0),l+=f}}return l!==r.length&&(i=!0,r.length=l),i?r:void 0}return a.adjustRefCount(t,n),r.length=0,r}));return s}function oe(e,t,n){var r=e.state;w(r);var o=e.value.splice(t,n);r.refCount&&e.adjustRefsForValues(o,-1,e.dependents)}function ie(e,t,n,r){var o=e.state;w(o);var i=e.mapInput(n);r(e.value,i,t),o.refCount&&e.adjustRefsForValue(i,1,e.dependents)}function ae(e,t,n,r){if(n){var o=e.state;w(o);var i=n.map(e.mapInput);r(e.value,i,t),o.refCount&&e.adjustRefsForValues(i,1,e.dependents)}}var se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.clear=function(){var e=this.state;e.refCount&&(w(e),this.adjustRefsForValues(this.value,-1,this.dependents)),this.value.length=0},t.prototype.insert=function(e,t){this._validate(e,1,"index"),ie(this,e,t,p)},t.prototype.insertAll=function(e,t){this._validate(e,1,"index"),ae(this,e,t,f)},t.prototype.pop=function(){var e=this.value;if(e.length){var t=this.state;w(t);var n=e.pop();t.refCount&&this.adjustRefsForValue(n,-1,this.dependents)}},t.prototype.push=function(e){ie(this,0,e,m)},t.prototype.pushAll=function(e){ae(this,0,e,h)},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.reverse=function(){w(this.state),this.value.reverse()},t.prototype.set=function(e,t){this._validate(e,1,"index");var n=this.state,r=this.value,o=this.mapInput(t);n.refCount&&(w(n),e<r.length&&this.adjustRefsForValue(r[e],-1,this.dependents),this.adjustRefsForValue(o,1,this.dependents)),r[e]=o},t.prototype.setAll=function(e){this.clear(),this.pushAll(e)},t.prototype.shift=function(){this.value.length&&oe(this,0,1)},t.prototype.splice=function(e,t){this._validate(e,0,"index"),this._validate(e+t,1,"deleteCount"),oe(this,e,t)},t.prototype.unshift=function(e){ie(this,0,e,p)},t.prototype.unshiftAll=function(e){ae(this,0,e,f)},t.prototype._validate=function(e,t,n){if(e<0||e>=this.value.length+t)throw new RangeError("The value ".concat(e," for the ").concat(n," argument is out of range. The array length is ").concat(this.value.length,"."))},t}(ne),le=function(e){function t(t){var n=e.call(this,[],void 0,(function(e){return 0!==e&&X(n.value,e,n.dependents),n.value}))||this;return n.adjustRefsForValue=Q,n.adjustRefsForValues=X,n.mapInput=Ie,n.value=n.array,h(n.value,t),n}return __extends(t,e),t.prototype.remove=function(e){for(var t=this.value,n=0;n<t.length;n++)if(t[n]===e){this.removeAt(n);break}},t.prototype.removeAll=function(e){this.removeIf((function(t){return e.includes(t)}))},t.prototype.removeIf=function(e){for(var t=this.value,n=t.length-1;n>=0;n--)e(t[n])&&this.removeAt(n)},t.prototype.sort=function(e){w(this.state),this.value.sort(e)},t}(se),ue=function(e){function t(t){var n=e.call(this,[],void 0,(function(e){return 0===e?te(n.value,n.array,S,n.dependents):(n.adjustRefsForValues(n.value,e),n.array.length=0,n.array)}))||this;return n.value=t,n.mapInput=L,n}return __extends(t,e),t.prototype.adjustRefsForValue=function(e,t){fe(this.state,e,t)},t.prototype.adjustRefsForValues=function(e,t){e&&(t>0?he(this.state,e):be(this.state,e,!0))},t}(se);var ce=function(){function e(e,t){var o=this;this._metadata=new Map,this._value=new Map,this._projectionEngine=new K(this._metadata,e,t,n.noop,z),this._state=V([e.state],64,(function(t){var n=o._state,r=o._projectionEngine;if(0===t){r.prune(n);for(var i=e.array,a=!1,s=0,l=i.length;s<l;s++){var u=i[s],c=r.evaluate(u,n).value;Z(c.index,c.array,u)<0&&(a=!0),c.index++}return o._metadata.forEach((function(e,t,n){var r=e.array;r.length>e.index&&(r.length=e.index,a=!0),e.index=0,r.length?o._value.set(t,r):(o._value.delete(t),n.delete(t))})),a?o._value:void 0}r.adjustRefCount(t,n),o._metadata.clear(),o._value.clear()})),r.set(this,this._state)}return e.prototype.compose=function(e){return this._state.compose(e)},e.prototype.composeArray=function(e){return this._state.composeArray(e)},e.prototype.get=function(e){return this.composeArray((function(t){return t.get(e)}))},e}();var de=function(){function e(e){var t=this;this.state=V(void 0,0,(function(e){if(t._target){if(0===e)return S(t._target);fe(t.state,t._target,e)}})),this._target=L(e),r.set(this,this.state)}return e.prototype.compose=function(e){return this.state.compose(e)},e.prototype.composeArray=function(e){return this.state.composeArray(e)},e.prototype.reseat=function(e){var t=r.get(e),n=this.state;n.refCount&&this._target!==t&&((!t||1&~t.flags||1&n.flags&&n.value!==t.value)&&w(n),pe(n,this._target,t)),this._target=t},e}();function pe(e,t,n){n&&me(e,n),t&&ge(e,t)}function fe(e,t,n){n>0?me(e,t):ge(e,t)}function me(e,t){t.dependents&&(t.dependents.push(e),ve(t))}function he(e,t){for(var n=0,r=t;n<r.length;n++){me(e,r[n])}}function ve(e){0==e.refCount++&&(l++,e.dependencies&&he(e,e.dependencies),M(e)&&(e.value=e.fn(1)))}function ge(e,t){ye(e,t,!0)}function ye(e,t,n){var r=t.dependents;r&&(v(r,e),xe(t,n,!1))}function be(e,t,n){for(var r=0,o=t;r<o.length;r++){ye(e,o[r],n)}}function xe(e,t,n){t?(a.push(e),C()):0==--e.refCount&&(l--,_(e),e.fn&&(M(e)&&e.fn(-1),e.valueComp&&(ye(e,e.valueComp,n),e.valueComp=void 0),e.value=void 0,e.flags&=-258,e.dependencies&&(e.args&&(e.args.length=0,e.argsChangeIndex=0),be(e,e.dependencies,n))))}function Ce(e){xe(e,!(16&e.flags),!0)}function _e(e,t){var n=o.get(e);n||(o.set(e,n=new Set),e.registerForDispose((function(){n.forEach(Ce),C(),o.delete(e)})));var r=n.size;n.add(t),n.size>r&&ve(t)}function we(e,t,r,o,i){var a=j(t,r,o||n.raiseAsyncError,16);_e(e,a),i?I(a,S):I(a,F)&&(a.flags|=1)}function Pe(e,t,n){var r=s.length;try{return function(e,t,n,r){return t&&!t.isDisposed()&&8&~e.flags&&(e.fn||r)?r?we(t,[e],r,void 0,!1):(_e(t,e),S(e)):1&~e.flags&&(8&~e.flags&&!e.refCount&&(ve(e),xe(e,!0,!1)),S(e)),r&&n>=0&&n<e.changeIndex&&r(e.value),e.value}(this,e,t,n)}finally{y(r)}}function Ee(e){return j([this],e,void 0,8&this.flags)}function Fe(e){var t,n=this,o=new ne([],this,(function(i){var a=o.array;if(0===i){var s=e(n.value),l=r.get(s);return t!==l&&(pe(o.state,t,l),t=l),l&&(s=S(l)),te(s,a,Ie,o.dependents)}return X(a,i,o.dependents),a.length=0,t&&i<0&&(ge(o.state,t),t=void 0),a}));return o}function Me(e){return this.state.compose(e)}function Se(e){return this.state.composeArray(e)}function Ie(e){return e}t._ensureComputationState=L,t._makeConstantComputation=O,t._makeWritableComputation=function(e){var t=k(e,4),n=function(e){P(t.value,e)&&(w(t),t.changeIndex++,n.value=t.value=e)};return n.compose=Me,n.composeArray=Se,n.state=t,n.value=e,r.set(n,t),n}})),
define("Weave/Core/InternalUtil",["require","exports","Weave/Core/Computation"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyArray=t.AggregationRelay=t.Aggregator=t.WeaveTsx=void 0,t.setTsxInterceptor=function(e){o=e},t.assertSwitchNever=i,t.getDynamicNodeOperations=a,t.createDynamicNodeLtms=function(e,t){var n,r=a(e),o=t;2&r&&(o=t.createChildNode());1&r&&(n=o.createChildNode());return{contentLtm:n,selfLtm:o}},t.activateAndRun=function(e,t,r,o){var i=(0,n.resolveComputation)(r);i?i.activate(e.getElementNodeLtm(t),0,o):o(r)},t.isNotNullNorUndefined=s,t.generateBindOnlyAttributeHandler=function(e){return function(t,n){s(n)&&t.addBinding({handler:e,value:n})}},t.generateDeferredBindOnlyAttributeHandler=function(e){return function(t,n){s(n)&&t.addDeferredBinding({handler:e,value:n})}},t.makeEventHandler=function(e){return function(t,n,r){t.addEventListener(n,{eventName:e,eventHandler:r})}},t.makeMap=function(e,t,n,r){void 0===r&&(r=!0);for(var o=new Map,i=0,a=e;i<a.length;i++){var s=a[i],l=t(s);if(r&&o.has(l))throw new Error("The key '".concat(l,"' already exists."));o.set(l,n(s))}return o},t.ensureDynamicNodeOperation=function(e,t){if(!(a(e)&t))throw new Error("Node '".concat(e,"' does not support '").concat(t,"'."))},t.encodeHtml=function(e){return/^[\w\s.\-#]*$/.test(e)?e:(e||"").replace(l,f)},t.aggregateResults=function(e,t){var n={};for(var r in t)t[r]&&(n[r]=e[r].aggregate(t[r]));return n},t.arrayToMap=m,t.buildMapOfArray=function(e){return m(e,(function(){return[]}))},t.getEventData=function(e,t){switch(t){case"keydown":case"keypress":case"keyup":var n=e;return{alt:n.altKey,ctrl:n.ctrlKey,keyCode:n.keyCode,shift:n.shiftKey};default:return{}}},t.assignRenderAgent=function(e,t){var n=g.get(e);if(n){if(n!==t)throw new Error("Cannot bind ElementRef for ".concat(e.locatorClass," because it is already bound to another Weave fragment."))}else g.set(e,t)},t.getRenderAgent=function(e){return g.get(e)},t.getUniqueDynamicNodeId=function(){return y++},t.getUniqueElementId=function(){return"_weave_e_"+b++},t.pickChildren=function(e,n){var r=e&&e.children;if(r){if((0,t.isReadonlyArray)(r)){for(var o=[],i=0,a=r.length;i<a;i++){var s=r[i];(0,t.isReadonlyArray)(s)?o.push.apply(o,s):o.push(s)}return o}return[r]}return n};var r=[];Object.freeze(r);var o=void 0;function i(e,t){if(!t)throw new Error("Unexpected '".concat(e,"' in switch statement."))}function a(e){switch(e){case"if":case"computation":return 5;case"forEach":return 8;case"forEachItem":return 2;case"once":return 7;case"external":return 1;default:i(e)}}function s(e){return null!=e}t.WeaveTsx=function(e,t){var n=r,i=arguments.length;if(i>2){n=[];for(var a=2;a<i;++a){var s=arguments[a];if(Array.isArray(s))for(var l=0,u=s.length;l<u;l++)n.push(s[l]);else n.push(s)}}if("function"==typeof e){var c=e(t,n);return o?o(c,e,t,n):c}return{type:"native",tag:e,attributes:t,children:n}};var l=/[`><"'&\t\n\r\xa0-\xff]|([\x00-\x1f\x7f\x80-\x9f])|([\ud800-\udbff][\udc00-\udfff])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&#34;","`":"&#96;"},c=55296,d=56320,p=65536;function f(e,t,n){var r=e.charCodeAt(0);return u[e]||(u[e]="&#"+(t?0:n?1024*(r-c)+e.charCodeAt(1)-d+p:r)+";")}function m(e,t){for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];n[i]=t(i)}return n}var h=function(){function e(e,t){this._aggregateFn=e,this.identityElement=t,this.identityElementComp=(0,n._makeConstantComputation)(t)}return e.prototype.aggregate=function(e){return this._aggregateFn(e)},e}();t.Aggregator=h;var v=function(){function e(e,t){this.aggregators=e;for(var r=Object.keys(t).filter((function(e){return t[e]})),o={},i=0,a=r;i<a.length;i++){var s=a[i];t[s].push(o[s]=(0,n._makeIndirectComputation)(e[s].identityElementComp))}this._aggrRelayMap=o,this.relayedKeys=r}return e.prototype.stop=function(){for(var e=0,t=this.relayedKeys;e<t.length;e++){var n=t[e];this._aggrRelayMap[n].reseat(this.aggregators[n].identityElementComp)}},e.prototype.relay=function(e){for(var t=0,n=this.relayedKeys;t<n.length;t++){var r=n[t];this._aggrRelayMap[r].reseat(e[r])}},e}();t.AggregationRelay=v;var g=new WeakMap;var y=0;var b=0;t.isReadonlyArray=Array.isArray})),
define("Weave",["require","exports","Weave/Core/Computation","Weave/Core/WeaveUtil","Weave/Core/InternalUtil"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ElementRef=t.Css=t.Aggregatable=t.Aggregated=t.PromiseFragment=t.LifetimeManagerScoped=t.SetContext=t.GetContext=t.Once=t.ForEach=t.If=t.Fragment=t.evaluate=t.waitForChangePropagation=t.makeIndirectComputation=t.makeLiftedArrayComputation=t.makeArrayComputation=t.makeWritableComputation=t.makeConstantComputation=t.ensureComputation=t.isComputation=void 0,t.composeComputation=function(e,t){return(0,n._composeComputation)(e,t)},t.subscribe=function(e,t,r,o){(0,n._composeSubscription)(e,t,r,o,!1)},t.subscribeAndRun=function(e,t,r,o){(0,n._composeSubscription)(e,t,r,o,!0)},t.isComputation=n._isComputation,t.ensureComputation=n._ensureComputationState,t.makeConstantComputation=n._makeConstantComputation,t.makeWritableComputation=n._makeWritableComputation,t.makeArrayComputation=n._makeArrayComputation,t.makeLiftedArrayComputation=n._makeLiftedArrayComputation,t.makeIndirectComputation=n._makeIndirectComputation,t.waitForChangePropagation=n._waitForChangePropagation;t.evaluate=function(e,t){if(!e)throw new Error("ltm is required.");var r=(0,n.resolveComputation)(t);return r?r.activate(e):t};t.Fragment=function(e,t){return{type:"fragment",children:(0,o.pickChildren)(e,t)}};t.If=function(e){if((0,o.isNotNullNorUndefined)(e.condition)){var t=(0,n.resolveComputation)(e.condition);return{type:"if",concealmentBehavior:e.concealmentBehavior||"hide",trueCase:u(t,"trueFn"in e&&e.trueFn,!1),falseCase:u(t,"falseFn"in e&&e.falseFn,!0)}}return"falseFn"in e&&e.falseFn?e.falseFn():null};t.ForEach=function(e){var o=e.fn,a=(0,t.makeWritableComputation)(0),s=new Map;return{type:"forEach",contentList:(0,n.resolveComputation)(e.collection).compose((function(e){var n=(e=e||[]).length;a(n);for(var l=[],u=0;u<n;++u){var d=e[u],p=(0,r.tryPopFromMapOfArray)(s,d);if(p)p.indexComp(u),l.push(p);else{var f=(0,t.makeWritableComputation)(u),m=i({indexInLoop:f},[o({item:d,index:f,length:a})]);l.push({indexComp:f,content:m})}}s.clear();for(u=n-1;u>=0;--u)(0,r.addToMapOfArray)(s,e[u],l[u]);return l.map(c)}))}};t.Once=function(e){if((0,o.isNotNullNorUndefined)(e.condition)){var t=null,r=null;return{type:"once","data-odebug":e["data-odebug"],content:(0,n.resolveComputation)(e.condition).compose((function(n){return n?t||(t={condition:!0,weaveNode:"trueFn"in e&&e.trueFn?e.trueFn():null}):r||(r={condition:!1,weaveNode:"falseFn"in e&&e.falseFn?e.falseFn():null})}))}}return"falseFn"in e&&e.falseFn?e.falseFn():null};function i(e,t){return{type:"setcontext",children:(0,o.pickChildren)(e,t),props:e}}t.GetContext=function(e){return{type:"getcontext",props:e}},t.SetContext=i;t.LifetimeManagerScoped=function(e){return{type:"ltmscoped",fn:e.fn}};t.PromiseFragment=function(e){var n=e.promise,r=e.whilePending;if(n){var o,i=(0,t.makeWritableComputation)(!1);return n.then((function(e){o=e,i(!0)}),(function(e){throw i(!0),e})),(0,t.Once)({condition:i,"data-odebug":e["data-odebug"],trueFn:function(){return o},falseFn:null!=r?function(){return r}:null})}};t.Aggregated=function(e,t){return{type:"aggr",children:(0,o.pickChildren)(e,t),resultsReceivers:e}};t.Aggregatable=function(e,t){return{type:"aggrsrc",children:(0,o.pickChildren)(e,t),sources:e}};t.Css=function(e){return{type:"css",css:e.css}};var a=function(){function e(){this.locatorClass="_wv_elemref_".concat(s++)}return e.prototype.focus=function(e){var t=this;(0,n.invokeAfterChangePropagation)((function(){var n=(0,o.getRenderAgent)(t);n&&n.focus(t.locatorClass,0|e)}))},e}();t.ElementRef=a;var s=0,l={condition:!1,weaveNode:void 0};function u(e,t,n){if(t){var r=null;return e.compose((function(e){return(n?!e:e)?r||(r={condition:!0,weaveNode:t()}):l}))}}function c(e){return e.content}})),
define("FxInternal/Weave",["require","exports","Weave","Weave/Core/Computation"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.toComputation=i,t.toValueOrComputation=function(e,t){return null!=e?ko.isObservable(e)?i(e):e:t},t.toObservable=function(e,t){if(t){var n=ko.observable();return(0,r.resolveComputation)(t).activate(e,0,n),n}};var o=new WeakMap;function i(e,t){if(e){var r=o.get(e);if(r)return r;var i=(0,n.makeWritableComputation)(e.peek());return e.subscribe(i),o.set(e,i),i}return t}})),
define("FxInternal/Weave/Util",["require","exports","Weave/Core/Computation","Weave","FxInternal","FxInternal/Weave","FxInternal/Weave"],(function(e,t,n,r,o,i,a){function s(e){return!(e&&e.length)}function l(e){return!!e}Object.defineProperty(t,"__esModule",{value:!0}),t.emptyStringComputation=t.trueComputation=t.falseComputation=t.toValueOrComputation=t.toComputation=void 0,t.aggregateDisabled=function(e){return(0,r.makeLiftedArrayComputation)(e).cSome(o.identity)},t.aggregateTabindex=function(e,t){return(0,r.composeComputation)([t,(0,r.makeLiftedArrayComputation)(e)],(function(e,t){return e||t.some((function(e){return e<0}))?-1:0}))},t.valueOrComputationToValueOrObservable=function(e,t){var r=(0,n.resolveComputation)(t);return r?(0,i.toObservable)(e,r):t},t.mapValueOrComputation=function(e,t){return(0,r.isComputation)(e)?e.compose(t):t(e)},t.equals=function(e,t){return e===t},t.notEquals=function(e,t){return e!==t},t.negation=function(e){return!e},t.or=function(e,t){return!(!e&&!t)},t.and=function(e,t){return!(!e||!t)},t.plus1=function(e){return e+1},t.arrayEvery=function(e){return e.every(o.identity)},t.isEmptyArray=s,t.isNonEmptyString=function(e){return"string"==typeof e&&e.trim().length>0},t.isNonEmptyArray=function(e){return!s(e)},t.isWeaveNodeWithParentRenderInfo=function(e){return"object"==typeof e&&e&&!e.hasOwnProperty("type")&&e.hasOwnProperty("weaveNode")},t.isTruthy=l,t.hasValueAsync=function(e,t,n){return n=n||l,new Promise((function(o,i){var a=e.createChildLifetime();(0,r.subscribeAndRun)(a,[t],(function(e){n(e)&&(a.dispose(),o(e))}),(function(e){a.dispose(),i(e)}))}))},Object.defineProperty(t,"toComputation",{enumerable:!0,get:function(){return a.toComputation}}),Object.defineProperty(t,"toValueOrComputation",{enumerable:!0,get:function(){return a.toValueOrComputation}}),t.falseComputation=(0,r.makeConstantComputation)(!1),t.trueComputation=(0,r.makeConstantComputation)(!0),t.emptyStringComputation=(0,r.makeConstantComputation)("")})),
define("FxInternal/Weave/Aggregators",["require","exports","Weave","FxInternal/Weave/Util","Weave/Core/InternalUtil","FxInternal"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.aggregators=void 0;var a=Promise.resolve(!0),s=new o.Aggregator((function(e){return e.length?(0,n.makeLiftedArrayComputation)(e).cSome(i.identity):r.falseComputation}),!1),l=new o.Aggregator((function(e){return e.length?(0,n.makeLiftedArrayComputation)(e).cEvery(i.identity):r.trueComputation}),!0);function u(){return a}t.aggregators={dirty:s,required:s,valid:l,validator:new o.Aggregator((function(e){return e.length?(0,n.composeComputation)(e,d):c}),u)};var c=(0,n.makeConstantComputation)(u);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){return Promise.all(e.map(p)).then(r.arrayEvery)}}function p(e){return e()}})),
define("FxInternal/Weave/SandboxRender",["require","exports","FxInternal/Weave/Util","FxInternal/Weave/Aggregators","Weave/Core/Computation","FxInternal/Weave","Weave/Core/InternalUtil"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.WeaveChannelDefinition=t.isWeaveBladeEnabled=void 0,t.createSandboxModeRenderAgent=function(e,t,n,i){var a=new Map,s=0,d=new e({aggregators:r.aggregators,customAttributeHandlers:[{name:"fxclick",handler:c},{name:"image",handler:function(e,t){MsPortalFx.isNullOrUndefined(t)||e.addBinding({handler:x,value:t})}},{name:"onResize",handler:l},{name:"pcControl",handler:f},{name:"domAgent",handler:m},{name:"onClick",handler:h},{name:"onKeyUp",handler:g},{name:"onKeyDown",handler:v},{name:"onKeyPress",handler:y}],customEventDataProvider:function(){return{requestConfirm:_}},customNotificationHandlers:[{name:"fxAnswerConfirm",handler:function(e){var t=e.value,n=a.get(t.replyId);if(!n)throw new Error("pending confirmation not found for replyId: ".concat(t.replyId));a.delete(t.replyId),n(t.reply)}}],hooks:{instruction:{createNewState:function(){return{proxiedObjectMetadataList:[],proxiedDataIndexesMap:new WeakMap}},postProcessNode:p,sendInstruction:b},registerOnReceive:function(e){return t.onMessage(e)}},weaveNode:n,weaveContext:i});return d.renderRoot(),d;function b(e,n){n&&n.proxiedObjectMetadataList.length>0?(t.transferObjects(e,n.proxiedObjectMetadataList.map(u)),function(e,t){for(var n=function(t){t.ltm.registerForDispose((function(){return e.releaseObject(t.object)}))},r=0,o=t;r<o.length;r++){n(o[r])}}(t,n.proxiedObjectMetadataList)):t.transferObjects(e,void 0)}function x(e,t,n){var r=(0,o.resolveComputation)(n);r?r.activate(e.getElementNodeLtm(t),0,(function(e){C(t,e)})):C(t,n)}function C(e,t){b({type:"fxSetImage",elementNodeId:e,value:t})}function _(e){var t=s++;return b({type:"fxRequestConfirm",elementNodeId:void 0,value:{content:e,replyId:t}}),new Promise((function(e){a.set(t,e)}))}},t.isWeaveBladeEnabled=MsPortalFx.isFeatureEnabled("weaveblade");var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.registerChannelFactory=function(e,t){e.registerObjectFactory(this.name,{allowRemoteChanges:!0,allowedOrigin:["fx","HubsExtension"],handler:t})},t.prototype.acquireChannel=function(e,t,n){return e.acquireObject(this.name,t,n)},t}(FxImpl.Rpc.EndPointDefinition);t.WeaveChannelDefinition=s;var l=(0,a.generateBindOnlyAttributeHandler)((function(e,t,n){e.addEventListener(t,{eventName:"fxResize",eventHandler:n})}));function u(e){return e.object}function c(e,t,r,o){if(!MsPortalFx.isNullOrUndefined(t)){d(e.node,o).push(o.proxiedObjectMetadataList.length);var a=e.ltm.innerLtmRoot;o.proxiedObjectMetadataList.push({ltm:a,object:{type:"fxclick",data:{data:(0,n.valueOrComputationToValueOrObservable)(a,t),disabled:(0,i.toObservable)(a,r.disabled),tabIndex:(0,i.toObservable)(a,r.tabIndex),partName:r.partName,extensionName:r.extensionName}}})}}function d(e,t){var n=t.proxiedDataIndexesMap.get(e);if(n)return n;var r=[];return t.proxiedDataIndexesMap.set(e,r),r}function p(e,t){return"element"===e.type?{type:"element",tagName:e.tagName,attributes:e.attributes,children:e.children.map((function(e){return p(e,t)})),proxiedDataIndexes:t.proxiedDataIndexesMap.get(e)}:"dynamic"===e.type?{type:"dynamic",nodeId:e.nodeId,dynamicNodeType:e.dynamicNodeType,children:e.children.map((function(e){return p(e,t)}))}:e}function f(e,t,n,r){if(!MsPortalFx.isNullOrUndefined(t)){d(e.node,r).push(r.proxiedObjectMetadataList.length);var o=e.ltm.innerLtmRoot;r.proxiedObjectMetadataList.push({ltm:o,object:{type:"pcControl",data:{vm:t,disabled:(0,i.toObservable)(o,n.disabled),tabIndex:(0,i.toObservable)(o,n.tabIndex),partName:n.partName,extensionName:n.extensionName}}})}}function m(e,t,n,r){t&&t.type&&(d(e.node,r).push(r.proxiedObjectMetadataList.length),r.proxiedObjectMetadataList.push({ltm:e.ltm.innerLtmRoot,object:{type:"domAgent",data:t}}))}var h=(0,a.generateBindOnlyAttributeHandler)((function(e,t,n){var r="function"==typeof n?{eventHandler:n,options:void 0}:{eventHandler:n.handler,options:{stopPropagation:n.stopPropagation,preventDefault:n.preventDefault}},o=r.eventHandler,i=r.options;e.addEventListener(t,{eventName:"fxCustomClick",eventHandler:o,options:i})}));var v=b("fxCustomKeyDown"),g=b("fxCustomKeyUp"),y=b("fxCustomKeyPress");function b(e){return(0,a.generateBindOnlyAttributeHandler)((function(t,n,r){var o="function"==typeof r?{eventHandler:r,options:void 0}:{eventHandler:r.handler,options:{stopPropagation:r.stopPropagation,preventDefault:r.preventDefault}},i=o.eventHandler,a=o.options;t.addEventListener(n,{eventName:e,eventHandler:i,options:a})}))}})),
define("FxInternal/Composition/ViewModelAdapters",["require","exports","Fx/Composition/Blade","Fx/Composition/ButtonPart","Fx/Composition/FrameBlade","Fx/Composition/FramePart","Fx/Composition/MenuBlade","Fx/Composition/TabMenuBlade","Fx/Composition/Part","Fx/Composition/TemplateBlade","FxInternal/Composition/TemplateBlade2","Fx/Composition/TemplatePart","FxInternal/Composition/ViewModel","Weave/Core/Computation","FxInternal/Weave/SandboxRender","Fx","FxInternal","FxInternal/Utils/Promise"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,m,h,v,g){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModelAdapter=void 0,t.isWeaveEnabled=F;var y=MsPortalFx.ViewModels,b={title:!0,subtitle:!0},x={showLabels:!0,items:!0},C=new Map;C.set(0,b),C.set(1,b),C.set(2,b),C.set(14,b),C.set(3,b),C.set(12,b),C.set(6,{}),C.set(5,{}),C.set(4,{title:!0,shortTitle:!0,description:!0,icon:!0}),C.set(7,{});var _={icon:!0,actionBar:!0,parameterProvider:!0,commandBar:!0,statusBar:!0},w={onInitialize:!0,context:!0,onRebind:!0},P=["onPin","getFilterDefinitions","getDynamicFilterDefinitions","getLocalizedFilterValues","supplyCommands"],E=(0,h.memoizePromise)((function(){return Q(MsPortalFx.require("FxInternal/Composition/ViewModelAdapters.DoesProvisioning"))}));function F(e){if(e){var t=e._fx||{};return t&&t.isWeaveBlade?!t.isWeaveFlighted||m.isWeaveBladeEnabled:"function"==typeof e.prototype.weave&&m.isWeaveBladeEnabled}return!1}var M=function(){function t(e,t,f,m){var h=this;this._diContainer=e,this._viewModelClass=t,this._provisioningContextResults=f,this.policyScope=ko.observable(),this.menuContent={title:ko.observable(),subtitle:ko.observable()},this._msPortalFx_viewModelApiV2=!0,this._adapterState=0,this._partContext=e&&e.get(p.PartContext);var v=this._container=m||e.get(y.ContainerContract);this._ltm=this._container.createChildLifetime();var b=this._container.revealContent||MsPortalFx.noop;this._container.revealContent=function(){h._finalizeContent(),b.call(h._container),h._afterRevealContentCalled&&h._afterRevealContentCalled(h._viewModel)};var C=this._viewModelClass._fx,_=this._itemType=C.itemType,w=this._isPart=6===_||5===_||4===_||7===_;w||(this.subtitle=ko.observable(),this.icon=ko.observable(),this.statusBar=ko.observable()),w&&4!==_||(this.title=ko.observable()),4===_&&(this.shortTitle=ko.observable(),this.description=ko.observable(),this.size=ko.observable(),this.icon=ko.observable()),w||(v.statusBar=ko.observable(),Object.defineProperty(v,"statusBar",{enumerable:!1}),Object.defineProperty(v,"commandBar",{get:function(){return h._vmCommandBar},set:function(e){if(F(t)){if(1&h._adapterState)throw new Error("'container.commandBar' must be set in the blade constructor.")}else if(2&h._adapterState)throw new Error("'container.commandBar' must be set before the Blade's content is revealed (before 'container.revealContent(...)' is called and/or before the Promise returned from 'onInitialize(...)' is resolved).");e&&e!==h._vmCommandBar&&(h.commandBar||(h.commandBar=new MsPortalFx.ViewModels.Toolbars.Toolbar(h._container)),h._vmCommandBar=e,Object.keys(x).forEach((function(e){return S(h._ltm,h.commandBar,e,h._vmCommandBar,e)})))},enumerable:!1}),v.icon=ko.observable(),Object.defineProperty(v,"icon",{enumerable:!1}),v.icon.subscribe(v,this.icon));var M={container:v,parameters:null,dashboard:v.dashboard};if(this._isPart){var I=v.updatableHeader,k={enableForExtensionRenderedHeader:function(e,t){if(1&h._adapterState)throw new Error("'updatableHeader.enableForExtensionRenderedHeader' API must be called during constructor or 'onInitialize'");k.options(t||{}),k.updatedHeader.subscribe(v,e)},updatedHeader:I.updatedHeader,options:I.options};M.updatableHeader=k}var A=Reflect.getOwnMetadata("fx:composition:model",t);if(e&&A&&(M.model=e.get(A)),w||(M.form=v.form,v.menu&&(M.menu=v.menu)),C.configurableOptions){var T=M,D=this._container.activateConfiguration(),R=D.updateValues;D.updateValues=function(){return R.call(D,arguments[0],arguments.length>=2&&arguments[1])},T.configuration=D}!this._isPart&&t._fx.doesProvisioning&&(E(),M.provisioning={initialValues:void 0,marketplaceItem:void 0,telemetryId:void 0,deployTemplate:void 0,deployStack:void 0,deployCustom:void 0,validateTemplate:void 0,getAutomationBladeReference:void 0,getArmErrorsBladeReference:void 0,policyValidationFactory:void 0,referenceType:void 0,setMarketplaceId:void 0});var B=this._isPart&&t._fx.filterable;if(B){M.dashboard=MsPortalFx.extend2(v.dashboard,{filtering:{effectiveFilterModels:void 0,allFilterModels:void 0,updateFilters:function(e){return Q(h._msPortalFxV2ShellApi.updateFilters.fxAwaitAndRun(v)).then((function(t){return Q(t(e))}))}}})}e&&e.set(n.Container,v).set(r.Container,v).set(o.Container,v).set(i.Container,v).set(a.Container,v).set(s.Container,v).set(l.Container,v).set(u.Container,v).set(c.Container,v).set(d.Container,v),this._viewModel=e&&e.get(t)||new t,this._viewModel.context=M;var N,O,L=(N=this._viewModel,O=!0,P.reduce((function(e,t){var n=N[t];return n&&(e[t]=O?n.bind(N):n),e}),{}));if(this._msPortalFxV2ShellApi=MsPortalFx.extend(L,{updateFilters:B&&ko.observable()}),w){var j=this._viewModel.onClick;j&&"function"!=typeof j&&(this._container.clickableLink=j)}var V=(this._contentRevealedDeferred=Q.defer()).promise.then(MsPortalFx.noop,(function(){return Q.reject()}));this._msPortalFx_contentRevealedPromise=(0,g.preventUnhandledRejection)(V)}return t.prototype.isInitialized=function(){return!!(1&this._adapterState)},t.prototype.onInputsSet=function(e,t,n,r){var o=this;e=MsPortalFx.clone(e);var i=this._viewModel.context,a=Q();if(!this._isPart&&this._viewModelClass._fx.doesProvisioning){var s=i.provisioning,l=e._provisioningContext||this._provisioningContextResults.provisioningInputs._provisioningContext;a=E().then((function(e){return __awaiter(o,void 0,void 0,(function(){return __generator(this,(function(t){return e.setProvisioning(this._diContainer,s,l,this._container,this._partContext,null,this.policyScope),[2]}))}))})),delete e._provisioningContext}var u=function(e,t){if(void 0===t&&(t=!0),!(0,h.isPromise)(e))throw new Error("".concat(t?"'onInitialize'":"'onRebind'"," must return a Promise that covers the full initialization of the ").concat(o._isPart?"Part":"Blade",", including data-loading."))},c=this._isPart&&this._viewModelClass._fx.filterable;r=r||{dashboard:void 0,part:void 0};var d,p=MsPortalFx.extend2(r.dashboard||{},r.part),f=function(){i.parameters=e,o._viewModelClass._fx.configurableOptions&&(i.settings=t&&t.content||{}),c&&(i.dashboard.filtering.filterModels=p,i.dashboard.filtering.effectiveFilterModels=p,i.dashboard.filtering.allFilterModels=r)};if(1&this._adapterState){var m=this._viewModelClass._fx.rebindable;if(!n&&!m&&!c){var g="".concat(this._isPart?"Part":"Blade"," does not support rebinding. Use the '@Rebindable.Decorator()' decorator.");throw new Error(g)}var y=function(e,t){return MsPortalFx.union(Object.keys(e),Object.keys(t)).filter((function(n){return!MsPortalFx.deepEquals(e[n],t[n])}))},b=m&&{parameterKeys:y(i.parameters,e)},x=c&&{filterIds:y(i.dashboard.filtering.effectiveFilterModels||{},p)},C=MsPortalFx.extend2(b,x);if(f(),n)return Q();var _=this._viewModel.onRebind(C);return u(_,!1),Q(_)}return d=FxImpl.TelemetryContext.getState(),v.tryImmediateResolve(a,(function(){return FxImpl.TelemetryContext.usingState((function(){f();var e=o._viewModel.onInitialize();return u(e),o._adapterState|=1,o._adaptProxiableProperties(),e.then((function(){return o._finalizeContent()}),(function(e){return o._finalizeContent(e||new Error("'onInitialize' Promise rejected"))})),Q(e)}),d)}))},t.prototype.weave=function(){return this._viewModel.weave()},t.prototype._finalizeContent=function(e){if(!(2&this._adapterState)){if(this._adapterState|=2,e)return void this._contentRevealedDeferred.reject(e);if(this._contentRevealedDeferred.resolve(),this._adaptProxiableProperties(),this._isPart)4!==this._itemType&&S(this._ltm,this._container,"partTitle",this._viewModel,"title"),S(this._ltm,this._container,"assetName",this._viewModel,"subtitle");else{S(this._ltm,this,"statusBar",this._container,"statusBar");var t=this._viewModel.context;t.menu&&(S(this._ltm,this.menuContent,"title",t.menu,"titleSuffix"),S(this._ltm,this.menuContent,"subtitle",t.menu,"subtitleSuffix"))}}},t.prototype._adaptProxiableProperties=function(){var e=this,t=C.get(this._itemType),n=[];if((0,h.isFeatureEnabled)("es6support"))n=FxImpl.getAllKeys(this._viewModel);else for(var r in this._viewModel)n.push(r);for(var o=0,i=n;o<i.length;o++){r=i[o];if(w[r]);else if(t[r]||!this._isPart&&_[r]);else if(!r.startsWith("_")||r.startsWith("_msPortalFx")){var a=I(this._viewModel[r],this._viewModel);try{this[r]=a}catch(e){console.warn(e)}}}Object.keys(t).forEach((function(t){S(e._ltm,e,t,e._viewModel,t)}))},t.prototype.dispose=function(){this._ltm.dispose()},__decorate([__metadata("fx:diagnostics",[e,"ViewModelAdapter.prototype"]),MsPortalFx.Composition.NotProxied,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Object)],t.prototype,"weave",null),t}();function S(e,t,n,r,o){if(o in r){var i=r[o],a=t[n],s=(0,f.resolveComputation)(i);s?s.activate(e,0,a):ko.isObservable(i)?(a(i()),i.subscribe(e,a)):a(I(i,r))}}function I(e,t){return"function"!=typeof e||ko.isObservable(e)?e:e.bind(t)}t.ViewModelAdapter=M})),
define("Weave/Core/ApplyBindings",["require","exports","Weave/Core/InternalUtil","Weave/Core/WeaveUtil"],(function(e,t,n,r){function o(e,t,n){var r=t.dynamicNodeId,o=n.content,i=n.concealmentBehavior,a=n.initRenderChangeIndex,s=n.internalContext,l=n.aggrRelay,u=n.initAggrResults;if("remove"===i){var c=!!u;o.activate(e.getDynamicNodeLtm(r),a,(function(n){n.condition?c||l.relay(e.replaceContent(t,n.weaveNode,s,l,!1)):(c&&e.clear(t),l.stop()),c=n.condition}))}else{var d=u,p=!!d;o.activate(e.getDynamicNodeLtm(r),a,(function(n){n.condition?p?(e.toggleDisplay(t,!0),l.relay(d)):(p=!0,d=e.replaceContent(t,n.weaveNode,s,l,!1),l.relay(d)):(e.toggleDisplay(t,!1),l.stop())}))}}function i(e,t,o){for(var i=t.dynamicNodeId,a=o.internalContext,s=o.contentList,l=o.initRenderChangeIndex,u=o.initRenderDomInfo,c=o.aggrRelay,d=new Map,p=u.length-1;p>=0;--p){var f=u[p];(0,r.addToMapOfArray)(d,f.tsxNode,{itemId:f.itemId,itemAggrResult:f.itemAggrResult})}s.activate(e.getDynamicNodeLtm(i),l,(function(o){for(var s=o.length,l=new Array(s),u=0;u<s;++u){var p=o[u],f=(0,r.tryPopFromMapOfArray)(d,p);l[u]=f?{type:"exist",metadata:f}:{type:"new",weaveNode:p}}var m=e.setItems(i,t,l,a,c);d.clear();for(u=s;u>=0;--u)(0,r.addToMapOfArray)(d,o[u],m[u]);c.relay((0,n.aggregateResults)(c.aggregators,(0,n.arrayToMap)(c.relayedKeys,(function(e){return m.map((function(t){return t.itemAggrResult[e]}))}))))}))}function a(e,t,n){var r=t.dynamicNodeId,o=n.aggrRelay;n.weaveNode.activate(e.getDynamicNodeLtm(r),n.initRenderChangeIndex,(function(r){o.relay(e.replaceContent(t,r,n.internalContext,o,!0))}))}function s(e,t,r){var o=t.dynamicNodeId,i=r.internalContext,a=r.aggrRelay,s=e.getDynamicNodeLtm(o).createChildLifetime();r.content.activate(s,r.initRenderChangeIndex,(function(r){r.condition&&(s.dispose(),(0,n.isNotNullNorUndefined)(r.weaveNode)?a.relay(e.replaceContent(t,r.weaveNode,i,a,!0)):(e.remove(t),a.stop()))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.applyBindings=function(e,t,r,l){var u=function(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];if(i.binders)for(var a=0,s=i.binders;a<s.length;a++){var l=s[a];l.handler(e,i.elementId,l.value)}i.deferredBinders&&n.push(i)}return n}(e,t);(function(e,t){for(var r=0,l=t;r<l.length;r++){var u=l[r],c=u.metadata;switch(c.type){case"if":o(e,u,c);break;case"forEach":i(e,u,c);break;case"forEachItem":break;case"computation":a(e,u,c);break;case"once":s(e,u,c);break;case"external":c.weaveNode.applyBindingHandler(e,u,c.internalContext.context);break;default:(0,n.assertSwitchNever)(c)}}})(e,r),l&&l();for(var c=0,d=u;c<d.length;c++)for(var p=d[c],f=0,m=p.deferredBinders;f<m.length;f++){var h=m[f];h.handler(e,p.elementId,h.value)}}})),
define("Weave/Core/ClassNameProcessor",["require","exports","Weave","Weave/Core/Computation","Weave/Core/InternalUtil"],(function(e,t,n,r,o){function i(e,t,a,s,l){if("string"==typeof e)t.push(e);else if((0,n.isComputation)(e)){var u=(0,r.resolveComputation)(e),c=u.activate(l)||"";s.push({computation:u,initChangeIndex:u.changeIndex,initValue:c}),c&&t.push(c)}else if((0,o.isReadonlyArray)(e))for(var d=0,p=e;d<p.length;d++){var f=p[d];f&&i(f,t,a,s,l)}else for(var m in e)if(m){var h=(0,r.resolveComputation)(e[m]);if(h){var v=!!h.activate(l);v&&t.push(m),a.push({className:m,computation:h,initChangeIndex:h.changeIndex,initCondition:v})}else e[m]&&t.push(m)}}function a(e){for(var t=new Map,n=0,o=e.split(" ").filter(r._identity);n<o.length;n++){var i=o[n];t.set(i,(t.get(i)||0)+1)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.processClassName=function(e,t){var n,r,o="";if("string"==typeof e)o=e;else if(e){var a=[];i(e,a,n=[],r=[],t),o=a.join(" ")}return{conditionalClass:n,dynamicClass:r,initClass:o}},t.applyClassBindingMetadata=function(e,t,n){for(var o,i=e.initClass,s=function(e){var s=e.initCondition,l=e.className.split(" ").filter(r._identity);l.length>0&&e.computation.activate(t,e.initChangeIndex,(function(e){var t=!!e;if(t!==s){o||(o=a(i));for(var r=0,u=l;r<u.length;r++){var c=u[r],d=(o.get(c)||0)+(t?1:-1);o.set(c,d),t||0!==d?t&&1===d&&n(c,!0):n(c,!1)}s=t}}))},l=0,u=e.conditionalClass;l<u.length;l++){s(u[l])}for(var c=function(e){var s=e.initValue.split(" ").filter(r._identity);e.computation.activate(t,e.initChangeIndex,(function(e){var t=(e||"").split(" ").filter(r._identity);o||(o=a(i));for(var l=0,u=t;l<u.length;l++){var c=u[l],d=(o.get(c)||0)+1;o.set(c,d),1===d&&n(c,!0)}for(var p=0,f=s;p<f.length;p++){var m=f[p];d=o.get(m)-1;o.set(m,d),0===d&&n(m,!1)}s=t}))},d=0,p=e.dynamicClass;d<p.length;d++){c(p[d])}return function(){if(o){var e=[];return o.forEach((function(t,n){t>0&&e.push(n)})),e}return i.split(" ").filter(r._identity)}}})),
define("Weave/Core/AttributeHandler",["require","exports","Weave/Core/Computation","Weave/Core/InternalUtil","Weave/Core/ClassNameProcessor"],(function(e,t,n,r,o){function i(e,t,o,i,a){var s=(0,n.resolveComputation)(o),l=s?s.activate(e.ltm.innerLtmRoot):o,u=1===i;(u?p(l):(0,r.isNotNullNorUndefined)(l))&&e.addAttribute(t,d(l,u,a)),s&&e.addBinding({handler:f,value:{attributeName:t,initRenderChangeIndex:s.changeIndex,computation:s,attributeKind:i,arrayJoinChar:a}})}function a(e,t,n){var r=n.value,o=n.onValueChange;e.initInputBinding(t,"textInput",r,o)}function s(e,t,n){var r=n.checked,o=n.onCheckedChange;e.initInputBinding(t,"checkboxInput",r,o)}function l(e,t){return"input"===e&&("text"===t||"color"===t||"date"===t||"datetime-local"===t||"email"===t||"month"===t||"number"===t||"password"===t||"range"===t||"search"===t||"tel"===t||"time"===t||"url"===t||"week"===t)||"textarea"===e}function u(e,t){return"input"===e&&("checkbox"===t||"radio"===t)}function c(e){return!e}function d(e,t,n){return t?"":(0,r.isReadonlyArray)(e)?e.join("string"==typeof n?n:" "):""+e}function p(e){return(0,r.isNotNullNorUndefined)(e)&&!1!==e}function f(e,t,n){var o=n.attributeKind,i=n.attributeName,a=n.arrayJoinChar,s=1===o;n.computation.activate(e.getElementNodeLtm(t),n.initRenderChangeIndex,(function(n){(s?p(n):(0,r.isNotNullNorUndefined)(n))?e.setAttribute(t,i,d(n,s,a)):e.removeAttribute(t,i)}))}function m(e){return function(t,n){i(t,e,n,1)}}function h(e,t,n){n.visible.activate(e.getElementNodeLtm(t),n.initChangeIndex,(function(n){e.toggleClass(t,"weave-display-none1",!n)}))}function v(e,t,n){(0,o.applyClassBindingMetadata)(n,e.getElementNodeLtm(t),(function(n,r){return e.toggleClass(t,n,r)}))}function g(e,t,n){var r=function(r){var o=n[r];o.computation.activate(e.getElementNodeLtm(t),o.initRenderChangeIndex,(function(n){e.setStyle(t,r,n)}))};for(var o in n)r(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.refHandler=t.multipleHandler=t.defaultHandler=t.reversedHandler=t.requiredHandler=t.ismapHandler=t.seamlessHandler=t.novalidateHandler=t.openHandler=t.hiddenHandler=t.formnovalidateHandler=t.autofocusHandler=t.mutedHandler=t.autoplayHandler=t.controlsHandler=t.loopHandler=t.readonlyHandler=t.disabledHandler=t.idHandler=t.onMouseLeaveHandler=t.onMouseEnterHandler=t.onFocusOutHandler=t.onFocusInHandler=t.onKeyUpHandler=t.onKeyPressHandler=t.onKeyDownHandler=t.onClickHandler=void 0,t.htmlAttributeHandler=i,t.visibleHandler=function(e,t,r,o,i){if("className"in i)return;if(t){var a=(0,n.resolveComputation)(t);a.activate(e.ltm.innerLtmRoot)||e.addAttribute("class","weave-display-none1"),e.addBinding({handler:h,value:{visible:a,initChangeIndex:a.changeIndex}})}},t.classNameHandler=function(e,t,n,r,i){var a;i.visible&&(t=[t,(a={},a["weave-display-none1"]=i.visible.compose(c),a)]);var s=(0,o.processClassName)(t,e.ltm.innerLtmRoot);(s.dynamicClass&&s.dynamicClass.length||s.conditionalClass&&s.conditionalClass.length)&&e.addBinding({handler:v,value:s});s.initClass&&e.addAttribute("class",s.initClass)},t.coordsHandler=function(e,t){i(e,"coords",t,0,",")},t.valueHandler=function(e,t,n,r,o,s){if(!l(s,o.type))return i(e,"value",t,0);"onValueChange"in o||e.addBinding({handler:a,value:{value:t,onValueChange:null}})},t.checkedHandler=function(e,t,n,r,o,i){u(i,o.type)&&!("onCheckedChange"in o)&&e.addBinding({handler:s,value:{checked:t,onCheckedChange:null}})},t.onValueChangeHandler=function(e,t,n,r,o,i){var s=o.type;l(i,s)&&e.addBinding({handler:a,value:{value:o.value,onValueChange:t}})},t.onCheckedChangeHandler=function(e,t,n,r,o,i){var a=o.type;u(i,a)&&e.addBinding({handler:s,value:{checked:o.checked,onCheckedChange:t}})},t.styleHandler=function(e,t){if(t){var r=[],o={},i=!1;for(var a in t){var s=t[a],l=(0,n.resolveComputation)(s);if(l){var u=l.activate(e.ltm.innerLtmRoot);o[a]={computation:l,initRenderChangeIndex:l.changeIndex},u&&r.push("".concat(a,": ").concat(u)),i=!0}else s&&r.push("".concat(a,": ").concat(s))}r.length>0&&e.addAttribute("style",r.join("; ")+";"),i&&e.addBinding({handler:g,value:o})}},t.onClickHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("click")),t.onKeyDownHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("keydown")),t.onKeyPressHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("keypress")),t.onKeyUpHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("keyup")),t.onFocusInHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("focusin")),t.onFocusOutHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("focusout")),t.onMouseEnterHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("mouseenter")),t.onMouseLeaveHandler=(0,r.generateBindOnlyAttributeHandler)((0,r.makeEventHandler)("mouseleave")),t.idHandler=(0,r.generateBindOnlyAttributeHandler)((function(e,t,n){(0,r.activateAndRun)(e,t,n,(function(n){return function(e,t,n){if("string"==typeof n&&(n=n.trim()))return void e.setAttribute(t,"id",n);e.removeAttribute(t,"id")}(e,t,n)}))})),t.disabledHandler=m("disabled"),t.readonlyHandler=m("readonly"),t.loopHandler=m("loop"),t.controlsHandler=m("controls"),t.autoplayHandler=m("autoplay"),t.mutedHandler=m("muted"),t.autofocusHandler=m("autofocus"),t.formnovalidateHandler=m("formnovalidate"),t.hiddenHandler=m("hidden"),t.openHandler=m("open"),t.novalidateHandler=m("novalidate"),t.seamlessHandler=m("seamless"),t.ismapHandler=m("ismap"),t.requiredHandler=m("required"),t.reversedHandler=m("reversed"),t.defaultHandler=m("default"),t.multipleHandler=m("multiple"),t.refHandler=(0,r.generateBindOnlyAttributeHandler)((function(e,t,n){(0,r.assignRenderAgent)(n,e),e.setLocatorClass(t,n.locatorClass)}))})),
define("Weave/Core/CollectRenderInfo",["require","exports","Weave","Weave/Core/Computation","Weave/Core/InternalUtil"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.createInternalWeaveContext=d,t.collectRenderInfo=p,t.collectForEachItemsRenderInfo=function(e,t,n,r,i,a){for(var s=r.length,l=new Array(s),u=0;u<s;++u){var c=n.createChildDynamicNode({type:"forEachItem",weaveNode:void 0,logicalTreeNodeId:t.metadata.logicalTreeNodeId}),d=r[u],f=(0,o.buildMapOfArray)(a.relayedKeys);p(e,c,d,i,f),l[u]={itemId:c.nodeId,itemAggrResult:(0,o.aggregateResults)(a.aggregators,f)},c.seal()}return l};var i=0;function a(){return"_weave_css_"+i++}var s=0,l={match:!1,value:void 0};function u(e,t){return e.cache.get(t)||l}function c(e,t,n){e.cache.set(t,{match:!0,value:n})}function d(e){return{cache:new WeakMap,context:Object.freeze(e)}}function p(e,t,i,l,h){if((0,o.isNotNullNorUndefined)(i)){if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)return t.createTextNode(""+i);if((0,n.isComputation)(i))return function(e,t,n,r,i){var a=e.aggregators,l=n.activate(t.ltm.innerLtmRoot),u=new o.AggregationRelay(a,i),c=t.createChildDynamicNode({type:"computation",weaveNode:n,logicalTreeNodeId:s++,aggrRelay:u,initRenderChangeIndex:n.changeIndex,internalContext:r}),d=(0,o.buildMapOfArray)(u.relayedKeys);p(e,c,l,r,d);var f=(0,o.aggregateResults)(a,d);u.relay(f),c.seal()}(e,t,(0,r.resolveComputation)(i),l,h);switch(i.type){case"aggr":return function(e,t,n,r,i){var a=e.aggregators,l=n.resultsReceivers||{},u=(0,o.buildMapOfArray)(Object.keys(l).filter((function(e){return a[e]&&l[e]}))),c=__assign(__assign({},i),u);f(e,t.createChildVirtualNode(n,s++),n.children,r,c);var d=(0,o.aggregateResults)(a,u);for(var p in u){var m=i[p];m&&m.push(d[p]),l[p].reseat(d[p])}}(e,t,i,l,h);case"aggrsrc":return function(e,t,n,r,i){for(var a=e.aggregators,l=n.sources||{},u=Object.keys(l).filter((function(e){return a[e]&&(0,o.isNotNullNorUndefined)(l[e])})),c=0,d=u;c<d.length;c++){var p=d[c],m=i[p];m&&m.push(l[p])}var h=__assign(__assign({},i),(0,o.arrayToMap)(u,(function(){})));f(e,t.createChildVirtualNode(n,s++),n.children,r,h)}(e,t,i,l,h);case"css":return function(e,t,n){var r=n.css;t.ltm.css.push(r);var o=e.cssMetadataMap,i=o.get(r);i||o.set(r,i={id:a(),isNew:!0,oldRefCount:0,newRefCount:0});i.newRefCount++}(e,t,i);case"external":return function(e,t,n){var r=e.createChildDynamicNode({type:"external",weaveNode:t,logicalTreeNodeId:s++,internalContext:n});r.seal()}(t,i,l);case"forEach":return function(e,t,n,r,i){for(var a=e.aggregators,l=n.contentList,u=l.activate(t.ltm.innerLtmRoot),c=u.length,d=new Array(c),f=new o.AggregationRelay(a,i),m=s++,h=t.createChildDynamicNode({type:"forEach",weaveNode:n,logicalTreeNodeId:m,aggrRelay:f,contentList:l,internalContext:r,initRenderChangeIndex:l.changeIndex,initRenderDomInfo:d}),v=0;v<c;++v){var g=u[v],y=h.createChildDynamicNode({type:"forEachItem",weaveNode:n,logicalTreeNodeId:m}),b=(0,o.buildMapOfArray)(f.relayedKeys);p(e,y,g,r,b),d[v]={itemAggrResult:(0,o.aggregateResults)(a,b),itemId:y.nodeId,tsxNode:g},y.seal()}var x=(0,o.aggregateResults)(a,(0,o.arrayToMap)(f.relayedKeys,(function(e){return d.map((function(t){return t.itemAggrResult[e]}))})));f.relay(x),h.seal()}(e,t,i,l,h);case"fragment":return function(e,t,n,r,o){return f(e,t.createChildVirtualNode(n,s++),n.children,r,o)}(e,t,i,l,h);case"getcontext":return function(e,t,n,r,o){var i,a=u(r,n);a.match?i=a.value:(i=n.props.fn(r.context),c(r,n,i));p(e,t.createChildVirtualNode(n,s++),i,r,o)}(e,t,i,l,h);case"html":return function(e,t){(0,o.isNotNullNorUndefined)(t.data)&&e.createHTMLNode(t.data)}(t,i);case"if":return function(e,t,n,r,o){var i=s++;m(e,t,n,i,r,o,n.trueCase),m(e,t,n,i,r,o,n.falseCase)}(e,t,i,l,h);case"once":return function(e,t,n,i,a){var l=e.aggregators,u=n.content,c=(0,r.pokeComputation)(u),d=u.changeIndex;if(c.condition)p(e,t.createChildVirtualNode(n,s++),c.weaveNode,i,a);else{var f=new o.AggregationRelay(l,a),m=t.createChildDynamicNode({type:"once",weaveNode:n,logicalTreeNodeId:s++,aggrRelay:f,content:u,internalContext:i,initRenderChangeIndex:d});if((0,o.isNotNullNorUndefined)(c.weaveNode)){var h=(0,o.buildMapOfArray)(f.relayedKeys);p(e,m,c.weaveNode,i,h);var v=(0,o.aggregateResults)(l,h);f.relay(v)}m.seal()}}(e,t,i,l,h);case"ltmscoped":return p(e,t,i.fn(t.ltm.innerLtmRoot),l,h);case"native":return function(e,t,n,r,o){var i=e.hooksState,a=e.attributesHandler,s=n.attributes,l=n.children,u=t.createChildElementNode(n.tag,n);if(s)for(var c in s)a(u,c,s[c],r.context,i,s,n.tag);for(var d=u.sealAttributes(),f=0,m=l;f<m.length;f++){p(e,d,m[f],r,o)}d.seal(),u.seal()}(e,t,i,l,h);case"setcontext":return function(e,t,n,r,o){var i,a=u(r,n);a.match?i=a.value:c(r,n,i=d(__assign(__assign({},r.context),n.props)));f(e,t.createChildVirtualNode(n,s++),n.children,i,o)}(e,t,i,l,h);case"value":return function(e,t,n,r,o){return p(e,t.createChildVirtualNode(n,s++),n.value,r,o)}(e,t,i,l,h);default:return(0,o.assertSwitchNever)(i,!0),t.createTextNode(""+i)}}}function f(e,t,n,r,o){for(var i=0,a=n;i<a.length;i++){p(e,t,a[i],r,o)}}function m(e,t,n,r,i,a,s){if(s){var l=e.aggregators,u=s.activate(t.ltm.innerLtmRoot),c=new o.AggregationRelay(l,a),d=u.condition?{}:null,f=t.createChildDynamicNode({type:"if",weaveNode:n,logicalTreeNodeId:r,aggrRelay:c,concealmentBehavior:n.concealmentBehavior,content:s,internalContext:i,initAggrResults:d,initRenderChangeIndex:s.changeIndex});if(u.condition){var m=(0,o.buildMapOfArray)(c.relayedKeys);p(e,f,u.weaveNode,i,m);var h=(0,o.aggregateResults)(l,m);for(var v in c.relay(h),h)d[v]=h[v]}f.seal()}}})),
define("Weave/Core/InputBindings",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.InputBindingsManager=void 0;var n=function(){function e(){}return e.prototype.resolveInputBinding=function(e,t,n){var o=e.inputBindings?r(e.inputBindings,t):-1;if(o<0)throw new Error('Input binding "'.concat(t,'" not initialized.'));var i=e.inputBindings[o];if(!n.includes(i.type))throw new Error('Input binding "'.concat(t,'" type not match, expected: "').concat(n.join("|"),'", actual: "').concat(i.type,'".'));return i},e.prototype.ensureNoInputBindingExists=function(e,t){if(e.inputBindings&&r(e.inputBindings,t)>=0)throw new Error('Input binding "'.concat(t,'" already initialized.'))},e.prototype.createInputBinding=function(e,t){e.inputBindings?e.inputBindings.push(t):e.inputBindings=[t]},e}();function r(e,t){for(var n=0;n<e.length;++n)if(e[n].name===t)return n;return-1}t.InputBindingsManager=n})),
define("Weave/Core/LifetimeManager",["require","exports","Weave/Core/WeaveUtil","Weave/Core/InternalUtil"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createLifetimeManagerRoot=function(){return a(o++,void 0)},t.preorderTraversal=l;var o=0;function i(){return a(this.treeId,this)}function a(e,t){var n={children:[],css:[],dynamicNodes:[],elementNodes:[],indexInParentArray:t?t.children.length:-1,innerLtmRoot:new u,parent:t,treeId:e,createChildNode:i,detachNode:s};return t&&t.children.push(n),n}function s(){if(this.parent){var e=this.parent.children.pop();e!==this&&(this.parent.children[this.indexInParentArray]=e,e.indexInParentArray=this.indexInParentArray),this.parent=void 0}}function l(e,t){t(e);for(var n=e.children.slice(0),r=n.length-1;r>=0;r--)l(n[r],t)}var u=function(){function e(e){this.children=[],this.detachNode=s,this._disposeFn=[],this._isDisposed=!1,this.parent=e,this.indexInParentArray=e?e.children.length:-1}return e.prototype.dispose=function(){this._isDisposed||l(this,(function(e){e.detachNode(),e._isDisposed=!0,e._disposeFn&&e._disposeFn.forEach(c),e._disposeFn.length=0}))},e.prototype.createChildLifetime=function(){if(this._isDisposed)return p;var t=new e(this);return this.children.push(t),t},e.prototype.registerForDispose=function(e){if((0,r.isReadonlyArray)(e))for(var t=0,n=e;t<n.length;t++){var o=n[t];this._registerSingleForDispose(o)}else this._registerSingleForDispose(e);return this},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype._registerSingleForDispose=function(e){e&&(this._isDisposed?c(e):this._disposeFn.push(e))},e}();function c(e){"function"==typeof e.dispose?d((function(){return e.dispose()})):d(e)}function d(e){try{e()}catch(e){(0,n.raiseAsyncError)(e)}}var p=new u;p.dispose()})),
define("Weave/Core/MemoryManager",["require","exports","Weave/Core/LifetimeManager","Weave/Core/InternalUtil"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryManager=void 0;var o=function(){function e(){this.outerLtmRoot=(0,n.createLifetimeManagerRoot)(),this._elementNodeLookup=new Map,this._dynamicNodeLookup=new Map,this._treeId=this.outerLtmRoot.treeId,this._disposed=!1}return e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.release(this.outerLtmRoot,null),this._elementNodeLookup.clear(),this._dynamicNodeLookup.clear())},e.prototype.getAndEnsureElementNode=function(e){var t=this._elementNodeLookup.get(e);if(!t)throw new Error("Element node not found by id: ".concat(e));return t},e.prototype.tryGetElementNode=function(e){return this._elementNodeLookup.get(e)},e.prototype.getAndEnsureDynamicNode=function(e){var t=this._dynamicNodeLookup.get(e);if(!t)throw new Error("Dynamic node not found by id: ".concat(e));return t},e.prototype.getDynamicNodeLtm=function(e){return this.getAndEnsureDynamicNode(e).selfLtm.innerLtmRoot},e.prototype.getElementNodeLtm=function(e){return this.getAndEnsureElementNode(e).ltm.innerLtmRoot},e.prototype.setElementNode=function(e){var t=e.nodeId;this._elementNodeLookup.set(t,e),e.ltm.elementNodes.push(t)},e.prototype.setDynamicNode=function(e){var t=e.nodeId;this._dynamicNodeLookup.set(t,e),e.selfLtm.dynamicNodes.push(t)},e.prototype.ensureContentDisposed=function(e,t){(0,r.ensureDynamicNodeOperation)(e.type,1),e.contentLtm&&(this.release(e.contentLtm,t),e.contentLtm=null)},e.prototype.getDebugInfo=function(){return{elementNodeLookupSize:this._elementNodeLookup.size,dynamicNodeLookupSize:this._dynamicNodeLookup.size}},e.prototype.releaseDynamicNode=function(e,t){var n=this.getAndEnsureDynamicNode(e);return(0,r.ensureDynamicNodeOperation)(n.type,2),this.release(n.selfLtm,t),n},e.prototype.release=function(e,t){var r=this;e.detachNode(),(0,n.preorderTraversal)(e,(function(e){r._disposed||(t&&t(e),i(r._elementNodeLookup,e.elementNodes),i(r._dynamicNodeLookup,e.dynamicNodes)),e.innerLtmRoot.dispose()}))},e}();function i(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];e.delete(o)}}t.MemoryManager=o})),
define("Weave/Core/RenderAgentBase",["require","exports","Weave/Core/MemoryManager","Weave","Weave/Core/InternalUtil","Weave/Core/CollectRenderInfo","Weave/Core/ApplyBindings","Weave/Core/WeaveUtil"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.RenderAgentBase=void 0;var l=function(){function e(e,t,r){var o=this;this._handleAttribute=e,this._createNewState=t,this._memoryManager=new n.MemoryManager,this._cssMetadataMap=new Map,this._ltmRemovalCallback=function(e){for(var t=0,n=e.css;t<n.length;t++){var r=n[t];if(--o._cssMetadataMap.get(r).newRefCount<0)throw new Error("Logic error: css refCount became negative")}},this._customEventDataProvider=r||function(){return u}}return e.prototype.clear=function(e){var t,n,r=this._memoryManager.getAndEnsureDynamicNode(e.dynamicNodeId);this.clearLogicalState(r,e,!0);var o=(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.weaveNode)||void 0===n?void 0:n["data-odebug"])||"";this.clearVisualState(r,o),this.applyCssChanges()},e.prototype.remove=function(e){var t,n,r=(null===(n=null===(t=e.metadata)||void 0===t?void 0:t.weaveNode)||void 0===n?void 0:n["data-odebug"])||"";this.removeVisualState(this.removeLogicalState(e.dynamicNodeId,e),r),this.applyCssChanges()},e.prototype.replaceContent=function(e,t,n,r,i){var a,s,l=this,u=this._memoryManager.getAndEnsureDynamicNode(e.dynamicNodeId);if((0,o.ensureDynamicNodeOperation)(u.type,4),(0,o.ensureDynamicNodeOperation)(u.type,1),this.clearLogicalState(u,e,i),i){var c=(null===(s=null===(a=e.metadata)||void 0===a?void 0:a.weaveNode)||void 0===s?void 0:s["data-odebug"])||"";this.clearVisualState(u,c)}var d=u.selfLtm,p=u.contentLtm=d.createChildNode(),f=this.render(p,e,t,n,r,void 0,(function(e,t){l.applyCssChanges(),l.setContent(e,t,u)}));return(0,o.aggregateResults)(r.aggregators,f)},e.prototype.getElementMetadata=function(e){return this._memoryManager.getAndEnsureElementNode(e)},e.prototype.getDynamicNodeLtm=function(e){return this._memoryManager.getDynamicNodeLtm(e)},e.prototype.getElementNodeLtm=function(e){return this._memoryManager.getElementNodeLtm(e)},e.prototype.getMemoryDebugInfo=function(){return this._memoryManager.getDebugInfo()},e.prototype.dispose=function(){this._memoryManager.dispose()},e.prototype.render=function(e,t,n,r,s,l,u){var c=(0,o.buildMapOfArray)(s.relayedKeys),d=this._createNewState&&this._createNewState(),p=this.createCollector(e,t);(0,i.collectRenderInfo)({aggregators:s.aggregators,attributesHandler:this._handleAttribute,cssMetadataMap:this._cssMetadataMap,hooksState:d},p,n,r,c);var f=this.sealCollector(p,d);return this.buildNodeLookup(f),u(f,d),(0,a.applyBindings)(this.thisInstance,f.elementBindings,f.dynamicBindings,l),c},e.prototype.removeLogicalState=function(e,t){return this._memoryManager.releaseDynamicNode(e,this._ltmRemovalCallback)},e.prototype.initInputBinding=function(e,t,n,i){var a=(0,o.isNotNullNorUndefined)(n),l=(0,o.isNotNullNorUndefined)(i);if(a||l){var u=this.getElementMetadata(e),c=this;a&&l?(this.initTwoWayInputBinding(e,t,(function(e){try{i(e)}catch(e){(0,s.raiseAsyncError)(e)}return(0,r.evaluate)(u.ltm.innerLtmRoot,n)})),d()):l?this.initValueSubscribeInputBinding(e,t,i):(this.initValuePushInputBinding(e,t),d())}function d(){(0,o.activateAndRun)(c,e,n,(function(n){c.pushInputValue(e,t,n)}))}},e}();t.RenderAgentBase=l;var u={};Object.freeze(u)})),
define("Weave/SandboxRender/Common",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTextNode=function(e){this.node.children.push({type:"text",text:e})},t.createHTMLNode=function(e){this.node.children.push({type:"html",htmlData:e})}})),
define("Weave/SandboxRender/NodeEditors",["require","exports","Weave/SandboxRender/Common","Weave/SandboxRender/Common","Weave/Core/InternalUtil","Weave/Core/WeaveUtil"],(function(e,t,n,r,o,i){function a(e){var t=(0,o.getUniqueDynamicNodeId)(),l=(0,o.createDynamicNodeLtms)(e.type,this.ltm),u=l.selfLtm,c=l.contentLtm;this.collectors.dynamicBindingCollector.push({dynamicNodeId:t,initContentLtm:c,metadata:e,selfLtm:u});var d={type:"dynamic",nodeId:t,dynamicNodeType:e.type,children:[]};return this.node.children.push(d),{collectors:this.collectors,node:d,nodeId:t,ltm:c||u,createChildDynamicNode:a,createChildElementNode:s,createChildVirtualNode:i.returnThis,createHTMLNode:n.createHTMLNode,createTextNode:r.createTextNode,seal:i.noop}}function s(e){var t={type:"element",tagName:e,attributes:[],children:[]};return this.node.children.push(t),{collectors:this.collectors,elementBinders:[],elementId:"",node:t,ltm:this.ltm,addAttribute:u,addBinding:c,addDebugInfo:p,addDeferredBinding:d,seal:i.noop,sealAttributes:l}}function l(){if(this.elementBinders.length){var e=this.elementId;e||(this.elementId=e=(0,o.getUniqueElementId)(),this.node.attributes.push({name:"id",value:e})),this.collectors.elementBindingCollector.push({elementId:e,binders:this.elementBinders,deferredBinders:void 0,ltm:this.ltm})}return{collectors:this.collectors,node:this.node,ltm:this.ltm,createChildDynamicNode:a,createChildElementNode:s,createChildVirtualNode:i.returnThis,createHTMLNode:n.createHTMLNode,createTextNode:r.createTextNode,seal:i.noop}}function u(e,t){if(e!==e.toLowerCase())throw new Error("Only lowerd case attribute name is allowed: ".concat(e));if("id"===e)throw new Error("id attribute not supported by this api.");return this.node.attributes.push({name:e,value:t}),this}function c(e){return this.elementBinders.push(e),this}function d(){throw new Error("addDeferredBinding is not supported in Sandbox mode yet.")}Object.defineProperty(t,"__esModule",{value:!0}),t.createChildDynamicNode=a,t.createChildElementNode=s;var p=function(e){throw new Error("addDebugInfo not supported in prod mode.")}})),
define("Weave/SandboxRender/RenderAgent",["require","exports","Weave/SandboxRender/Common","Weave/Core/ApplyBindings","Weave/Core/CollectRenderInfo","Weave/Core/AttributeHandler","Weave/Core/InternalUtil","Weave/Core/WeaveUtil","Weave/Core/InternalUtil","Weave/SandboxRender/NodeEditors","Weave/Core/RenderAgentBase","Weave/Core/WeaveUtil","Weave/Core/InputBindings"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p){Object.defineProperty(t,"__esModule",{value:!0}),t.SandboxModeRenderAgent=void 0;var f=function(e){function t(t){var n,r,o=e.call(this,(n=t,r=(0,l.makeMap)(y.concat(n.customAttributeHandlers||[]),(function(e){return e.name}),(function(e){return e.handler}),!1),function(e,t,n,o,a,s,l){var u=r.get(t);u?u(e,n,o,a,s,l):(0,i.htmlAttributeHandler)(e,t,n,0)}),t.hooks.instruction.createNewState,t.customEventDataProvider)||this;o._options=t,o._sendInstruction=o._options.hooks.instruction.sendInstruction,o._postProcessNode=o._options.hooks.instruction.postProcessNode,o._inputBindingsMgr=new p.InputBindingsManager,o.thisInstance=o;var a=[{name:"event",handler:function(e){return o._handleEventNotification(e)}},{name:"twoWayInputBinding",handler:function(e){return o._handleTwoWayInputBindingNotification(e)}},{name:"valueSubscribeInputBinding",handler:function(e){return o._handleValueSubscribeInputBindingNotification(e)}}],s=(0,l.makeMap)(a.concat(t.customNotificationHandlers||[]),(function(e){return e.name}),(function(e){return e.handler}));return t.hooks.registerOnReceive((function(e){var t=s.get(e.type);if(!t)throw new Error("Unknown notification from main thread, ".concat(JSON.stringify(e).slice(0,200)));t(e)})),o}return __extends(t,e),t.prototype.renderRoot=function(){var e=this;this.render(this._memoryManager.outerLtmRoot,void 0,this._options.weaveNode,(0,o.createInternalWeaveContext)(__assign({},this._options.weaveContext)),new a.AggregationRelay(this._options.aggregators,{}),void 0,(function(t,n){e._sendInstruction({type:"setRoot",css:e.consumePendingCssChanges(),rootNode:t.node},n)}))},t.prototype.applyCssChanges=function(){this._sendInstruction({type:"applyCss",css:this.consumePendingCssChanges()})},t.prototype.buildNodeLookup=function(e){for(var t=e.elementBindings,n=e.dynamicBindings,r=0,o=t;r<o.length;r++){var i=o[r];this._memoryManager.setElementNode({nodeId:i.elementId,ltm:i.ltm,eventListeners:void 0})}for(var a=0,s=n;a<s.length;a++){var l=s[a],u=l.metadata;this._memoryManager.setDynamicNode({nodeId:l.dynamicNodeId,type:u.type,contentLtm:l.initContentLtm,selfLtm:l.selfLtm,itemNodesId:"forEach"===u.type?u.initRenderDomInfo.map(m):void 0})}},t.prototype.clearVisualState=function(e){this._sendInstruction({type:"clear",dynamicNodeId:e.nodeId})},t.prototype.createCollector=function(e,t){return{collectors:{dynamicBindingCollector:[],elementBindingCollector:[]},createChildDynamicNode:u.createChildDynamicNode,createChildElementNode:u.createChildElementNode,createChildVirtualNode:d.returnThis,createHTMLNode:n.createHTMLNode,createTextNode:n.createTextNode,ltm:e,node:{children:[]},seal:s.noop}},t.prototype.clearLogicalState=function(e,t,n){this._memoryManager.ensureContentDisposed(e,this._ltmRemovalCallback)},t.prototype.removeVisualState=function(e){this._sendInstruction({type:"remove",dynamicNodeId:e.nodeId})},t.prototype.sealCollector=function(e,t){e.seal();var n=e.node;if(this._postProcessNode){for(var r=[],o=0,i=n.children;o<i.length;o++){var a=i[o];r.push(this._postProcessNode(a,t))}n={children:r}}return{dynamicBindings:e.collectors.dynamicBindingCollector,elementBindings:e.collectors.elementBindingCollector,ltm:e.ltm,node:n}},t.prototype.setContent=function(e,t,n){this._sendInstruction({type:"setContent",dynamicNodeId:n.nodeId,rootNode:e.node},t)},t.prototype.setAttribute=function(e,t,n){this._sendInstruction({type:"setAttribute",elementNodeId:e,attributeName:t,attributeValue:n})},t.prototype.removeAttribute=function(e,t){this._sendInstruction({type:"removeAttribute",elementNodeId:e,attributeName:t})},t.prototype.toggleClass=function(e,t,n){this._sendInstruction({type:"toggleClass",elementNodeId:e,value:{className:t,shouldAdd:n}})},t.prototype.setStyle=function(e,t,n){this._sendInstruction({type:"setStyle",elementNodeId:e,styleName:t,styleValue:n})},t.prototype.addEventListener=function(e,t){var n=t.eventName;if("input"===n)throw new Error("".concat(n," is not allowed through this API: addEventListener"));var r=this._memoryManager.getAndEnsureElementNode(e);r.eventListeners?r.eventListeners.push(t):r.eventListeners=[t],this._sendInstruction({type:"setEventListener",elementNodeId:e,eventName:t.eventName,options:t.options})},t.prototype.toggleDisplay=function(e,t){this._sendInstruction({type:"toggleDisplay",dynamicNodeId:e.dynamicNodeId,shouldShow:t})},t.prototype.setItems=function(e,t,n,i,s){var l=this,u=this._memoryManager.getAndEnsureDynamicNode(e);(0,a.ensureDynamicNodeOperation)(u.type,8);for(var c=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var o=r[n];t.add(o)}return t}(u.itemNodesId),d=0,p=n;d<p.length;d++){if("exist"===(E=p[d]).type){var f=E.metadata.itemId;if(!c.delete(f))throw new Error("The ForEachItem node ".concat(f," doesn't exists, state tracking is lost."))}}c.forEach((function(e){l.removeLogicalState(e,t)}));for(var m=this._createNewState&&this._createNewState(),y=this.createCollector(u.selfLtm,t),b=(0,o.collectForEachItemsRenderInfo)({aggregators:s.aggregators,attributesHandler:this._handleAttribute,cssMetadataMap:this._cssMetadataMap,hooksState:m},t,y,n.filter(v).map(g),i,s),x=this.sealCollector(y,m),C=new Array(n.length),_=new Array(n.length),w=0,P=0;P<n.length;++P){var E;v(E=n[P])?(C[P]=b[w],_[P]=x.node.children[w],++w):(C[P]=E.metadata,_[P]=E.metadata.itemId)}return u.itemNodesId=C.map(h),this._sendInstruction({type:"setItems",css:this.consumePendingCssChanges(),dynamicNodeId:e,items:_},m),this.buildNodeLookup(x),(0,r.applyBindings)(this,x.elementBindings,x.dynamicBindings),C},t.prototype.focus=function(e,t){this._sendInstruction({type:"focus",elemIndex:t,locatorClass:e})},t.prototype.setLocatorClass=function(e,t){this._sendInstruction({type:"setLocatorClass",elementNodeId:e,locatorClass:t})},t.prototype._makeFullEventData=function(e,t,n){return __assign(__assign({ltm:e},n),this._customEventDataProvider(t))},t.prototype.initTwoWayInputBinding=function(e,t,n){var r=this,o=this._memoryManager.getAndEnsureElementNode(e);this._inputBindingsMgr.ensureNoInputBindingExists(o,t),this._inputBindingsMgr.createInputBinding(o,{type:"twoWay",name:t,onNotification:function(o){r._sendInstruction({type:"twoWayInputBindingCommit",elementNodeId:e,inputBindingName:t,value:n(o)})}}),this._sendInstruction({type:"initTwoWayInputBinding",elementNodeId:e,inputBindingName:t})},t.prototype.initValuePushInputBinding=function(e,t){var n=this._memoryManager.getAndEnsureElementNode(e);this._inputBindingsMgr.ensureNoInputBindingExists(n,t),this._inputBindingsMgr.createInputBinding(n,{type:"valuePush",name:t}),this._sendInstruction({type:"initValuePushInputBinding",elementNodeId:e,inputBindingName:t})},t.prototype.initValueSubscribeInputBinding=function(e,t,n){var r=this._memoryManager.getAndEnsureElementNode(e);this._inputBindingsMgr.ensureNoInputBindingExists(r,t),this._inputBindingsMgr.createInputBinding(r,{type:"valueSubscribe",name:t,onNotification:n}),this._sendInstruction({type:"initValueSubscribeInputBinding",elementNodeId:e,inputBindingName:t})},t.prototype.pushInputValue=function(e,t,n){this._sendInstruction({type:"pushInputValue",elementNodeId:e,inputBindingName:t,value:n})},t.prototype._handleEventNotification=function(e){var t=this._memoryManager.tryGetElementNode(e.elementNodeId),n=t&&t.eventListeners;if(n)for(var r=0,o=n;r<o.length;r++){var i=o[r];if(i.eventName===e.eventName)try{i.eventHandler(this._makeFullEventData(t.ltm.innerLtmRoot,e.eventName,e.eventData))}catch(e){(0,d.raiseAsyncError)(e)}}},t.prototype._handleTwoWayInputBindingNotification=function(e){var t=this._memoryManager.tryGetElementNode(e.elementNodeId);t&&this._inputBindingsMgr.resolveInputBinding(t,e.inputBindingName,["twoWay"]).onNotification(this._makeFullEventData(t.ltm.innerLtmRoot,e.inputBindingName,e.eventData))},t.prototype._handleValueSubscribeInputBindingNotification=function(e){var t=this._memoryManager.tryGetElementNode(e.elementNodeId);t&&this._inputBindingsMgr.resolveInputBinding(t,e.inputBindingName,["valueSubscribe"]).onNotification(this._makeFullEventData(t.ltm.innerLtmRoot,e.inputBindingName,e.eventData))},t.prototype.consumePendingCssChanges=function(){var e={},t=[],n=[];return this._cssMetadataMap.forEach((function(r,o){r.isNew&&(r.isNew=!1,e[r.id]=o),0===r.oldRefCount&&r.newRefCount>0?t.push(r.id):r.oldRefCount>0&&0===r.newRefCount&&n.push(r.id),r.oldRefCount=r.newRefCount})),{newCssDefinition:e,addedCss:t,removedCss:n}},t}(c.RenderAgentBase);function m(e){return e.itemId}function h(e){return e.itemId}function v(e){return"new"===e.type}function g(e){return e.weaveNode}t.SandboxModeRenderAgent=f;var y=[{name:"onClick",handler:i.onClickHandler},{name:"onFocusIn",handler:i.onFocusInHandler},{name:"onFocusOut",handler:i.onFocusOutHandler},{name:"onKeyDown",handler:i.onKeyDownHandler},{name:"onKeyUp",handler:i.onKeyUpHandler},{name:"onKeyPress",handler:i.onKeyPressHandler},{name:"onMouseEnter",handler:i.onMouseEnterHandler},{name:"onMouseLeave",handler:i.onMouseLeaveHandler},{name:"id",handler:i.idHandler},{name:"disabled",handler:i.disabledHandler},{name:"readonly",handler:i.readonlyHandler},{name:"ref",handler:i.refHandler},{name:"className",handler:i.classNameHandler},{name:"style",handler:i.styleHandler},{name:"visible",handler:i.visibleHandler},{name:"coords",handler:i.coordsHandler},{name:"autoplay",handler:i.autoplayHandler},{name:"controls",handler:i.controlsHandler},{name:"loop",handler:i.loopHandler},{name:"muted",handler:i.mutedHandler},{name:"autofocus",handler:i.autofocusHandler},{name:"formnovalidate",handler:i.formnovalidateHandler},{name:"hidden",handler:i.hiddenHandler},{name:"open",handler:i.openHandler},{name:"novalidate",handler:i.novalidateHandler},{name:"ismap",handler:i.ismapHandler},{name:"required",handler:i.requiredHandler},{name:"value",handler:i.valueHandler},{name:"reversed",handler:i.reversedHandler},{name:"default",handler:i.defaultHandler},{name:"checked",handler:i.checkedHandler},{name:"onValueChange",handler:i.onValueChangeHandler},{name:"onCheckedChange",handler:i.onCheckedChangeHandler},{name:"multiple",handler:i.multipleHandler}]})),
define("FxInternal/Composition/ViewModelComposer",["require","exports","Fx/Composition/Pdl/Blade","FxInternal/Composition/ViewModelAdapters","FxInternal/Composition/MenuBlade","FxHubs/ProvisioningRpc","FxInternal/Weave/SandboxRender","FxInternal/Composition/ViewModel","Weave","FxInternal/Composition/BladeContainer","FxInternal/Composition/Part","FxInternal/Composition/ContainerViewModel","FxInternal/Composition/CompositionViewModel","Weave/SandboxRender/RenderAgent","Fx/Composition/Selectable","Fx","FxInternal/Utils/Promise","FxInternal"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,m,h,v,g){Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModelProvider=t.tryEarlyGetViewModelEndPoint=t.getPartViewModelEndPoint=t.getViewModelEndPoint=t.getViewModelsDefinition=void 0,t.getViewModelType=w,t.getLocatorFriendlyName=P,t.tryApplyEarlyOnInputsSet=E,t.tryInitializeAsV2ViewModel=I,t.getViewModelClass=k,t.composeViewModel=T,t.composeViewModelWithDi=D,t.canGetViewModelEarly=B,t.getEarlyViewModelTelemetryContext=N;var y=MsPortalFx.Base,b=MsPortalFx.ViewModels,x=FxImpl.TelemetryContext,C=FxImpl.Constants.RpcMethods;t.getViewModelsDefinition=new a.WeaveChannelDefinition(C.viewModels),t.getViewModelEndPoint=t.getViewModelsDefinition,t.getPartViewModelEndPoint=t.getViewModelsDefinition,t.tryEarlyGetViewModelEndPoint=new a.WeaveChannelDefinition(C.tryEarlyGetViewModel);var _=y.Diagnostics.createLog(e);function w(e,t){var n,r,o=129;return t?(o|=64,t.templateBlade&&!t.templateBlade.isV2&&(o=453),t.menuBlade&&(o=t.menuBlade.isV2?204:454),t.tabMenuBlade&&(o=205),o|=((null===(n=t.templateBlade)||void 0===n?void 0:n.isV2)||(null===(r=t.menuBlade)||void 0===r?void 0:r.isV2))&&4096,o|=16&t.attributes&&1536,o|=4&t.attributes&&2048):("object"==typeof e&&(e=e.name),o|=(null==e?void 0:e.toLowerCase().endsWith(".reacttile"))&&1024),o}function P(e,t){return void 0===t&&(t=!0),"Extension/".concat(MsPortalFx.getEnvironmentValue("extensionName"),"/").concat(t?"Blade":"Part","/").concat(e)}function E(e,t){if(F(e,t))return e.onInputsSetPromise=M(e,t),!0}function F(e,t){return!(!t.onInputsSetParameters||!e.updatePartInputValues)}function M(e,t){var n=t.onInputsSetParameters,r={part:n.partFilters,dashboard:n.dashboardFilters};return x.usingState((function(){return e.updatePartInputValues(n.inputs,n.settings,n.traceOptions,n.viewModelName,n.inputsMetadata,n.dontCallViewModelOnInputsSet,r)}),t.telemetryContext)}var S=["title","subtitle","icon","statusBar","menuContent","_msPortalFxV2ShellApi"];function I(e,t,n,r){var o=e.content();if(!o||!o._msPortalFx_viewModelApiV2)return!1;var i=function(){return n&&n(e),!0};if(!E(e,t))return i();e.chrome=S.reduce((function(e,t){return e[t]=ko.observable(),e}),{});var a={},s=e.container,l=t.locator&&t.locator.name;function u(){S.forEach((function(t){if(t in o){var n=o[t];if(t in a)n!==a[t]&&_.error("Property changed non-observably, use an observable instead and update its value: '".concat(t,"' in '").concat(l,"' in '").concat(MsPortalFx.getEnvironmentValue("extensionName"),"'"));else{var r=e.chrome[t];ko.isObservable(n)?(r(n()),n.subscribe(s,r)):r(n),a[t]=n}}}))}var d=o._viewModel;if(d){var f=Reflect.getOwnMetadata("fx:weavebladeexports",d.constructor.prototype),m=f&&f.commandBar;m&&(o.commandBar=d[m]())}if(u(),r){var h={_msPortalFx_contentRevealedPromise:Q(),_msPortalFx_viewModelApiV2:!0,_msPortalFxV2ShellApi:o._msPortalFxV2ShellApi,onInputsSet:function(){o.onInputsSet.apply(o,arguments)}};o.hasOwnProperty("commandBar")&&(h.commandBar=o.commandBar),e.content(h)}else e.content(null),function(e,t){var n,r=e.container;if(e instanceof c.Part)n=r.operations.blockingUi;else{if(!(e instanceof p.CompositionViewModel))throw new Error("Unexpected view model");n=ko.pureComputed((function(){return 2===e.state()}))}n.fxOnceAndRun(r,(function(e){t()}),(function(e){return!e}))}(e,(function(){u(),e.content(o)}));return i()}function k(t){return t?Q(g.tryImmediateResolve(MsPortalFx.require(t.module,e),(function(e){return e[t.export]}))):Q()}function A(e,t,n,o,a){return Q(g.tryImmediateResolve(k(t),(function(t){if(o&&t){var l=r.isWeaveEnabled(t);return x.usingState((function(){return o.set(s.PartContext,y.Diagnostics.Telemetry.Context.getPartContext()),function(e){return!!e&&!(!e._fx||void 0===e._fx.itemType)}(t)?function(e){return!!e&&!(!e._fx||void 0===e._fx.doesProvisioning)}(t)?i.provisioningContextEndpoint.invoke(e,"fx",{}).then((function(e){return{viewModel:new r.ViewModelAdapter(o,t,e),enableWeave:l}})):Q({viewModel:new r.ViewModelAdapter(o,t),enableWeave:l}):Q({viewModel:Reflect.getOwnMetadata("fx:class",t)?o.get(t):new t(o),enableWeave:l})}),n)}return Q({viewModel:a(),enableWeave:!1})})))}function T(e,t,n,r){var o=t?b.Part.createSelectableViewModel():void 0,i=t?new d.SelectableContainerViewModel({selectable:o}):new d.ContainerViewModel,a=e(i),s=function(e){var t=new p.CompositionViewModel(i,e,r);return n&&n(e),t};return h.isPromiseLike(a)?Q(a.then(s)):s(a)}function D(e,t,n,r,o,i,a){return Q(T((function(o){return e.set(b.PartContainerContract,o).set(b.ContainerContract,o).set(b.CommandContainerContract,o),o.registerForDispose((function(){return e.disposeAsync()})),A(e.get(FxImpl.Rpc.Client),t,n,e,(function(){return r(o)})).then((function(e){return e.viewModel}))}),o,i,a))}var R=function(){function e(e,t,n,r){this._sdkEnv=e,this._entryPoint=t,this._rpcClient=n,this._waitForExtensionIdle=r}return e.prototype._v1EarlyOnInputsSet=function(e,t,n){var r;F(e,t)&&(r=Q.defer(),e.onInputsSetPromise=r.promise),n&&n(e);var o=e.content(),i=t.partSize;"number"==typeof i&&o&&ko.isObservable(o.size)&&o.size(i),r&&r.resolve(M(e,t))},e.prototype.getObservable=function(e,t,n,r){var o=this,i=n.telemetryContext,a=x.usingState((function(){return 128&n.type?o._getPartViewModel(e,t,n,r):o._getViewModel(e,n,r)}),i);if(!a)throw new Error("Cannot provide the required object.");return a},e.prototype.tryEarlyGetViewModel=function(e,t,n,r,o,i){return B(o,n)?this.getObservable(e,i,{locator:o.viewModelLocator,type:w(t,o),contentSize:null,flags:2|(r.partialFlags||0),menuId:r&&r.menuId,onInputsSetParameters:{inputs:n,traceOptions:null,viewModelName:O(o,r.sequenceNumber),settings:void 0,inputsMetadata:void 0,dontCallViewModelOnInputsSet:void 0,dashboardFilters:void 0,partFilters:void 0},telemetryContext:N(t,r.sequenceNumber)}):Q(null)},e.prototype.getGalleryServiceViewModel=function(e){var t=this,n=this._sdkEnv.marketplaceViewModelLocator;if(!n)return Q();var r=D(e,n,null,(function(e){return t._entryPoint.getViewModel(n.name,e)}),!1);return Q(r).then((function(e){return e.content=ko.unwrap(e.content),e}))},e.prototype._getViewModel=function(e,t,n){var r=this,o=t.earlyExecTask&&function(e){!function(e,t){var n,r=t.method,o=e[r];"function"==typeof o?n=function(e,t){var n=t.resourceMenuArgs,r=t.method,o=n&&(("getMenuConfig"===r||"getResourceMenuConfig"===r)&&MsPortalFx.identity||"getResourceAndMenuConfig"===r&&function(e){return e&&e.menuConfig});return o?e.then((function(e){var t=o(e);return t?function(e,t){var n,r,o,i,a=t[0],s=(t[1],function(e){return e.supplyBladeReference?Promise.resolve(e.supplyBladeReference()):Promise.resolve((0,v.ensureAsyncMethodReturnsPromiseForBackCompat)(e.supplyBladeReferenceAsync,e))}),l=void 0!==a&&(a||e.defaultItemId||e.overview&&e.overview.id),u=l&&(MsPortalFx.find(MsPortalFx.mapMany(e.groups||[],(function(e){return e.items||[]})),(function(e){return e&&(e.id===l||!!MsPortalFx.find(e.tabItems,(function(e){return e.id===l})))}))||((null===(n=e.overview)||void 0===n?void 0:n.id)===l||!!MsPortalFx.find(null===(r=e.overview)||void 0===r?void 0:r.tabItems,(function(e){return e.id===l})))&&e.overview);if(u)if(u.tabItems){var c=u.id===l?MsPortalFx.first(u.tabItems):MsPortalFx.find(u.tabItems,(function(e){return e.id===l})),d=new m.MenuBladeReference("HostedTabMenuBlade",u.id,"HubsExtension",{parameters:{menuId:c.id,menuItems:u.tabItems.map((function(e){return{id:e.id,displayText:e.displayText}}))}});c&&(c.supplyBladeReference||c.supplyBladeReferenceAsync)&&(i=Promise.resolve(d),o=s(c))}else(u.supplyBladeReference||u.supplyBladeReferenceAsync)&&(o=s(u));var p=function(t){e._msPortalFx_bladeReferencePrefetch=t};return o||i?Promise.resolve(o).finally((function(){p({tabBladeReferencePromise:i,contentBladeReferencePromise:o,menuItemId:l})})):(p(void 0),Promise.resolve())}(t,n).then((function(){return e}),(function(){return e})):e})):e}(n=Q.fcall((function(){return o.apply(e,t.args)})),t):t.ignoreMissingMethod||(n=Q.reject(new Error("EarlyExecTask failed. Missing function ".concat(t.method,"."))));t.keepReturnsIn&&(e["_msPortalFx_earlyExec"+t.keepReturnsIn]=n)}(e,t.earlyExecTask)};return D(e,t.locator,t.telemetryContext,(function(e){return r._entryPoint.getViewModel(t.locator.name,e)}),t.createSelectable,o).then((function(e){return r._v1EarlyOnInputsSet(e,t,n),e}))},e.prototype._downloadBladeBundles=function(e,t){if(e){var n=e,r=n.extensionName,o=n.bladeName;t.findIndex((function(e){return r===e}))>=0&&!o.toLowerCase().endsWith(".ReactView".toLowerCase())&&FxImpl.Extension.downloadBladeBundlesEndPoint.invoke(this._rpcClient,r,o)}},e.prototype._getPartViewModel=function(e,t,r,i){var s=this,d=r.locator.name,m=(0,p.createFrameworkPartViewModel)();m.getViewModelStart=Date.now();var v,g,y,C,_,w=function(e,t,r){var o=256&r.viewModelType,i=o?new u.BladeContainer(t,r):new c.PartContainer(t,r);return i._internal_noLazyRender=(0,l.makeWritableComputation)(!1),o&&e.set(n.Container,i),e.set(b.ContainerContract,i).set(b.PartContainerContract,i),i}(e,m,{selectable:r.createSelectable?b.Part.createSelectableViewModel():void 0,location:r.partLocation,flags:r.flags,viewModelType:r.type});if(r.contentSize&&(w.height(r.contentSize.height),w.width(r.contentSize.width)),(454&r.type||204&r.type)&&8&~r.flags){var E=Q.defer(),F=Q.defer();(0,o.setInitialMenuItem)(w,{id:r.menuId,setBladeReferencePromise:function(e,t,n){var r=Promise.all([e,t]).then((function(e){var t=e[0],r=e[1];(t||r)&&n&&(s._downloadBladeBundles(t,[n,"HubsExtension"]),s._downloadBladeBundles(r,[n])),E.resolve(t),F.resolve(r)}),(function(e){E.reject(e),F.reject(e)}));return v=r,r.then((function(){return h.delay(0)}))}});var M=MsPortalFx.identity,S=function(){return Q.reject()};m.initialMenuHeaderBlade=E.promise.then(M,S),m.initialMenuContentBlade=F.promise.then(M,S)}if(64&r.type){var k,T=function(){m.onInitializeAsyncTime(fx.getTimestamp()-k)};if(C=function(){k=m.onInitializeStart=fx.getTimestamp()},_=function(e){e.onInputsSetPromise&&e.onInputsSetPromise.then(T)},FxImpl.features.isNativePerf){var D=x.getCurrentValue(x.ContextType.Blade),R=P(D&&D.id||"<unknown>").toLowerCase(),B=function(e){return"".concat(e,": ").concat(R)},N=B("ExtInstantiateBladeClass"),O=B("ExtBladeOnInitializeSync"),j=B("ExtBladeOnInitializeAsync");g=function(){performance.mark(N)},y=function(){performance.measure(N,N)},C=L(C,(function(){performance.mark(O),m.onInitializeStartMark=O})),_=L(_,(function(){performance.measure(O,O)})),T=L(T,(function(){performance.measure(j,O)}))}}return g&&g(),A(this._rpcClient,r.locator,r.telemetryContext,e,(function(){return s._entryPoint.getPartViewModel(d,w)})).then((function(n){var o=n.viewModel,l=n.enableWeave;y&&y();var d=r.collapsed;MsPortalFx.isNullOrUndefined(d)||o.collapsed(d),256&r.type&&(0,u.bindActionBar)(w,o);var p="Extension/".concat(FxImpl.postBootEnv.extensionName,"/PartType/").concat(r.locator.name),h=new c.Part(m,w,o,null,p,r.type,s._waitForExtensionIdle);if(h.container.registerForDispose((function(){e.disposeAsync()})),C&&C(),I(h,r,i,!!l)||s._v1EarlyOnInputsSet(h,r,i),_&&_(h),t&&l){if(!["HubsExtension"].includes(t.destWindowId))throw new Error("TemplateBlade2 is not supported for your extension: "+t.destWindowId);var v=(0,a.createSandboxModeRenderAgent)(f.SandboxModeRenderAgent,t.port,o.weave(),{diContainer:e,extensionName:t.destWindowId,noLazyRender:e.get(b.ContainerContract)._internal_noLazyRender,partName:r.locator.name,hostedInExtension:!0});t.ltm.registerForDispose(v)}return h})).then((function(e){return v?v.then((function(){return e})):e}))},e}();function B(e,t){var n=!e.editScopeType&&(e.templateBlade&&!e.templateBlade.partState&&!e.templateBlade.parameterProvider||e.menuBlade||e.tabMenuBlade||e.frameBlade&&!e.frameBlade.partState),r=(e.inputs||[]).some((function(e){return!t.hasOwnProperty(e)}));return n&&!r}function N(e,t){var n,r=P(e),o=MsPortalFx.sessionId,i="Blade_".concat(o,"_").concat(t,"_0"),a="Part_".concat(o,"_").concat(t,"_0"),s={id:"".concat(r,"/Lens/TemplateBladeVirtualLens/PartInstance/").concat(e),instanceId:a,bladeId:r,bladeInstanceId:i,onBlade:!0,onStartBoard:!1,bladeCustomized:!1},l={id:r,instanceId:i};return FxImpl.TelemetryContext.provideContext((function(){FxImpl.TelemetryContext.provideContext((function(){n=FxImpl.TelemetryContext.getState()}),FxImpl.TelemetryContext.ContextType.Part,s)}),FxImpl.TelemetryContext.ContextType.Blade,l),n}function O(e,t){var n=e.name,r=e.viewModelName;return"{ Name: Part, Type: [0]".concat(MsPortalFx.getEnvironmentValue("extensionName"),"-[1]").concat(n,"-[2]TemplateBladeVirtualLens-[5]").concat(n,", Id: Part-").concat(n,"-").concat(t," } (ViewModel: ").concat(r||"N/A",")")}function L(e,t){return function(){e.apply(null,arguments),t.apply(null,arguments)}}t.ViewModelProvider=R})),
define("FxHubs/Common/AssetViewModelCommon",["require","exports","Fx/DependencyInjection","FxHubs/RpcEndPoints","FxHubs/ResourceManagement","FxInternal/Composition/ViewModelComposer","FxInternal/Composition/ViewModel"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.AssetTypeViewModelWrapperImpl=t.AssetTypeViewModelWrapper=void 0,t.getAssetTypeViewModel=function(e,t,o){var d;t instanceof n.Container?o=t:d=t;var p=e.assetType,f=e.viewModel;if(u(e)){if(!o)throw new Error("Not implemented");return r.AssetMenu.getReactAssetTypeViewModelEndpoint.acquireObject(FxImpl.Rpc.client,MsPortalFx.Base.Constants.Shell,{extensionName:e.viewModelExtensionName||e.extensionName,moduleName:c(e),bladeInstanceId:o.get(a.PartContext).bladeInstanceId}).then((function(t){return new s(e,p,f,(function(){t.value.dispose(),t.dispose()}),(function(){return t.value}))}))}if("HubsExtension"===e.extensionName){if(d)throw new Error("Local asset type view models do not support early exec tasks");return(0,i.composeViewModelWithDi)(n.container.createChildContainer("viewModel"),e.viewModelLocator,null).then((function(t){return new l(e,p,f,{value:f,dispose:function(){}},t)}))}return i.getViewModelEndPoint.acquireChannel(FxImpl.Rpc.client,e.viewModelExtensionName||e.extensionName,{type:11,locator:e.viewModelLocator||{name:f},createSelectable:!1,earlyExecTask:d}).then((function(t){return new l(e,p,f,t,t.value)}))},t.isReactViewAssetTypeViewModel=u;var s=function(){function e(e,t,n,r,o){this._dispose=r,this._getContent=o,this.assetTypeInformation=e,this.assetTypeName=t,this.assetTypeViewModelName=n}return e.prototype.dispose=function(){this._dispose()},e.prototype.getAssetTypeContract=function(e){return(0,o.supportsContract)(this.assetTypeInformation.contracts,e)?this._getContent():null},e}();t.AssetTypeViewModelWrapper=s;var l=function(e){function t(t,n,r,o,i){return e.call(this,t,n,r,(function(){MsPortalFx.disposeViewModelProperties(i),o.dispose()}),(function(){return i.content()}))||this}return __extends(t,e),t}(s);function u(e){var t,n;return null===(n=null===(t=null==e?void 0:e.viewModelLocator)||void 0===t?void 0:t.module)||void 0===n?void 0:n.endsWith(".AssetType")}function c(e){return e.viewModelLocator.module.split("/").slice(-1)[0]}t.AssetTypeViewModelWrapperImpl=l})),
define("FxHubs/Common/ResourcesOperationsCache",["require","exports","Fx/DependencyInjection","FxHubs/ArmHelpers/ArmEventsHelpers","FxHubs/ArmClient"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesOperationsCache=void 0;var i,a=MsPortalFx.Base.Constants.ResourceTypes,s=12e4,l=!1,u=!1,c=function(e){MsPortalFx.remove(e,(function(e){return e.timeToLive<=0})),e.forEach((function(e){return e.timeToLive-=6e4}))},d=function(){function t(e){this._diContainer=e,this._deletedResourcesIds=ko.observableArray([]),this._createdResourceGroups=ko.observableArray([]),this._createdResources=ko.observableArray([]),this._ltm=new FxImpl.TriggerableLifetimeManager}return t.prototype.watchArmEvents=function(e,t){return l?null:(l=!0,this.watchForResourceDeletes(e,t))},t.prototype.addDeletedResourceId=function(e){this._deletedResourcesIds.push({timeToLive:s,value:e}),u||this.setClearTimer()},t.prototype.getDeletedResourceIds=function(){return this._deletedResourcesIds.map(this._ltm,(function(e,t){return t.value}))},t.prototype.addNewlyCreatedResourceGroup=function(e){this._createdResourceGroups().some((function(t){return t.value.armResourceGroup.id.toLowerCase()===e.armResourceGroup.id.toLowerCase()}))||(this._createdResourceGroups.push({timeToLive:s,value:e}),MsPortalFx.remove(this._deletedResourcesIds(),(function(t){return t.value.toLowerCase()===e.armResourceGroup.id.toLowerCase()})),u||this.setClearTimer())},t.prototype.getCreatedResourceGroups=function(){return this._createdResourceGroups.map(this._ltm,(function(e,t){return t.value}))},t.prototype.addNewlyCreatedResources=function(e){var t=this;MsPortalFx.remove(this._deletedResourcesIds(),(function(t){return e.some((function(e){return(null==e?void 0:e.toLowerCase())===t.value.toLowerCase()}))}));for(var n=0,r=e.slice(0,10);n<r.length;n++){var i=r[n];(0,o.getResource)(i,"ResourcesOperationsCache").then((function(e){t._createdResources.push({timeToLive:s,value:e})}))}u||this.setClearTimer()},t.prototype.getCreatedResources=function(){return this._createdResources.map(this._ltm,(function(e,t){return t.value}))},t.prototype.watchForResourceDeletes=function(e,t){var n=new r.ArmEventWatcher(this._diContainer);return n.attachEventWatch((a.AllResources||"").toLowerCase(),{resourceGroupDeleted:this.makeResourceOrGroupDeletedFunc(),resourceDeleted:this.makeResourceOrGroupDeletedFunc()},this._ltm,e,t),n},t.prototype.makeResourceOrGroupDeletedFunc=function(){var e=this;return function(t){t.forEach((function(t){e.addDeletedResourceId(t.assetId)}))}},t.prototype.clearCache=function(){c(this._deletedResourcesIds()),c(this._createdResourceGroups()),this._createdResourceGroups().length+this._deletedResourcesIds().length===0&&(clearInterval(i),u=!1)},t.prototype.setClearTimer=function(){var e=this;u=!0,i=setInterval((function(){return e.clearCache()}),6e4)},t=__decorate([__metadata("fx:diagnostics",[e,"ResourcesOperationsCache"]),n.Class(),__metadata("design:paramtypes",[n.Container])],t)}();t.ResourcesOperationsCache=d})),
define("FxHubs/Helpers/NotificationHelper",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.htmlTagRegex=t.linkUrlRegex=void 0,t.convertStringToHtml=function(e){if(!e)return e;var n=e.match(t.linkUrlRegex);if(n&&(null==n?void 0:n.length)>0){var r="",o=0;return n.map((function(e){return e.trim()})).filter((function(e){return!!e})).forEach((function(t){var n=e.indexOf(t,o);r+=e.substring(o,n);for(var i=t.charAt(t.length-1),a=t,s="";"."===i||","===i;)s=i+s,i=(a=a.slice(0,-1)).charAt(a.length-1);a.length<t.length?r+='<a target="_blank" class="msportalfx-ext-link" href="'.concat(encodeURI(a),'">').concat(a,"</a>").concat(s):r+='<a target="_blank" class="msportalfx-ext-link" href="'.concat(encodeURI(t),'">').concat(t,"</a>"),o=n+t.length})),r="<div>".concat(r).concat(e.substring(o),"</div>")}return e},t.escapeHtmlTags=function(e){if(!e)return e;return e.replaceAll("<","&lt").replaceAll(">","&gt")},t.linkUrlRegex=new RegExp(/\bhttps:\/\/[a-z0-9][^\s"]*/,"gi"),t.htmlTagRegex=new RegExp(/</,"g")})),
define("FxHubs/Helpers/PermissionsHelpers",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEV=void 0,t.subscriptionRequiresRdfe=function(e){if("false"===MsPortalFx.getFeatureValue("rdfe"))return!1;return!e||!e.subscriptionPolicies||!o[(e.subscriptionPolicies.quotaId||"").toLowerCase()]},t.isCoAdminOnSub=function(e){return n.getSubscriptionInfo(e).then((function(e){return(e.authorizationSource||"").toLowerCase().includes("legacy")}))};var n=MsPortalFx.Azure,r=MsPortalFx.getEnvironmentValue("armSubscriptionQuotaIds",[]);var o=MsPortalFx.convertArrayToMap(r,(function(e){return(e||"").toLowerCase()}),(function(){return!0}))})),
define("FxHubs/PrewarmerEntryPoint",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsContext=void 0;var r=MsPortalFx.Azure,o=function(){function t(){}return t.prototype.getSubscription=function(e){return r.getSubscriptionInfo(e)},t=__decorate([__metadata("fx:diagnostics",[e,"SubscriptionsContext"]),n.Class()],t)}();t.SubscriptionsContext=o})),
define("FxHubs/ResourceCommands/BrowseBulkCommandConfig",["require","exports","FxHubs/Resources/FxHubsClientStrings"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BulkCommandDefinitions=t.AzureSqlCommandDefinition=t.EHNamespacesCommandDefinition=t.SBNamespacesCommandDefinition=t.CloudSimpleDedicatedCloudServicesCommandDefinition=t.CloudSimpleDedicatedCloudNodesCommandDefinition=t.CloudSimpleVMCommandDefinition=t.MlWorkspacesCommandDefinition=t.SqlDatabasesCommandDefinition=t.StorageCommandDefinition=t.AppServiceCommandDefinition=t.CloudServicesCommandDefinition=t.VirtualMachineScaleSetsCommandDefinition=t.AllResourcesCommandDefinition=void 0;var r=MsPortalFx.Base.Images;function o(e){return a.confirmCommand.format(e.toLowerCase())}var i=MsPortalFx.isFeatureEnabled("forcedelete"),a=n.BulkCommand,s="api-version=2015-06-01",l="api-version=2016-08-01",u=i?"api-version=2020-12-01":"api-version=2016-03-30",c="api-version=2017-03-30",d="api-version=2017-10-01-preview",p="api-version=2019-04-01",f="api-version=2017-04-01",m=a.confirmDeleteDescription,h=a.confirmStopVirtualMachineScaleSets,v=o(a.start),g=o(a.stop),y=o(a.restart),b=o(a.delete),x=o(a.suspend),C={"microsoft.compute/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?"+u,asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}},"microsoft.classiccompute/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?keep-disks=true&api-version=2015-12-01",asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}}},_={"microsoft.compute/virtualmachinescalesets":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2020-12-01",asyncOperation:{pollingHeaderOverride:"Azure-AsyncOperation"}}},w={"microsoft.sql/servers/databases":{httpMethodType:"DELETE",uri:"{resourceid}?"+d},"microsoft.sql/servers/elasticpools":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2017-10-01-preview"},"microsoft.sql/managedinstances":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-05-01-preview"},"microsoft.sqlvirtualmachine/sqlvirtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2017-03-01-preview"},"microsoft.sql/servers":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-05-01-preview"}},P={"microsoft.web/sites":{httpMethodType:"DELETE",uri:"{resourceid}?deleteEmptyServerFarm=false&"+l}};t.AllResourcesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.resources,a.confirmDeleteAllResources)},isBulkDeleteOperation:!0,armCommandDefinitions:MsPortalFx.extend2({"*":{httpMethodType:"DELETE",uri:null,retryableArmCodes:["publicipaddresscannotbedeleted","inusenetworksecuritygroupcannotbedeleted","nicinuse","inusesubnetcannotbedeleted","storageaccountoperationfailed"]}},C,i&&_,P)}],t.VirtualMachineScaleSetsCommandDefinition=[{id:"BulkStart",label:a.start,icon:r.Start(),confirmation:{message:v},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/start?"+c}}},{id:"BulkRestart",label:a.restart,icon:r.Redo(),confirmation:{message:h.format(a.restart.toLowerCase())},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/restart?"+c}}},{id:"BulkStop",label:a.stop,icon:r.Stop(),confirmation:{message:h.format(a.stop.toLowerCase())},armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{uri:"{resourceid}/deallocate?"+c}}},{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.virtualMachineScaleSets,a.confirmDeleteVirtualMachineScaleSets)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.compute/virtualmachinescalesets":{httpMethodType:"DELETE",uri:"{resourceid}?"+c}}}],t.CloudServicesCommandDefinition=[{id:"BulkStartProduction",label:a.startProduction,icon:r.Start(),confirmation:{message:a.confirmStartProdCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/production/start?"+s}}},{id:"BulkStopProduction",label:a.stopProduction,icon:r.Stop(),confirmation:{title:a.confirmStopProdCloudServicesTitle,message:a.confirmBillingInfo},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/production/stop?"+s}}},{id:"BulkStartStaging",label:a.startStaging,icon:r.Start(),confirmation:{message:a.confirmStartStagingCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/staging/start?"+s}}},{id:"BulkStopStaging",label:a.stopStaging,icon:r.Stop(),confirmation:{title:a.confirmStopStagingCloudServicesTitle,message:a.confirmBillingInfo},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/slots/staging/stop?"+s}}},{id:"BulkSwap",label:a.swap,icon:r.Swap(),confirmation:{message:a.confirmSwapCloudServices},armCommandDefinitions:{"microsoft.classiccompute/domainnames":{uri:"{resourceid}/swap?"+s}}},{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.cloudServices,a.confirmDeleteCloudServices)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.classiccompute/domainnames":{httpMethodType:"DELETE",uri:"{resourceid}?force=true&"+s}}}],t.AppServiceCommandDefinition=[{id:"BulkStart",label:a.start,icon:r.Start(),confirmation:{message:v},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/start?"+l}}},{id:"BulkRestart",label:a.restart,icon:r.Redo(),confirmation:{message:y},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/restart?"+l}}},{id:"BulkStop",label:a.stop,icon:r.Stop(),confirmation:{message:g},armCommandDefinitions:{"microsoft.web/sites":{uri:"{resourceid}/stop?"+l}}},{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.webApps,a.confirmDeleteAppService)},isBulkDeleteOperation:!0,armCommandDefinitions:P}],t.StorageCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.storage,a.confirmDeleteStorage)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.storage/storageaccounts":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-06-15"},"microsoft.classicstorage/storageaccounts":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2015-12-01"}}}],t.SqlDatabasesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.databases,a.confirmDeleteDatabases)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.sql/servers/databases":{httpMethodType:"DELETE",uri:"{resourceid}?"+d}}}],t.MlWorkspacesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.mlWorkspaces,a.confirmDeleteMlWorkspaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.machinelearningservices/workspaces":{httpMethodType:"DELETE",uri:"{resourceid}?api-version=2018-11-19"}}}],t.CloudSimpleVMCommandDefinition=[{id:"BulkStart",label:a.start,icon:r.Start(),confirmation:{message:v},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/start?"+p}}},{id:"BulkRestart",label:a.restart,icon:r.Redo(),confirmation:{message:y},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=reboot&"+p}}},{id:"BulkSuspend",label:a.suspend,icon:r.Paused(),confirmation:{message:x},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=suspend&"+p}}},{id:"BulkStop",label:a.stop,icon:r.Stop(),confirmation:{message:g},armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{uri:"{resourceid}/stop?mode=shutdown&"+p}}},{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.cloudSimpleVM,a.confirmDeleteCloudSimpleVM)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/virtualmachines":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}}],t.CloudSimpleDedicatedCloudNodesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.cloudSimpleDedicatedCloudNodes,a.confirmDeleteCloudSimpleDCN)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/dedicatedcloudnodes":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}}],t.CloudSimpleDedicatedCloudServicesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.cloudSimpleDedicatedCloudServices,a.confirmDeleteCloudSimpleDCS)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.vmwarecloudsimple/dedicatedcloudservices":{httpMethodType:"DELETE",uri:"{resourceid}?"+p}}}],t.SBNamespacesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.sbNamespaces,a.confirmDeleteSBNamespaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.servicebus/namespaces":{httpMethodType:"DELETE",uri:"{resourceid}?"+f}}}],t.EHNamespacesCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.sbNamespaces,a.confirmDeleteEHNamespaces)},isBulkDeleteOperation:!0,armCommandDefinitions:{"microsoft.eventhub/namespaces":{httpMethodType:"DELETE",uri:"{resourceid}?"+f}}}],t.AzureSqlCommandDefinition=[{id:"BulkDelete",label:a.delete,icon:r.Delete(),confirmation:{title:b,message:m.format(a.resources,a.confirmDeleteAllResources)},isBulkDeleteOperation:!0,armCommandDefinitions:w}],t.BulkCommandDefinitions={"microsoft.resources/resources":t.AllResourcesCommandDefinition,"microsoft.compute/virtualmachinescalesets":t.VirtualMachineScaleSetsCommandDefinition,"microsoft.classiccompute/domainnames":t.CloudServicesCommandDefinition,"microsoft.web/sites":t.AppServiceCommandDefinition,"microsoft.storage/storageaccounts":t.StorageCommandDefinition,"microsoft.classicstorage/storageaccounts":t.StorageCommandDefinition,"microsoft.sql/servers/databases":t.SqlDatabasesCommandDefinition,"microsoft.machinelearningservices/workspaces":t.MlWorkspacesCommandDefinition,"microsoft.vmwarecloudsimple/virtualmachines":t.CloudSimpleVMCommandDefinition,"microsoft.vmwarecloudsimple/dedicatedcloudnodes":t.CloudSimpleDedicatedCloudNodesCommandDefinition,"microsoft.vmwarecloudsimple/dedicatedcloudservices":t.CloudSimpleDedicatedCloudServicesCommandDefinition,"microsoft.servicebus/namespaces":t.SBNamespacesCommandDefinition,"microsoft.eventhub/namespaces":t.EHNamespacesCommandDefinition,"microsoft.sql/azuresql":t.AzureSqlCommandDefinition}})),
define("FxHubs/ResourceCommands/BrowseBulkCommandImpl",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BulkCommandImpl=void 0;var n=MsPortalFx.Base,r=function(){function e(e,t,n,r,o){var i=this;this._canExecute=ko.observable(!0),this._telemetrySource=t,this._armCmdDef=r,this._cmdContext=n,this._apiVersionsMap=o,this.canExecute=ko.computed(e,(function(){return i._cmdContext.hasSelectedItems()&&i._canExecute()}))}return e.prototype.execute=function(e,t){var r=this;if(this._canExecute(!1),6===(null==e?void 0:e.button)||4===(null==e?void 0:e.button)){var o=this._cmdContext.selectedBrowseItems(),i=o.map((function(e){return{name:e.name,resourceId:e.id,resourceType:e.type.toLowerCase(),kind:e.kind}}));n.Diagnostics.Telemetry.trace({action:"BulkCommandExecuted",source:this._telemetrySource,name:this._armCmdDef.id,data:{resourceType:this._cmdContext.resourceType,numberOfResources:o.length,confirmation:!!this._armCmdDef.confirmation,selectionModel:this._armCmdDef.selection&&this._armCmdDef.selection.maxSelectedItems,commandType:"ArmCommand"}});var a=MsPortalFx.require("FxHubs/ResourceCommands/ArmBulkCommand").then((function(e){return e.execute(r._armCmdDef,r._cmdContext.resourceType,i,null,r._apiVersionsMap,t)}));return this._canExecute(!0),a.then((function(){if(r._cmdContext.onCompleteCallback)return r._cmdContext.onCompleteCallback(o)}))}return this._canExecute(!0),Promise.resolve()},e}();t.BulkCommandImpl=r})),
define("FxHubs/ResourceCommands/BulkDeleteBladeModel",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxBatchDeleteResources=void 0,t.MaxBatchDeleteResources=100})),
define("FxHubs/ResourceCommands/BrowseCommanding",["require","exports","Fx/Controls/Toolbar","Fx/Composition","FxHubs/ResourceCommands/BulkDeleteBladeModel","FxHubs/ResourceCommands/BrowseBulkCommandImpl","FxHubs/ResourceCommands/BrowseBulkCommandConfig","FxHubs/Resources/FxHubsClientStrings","Fx/Composition/Selectable","FxHubs/RpcEndPointsCore"],(function(e,t,n,r,o,i,a,s,l,u){Object.defineProperty(t,"__esModule",{value:!0}),t.createGenericCommands=function(e,t,o,i,a,s,l,u,c,d,p){var m=function(t){return M({showIcon:!0,showLabel:!0,showCustomIcon:!0},e,null,t.commandDefinition,i,a,s,i,t.isDisabled,l,p)},h=function(t){return function(e,t,o,i,a,s,l,u,c){var d=function(){l.openBlade(r.BladeReferences.forExtension(i.createAssetType.extensionName).forCreateAssetType().createReference({assetKind:i.createAssetType.assetKind,assetType:i.createAssetType.assetType,parameters:i.createAssetType.parameters,marketplaceId:i.createAssetType.marketplaceId}),{asSubJourney:!0}),I({telemetrySource:t,resourceType:s,commandId:i.id,action:"ExtensibleCommandExecuted",commandType:"OpenCreateAssetTypeCommand",supplyAdditionalTelemetryData:o})},p={label:e.showLabel?i.label:"",icon:e.showIcon?e.showCustomIcon?i.icon:MsPortalFx.Base.Images.Add():null,ariaLabel:i.ariaLabel,tooltip:g(u,i.toolTip),telemetryName:"".concat(s,"-").concat(i.id),onClick:d,cssClass:4===c?"ext-hubs-artbrowse-empty-custom-button":"",disabled:u};if(i.content){var m=MsPortalFx.extend2(p,{content:i.content});return n.ToolbarItems.createMenuItemCustomButton(a,m)}return f(a,p)}({showIcon:!0,showLabel:!0,showCustomIcon:!0},e,null,t.commandDefinition,i,s,i,t.isDisabled,l)},v=function(t){return S({showIcon:!0,showLabel:!0,showCustomIcon:!0},e,null,t.commandDefinition,i,s,i,t.isDisabled,l)};return C(e,t,o,s,l,u,c,d).map((function(e){switch(e.itemType){case"openBlade":return m(e);case"openCreateAssetType":return h(e);case"openMarketplace":return v(e);case"menu":var t=e.commandItems.map((function(e){switch(e.itemType){case"openBlade":return m(e);case"openMarketplace":return v(e)}}));return n.ToolbarItems.createMenuButton(i,{label:e.commandDefinition.label,icon:e.commandDefinition.icon,buttons:t,ariaLabel:e.commandDefinition.ariaLabel,tooltip:g(c,e.commandDefinition.toolTip),telemetryName:"".concat(s,"-").concat(e.commandDefinition.id),cssClass:4===l?"ext-hubs-artbrowse-empty-custom-button":"",disabled:e.isDisabled})}}))},t.createGenericCommandDescriptors=C,t.createSelectionCommands=function(e,t,a,s,d,p,h,g,y,b,C,E,M,S){var k,A=(null==a?void 0:a.extensibleCommandsApiVersions)||{},T=function(t){var r=m.tooltip.format(t.commandDefinition.label);return function(e,t,r,o,i,a,s,u,d){var p=t.bladeReference.blade,m=t.bladeReference.extension,h=function(){var n,r=MsPortalFx.clone(t.bladeReference.parameters),o=m||i&&i();w(r),P(t,r,s,a),F(r,d),n=t.bladeReference.doesProvisioning?new l.ProvisioningBladeReference(p,o,null,{parameters:r}):new c(p,o,{parameters:r}),t.bladeReference.inContextPane?u.openContextPane(n):u.openBlade(n,{asSubJourney:!0}),I({telemetrySource:e,action:"BulkCommandExecuted",commandId:t.id,commandType:"OpenBladeSelectionCommand",resourceType:a,selectionModel:t.selection&&t.selection.maxSelectedItems,numberOfResources:s().length})};return t.content?n.ToolbarItems.createMenuItemCustomButton(o,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||r,content:t.content,telemetryName:"".concat(a,"-").concat(t.id),disabled:ko.pureComputed((function(){if(t.selection){var e=t.selection,n=e.maxSelectedItems,r=e.minSelectedItems,o=s().length;return!o||n&&o>n||r&&o<r}return!s().length})),disabledMessage:t.selection&&t.selection.disabledMessage,onClick:h}):f(o,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||r,telemetryName:"".concat(a,"-").concat(t.id),disabled:ko.pureComputed((function(){if(t.selection){var e=t.selection,n=e.maxSelectedItems,r=e.minSelectedItems,o=s().length;return!o||n&&o>n||r&&o<r}return!s().length})),disabledMessage:t.selection&&t.selection.disabledMessage,onClick:h})}(e,t.commandDefinition,r,s,d,p,h,y,S)},D=function(t){var n=m.tooltip.format(t.commandDefinition.label);return function(e,t,n,i,a,s,l){return f(i,{label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||n,disabled:ko.pureComputed((function(){return!s().length})),telemetryName:"".concat(a,"-").concat(t.id),onClick:function(){var n=[],i=[],u=[],c=s(),d=c.length;d<=o.MaxBatchDeleteResources&&(n=c.map((function(e){var t={name:e.name,resourceId:e.id,resourceType:e.type.toLowerCase(),assetType:e.typeDisplayName,icon:e.icon,kind:e.kind};return e.typeDisplayName||(i.push(t),u.push(t.resourceId)),t}))),I({telemetrySource:e,action:"BulkCommandExecuted",commandId:t.id,commandType:"ArmCommand",resourceType:a,selectionModel:t.selection&&t.selection.maxSelectedItems,numberOfResources:s().length}),(i.length?MsPortalFx.Assets.getResourceAssetInformation(u).then((function(e){for(var t=0;t<(null==e?void 0:e.length);t++)i[t].assetType=e[t].assetType})):Promise.resolve()).then((function(){var e=r.BladeReferences.forExtension("Microsoft_Azure_Resources").forBlade("BulkDelete.ReactView");l.openContextPane(e.createReference({parameters:{resources:n,commandDefinition:t,resourceType:a,resourceInfoCount:d}}))}))}})}(e,t.commandDefinition,n,s,p,h,y)},R=function(r){var o=m.tooltip.format(r.commandDefinition.label),a=function(e){var t,n={};return MsPortalFx.forEachKey(null===(t=null==e?void 0:e.armCommandDefinitionOptions)||void 0===t?void 0:t.definitions,(function(t){var r,o=A[t];if(o){var i=null===(r=e.id)||void 0===r?void 0:r.toLowerCase(),a=o[i];n[i]=a}})),n}(r.commandDefinition);return k||(k=ko.computed(s,(function(){return!!h().length}))),function(e,t,r,o,a,s,l,c,d,p,f){return n.ToolbarItems.createBasicButton(a,{telemetryName:"{0}.BulkCmd.{1}".format(s,t.id),label:t.label,icon:t.icon,ariaLabel:t.ariaLabel,tooltip:t.toolTip||o,disabled:ko.pureComputed((function(){return!l().length})),onClick:function(){c.openDialog({title:t.confirmation.title,content:t.confirmation.message,buttons:4,telemetryName:"{0}.BulkCmd.{1}".format(s,t.id),onClosed:function(n){var o,c,m={},h=(null===(o=p.mergedResourceTypes)||void 0===o?void 0:o.length)>0,g=function(){var o=new i.BulkCommandImpl(a,e,{resourceType:s,hasSelectedItems:r,selectedBrowseItems:l,onCompleteCallback:function(){return Promise.resolve()}},t,d);o.canExecute()&&o.execute(n,m)},y=function(){l().forEach((function(e){var n,r,o,i,a,s,l;if(e.kind){var u=e.kind,c=m[null===(n=e.type)||void 0===n?void 0:n.toLowerCase()]||{};if(c[u])return;var d=null===(o=x(h?v[null===(r=e.type)||void 0===r?void 0:r.toLowerCase()]:p,u,!0))||void 0===o?void 0:o.find((function(e){return e.label.toLowerCase()===t.label.toLowerCase()}));c[u]=null===(a=null===(i=null==d?void 0:d.armCommandDefinitionOptions)||void 0===i?void 0:i.definitions)||void 0===a?void 0:a[null===(s=e.type)||void 0===s?void 0:s.toLowerCase()],m[null===(l=e.type)||void 0===l?void 0:l.toLowerCase()]=c}})),g()};if(f)if(h)if(v[s.toLowerCase()]=p,l().some((function(e){var t;return!v[null===(t=e.type)||void 0===t?void 0:t.toLowerCase()]}))){var b=null===(c=p.mergedResourceTypes.map((function(e){return e.resourceTypeName})))||void 0===c?void 0:c.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]);u.Browse.getBrowseManifestsForResourceTypesEndpoint.invoke(FxImpl.Rpc.client,"fxw",b).then((function(e){b.forEach((function(t){v[null==t?void 0:t.toLowerCase()]=e[t]})),y()}))}else y();else y();else g()}})}})}(e,r.commandDefinition,k,o,s,p,h,g,a,t,M)};return _(e,t,a,p,b,C,E).map((function(e){var t;switch(e.itemType){case"selectionOpenBlade":return T(e);case"selectionBulkDelete":return D(e);case"selectionArmBulkCommand":return R(e);case"selectionMenu":return n.ToolbarItems.createMenuButton(s,{label:e.commandDefinition.label,icon:e.commandDefinition.icon,buttons:null===(t=e.commandItems)||void 0===t?void 0:t.map((function(e){switch(e.itemType){case"selectionOpenBlade":return T(e);case"selectionBulkDelete":return D(e);case"selectionArmBulkCommand":return R(e)}})),ariaLabel:e.commandDefinition.ariaLabel,tooltip:e.commandDefinition.toolTip,telemetryName:"".concat(p,"-").concat(e.commandDefinition.id),disabled:ko.pureComputed((function(){if(e.commandDefinition.selection){var t=e.commandDefinition.selection,n=t.maxSelectedItems,r=t.minSelectedItems,o=h().length;return!o||n&&o>n||r&&o<r}return!h().length})),disabledMessage:e.commandDefinition.selection&&e.commandDefinition.selection.disabledMessage})}}))},t.createSelectionCommandDescriptors=_,t.createServiceHoverCardCommand=function(e,t,r,o,i,a,s,l,u,c,d){var p=x(o,d,!1),f=null==p?void 0:p.find((function(e){return 32&e.visibility&&!(null==c?void 0:c.includes(e.id.toLowerCase()))}));if(!f)return null;if(c&&(c.includes("*")||c.includes(f.id.toLowerCase())))return null;var m=f.bladeReference;if(m&&m.blade)return M(e,t,r,f,i,a,s,l,u,null);if(f.marketplaceItemId)return S(e,t,r,f,i,s,l,u,null);if(f.commands&&f.commands.length){var h=[];return f.commands.forEach((function(e){e.bladeReference&&e.bladeReference.blade?h.push(M({showIcon:!0,showLabel:!0,showCustomIcon:!0},t,r,e,i,a,s,l,u,32)):e.marketplaceItemId&&h.push(S({showIcon:!0,showLabel:!0,showCustomIcon:!0},t,r,e,i,s,l,u,32))})),n.ToolbarItems.createMenuButton(i,{label:e.showLabel?f.label:"",icon:e.showIcon?e.showCustomIcon?f.icon:MsPortalFx.Base.Images.Add():null,buttons:h,ariaLabel:f.ariaLabel,tooltip:g(u,f.toolTip),disabled:u})}return null};var c=FxImpl.Composition.Selectable.PdlBladeReference,d=MsPortalFx.Base,p=d.Diagnostics.Telemetry,f=n.ToolbarItems.createBasicButton,m=s.BulkCommand,h=d.Diagnostics.createLog(e),v={};function g(e,t){return e?s.BulkCommand.disabledByPolicyTooltip:t}function y(e,t){var n=e.bladeReference;if(n&&n.blade)return{itemType:"openBlade",commandDefinition:e,isDisabled:t};if(e.createAssetType)return{itemType:"openCreateAssetType",commandDefinition:e,isDisabled:t};if(e.marketplaceItemId)return{itemType:"openMarketplace",commandDefinition:e,isDisabled:t};if(e.commands&&e.commands.length){var r=[];return e.commands.forEach((function(e){e.bladeReference&&e.bladeReference.blade?r.push({itemType:"openBlade",commandDefinition:e,isDisabled:t}):e.marketplaceItemId&&r.push({itemType:"openMarketplace",commandDefinition:e,isDisabled:t})})),{itemType:"menu",commandDefinition:e,isDisabled:t,commandItems:r}}}function b(e){if(e.armCommandDefinitionOptions&&e.armCommandDefinitionOptions.isDelete||e.isBulkDeleteOperation)return{itemType:"selectionBulkDelete",commandDefinition:e};if(!e.confirmation||!e.confirmation.explicitConfirmationText){if(e.bladeReference&&e.bladeReference.blade)return{itemType:"selectionOpenBlade",commandDefinition:e};if(e.commands&&e.commands.length){var t=[];return e.commands.forEach((function(n){if(n.bladeReference&&n.bladeReference.blade)t.push({itemType:"selectionOpenBlade",commandDefinition:n});else if(n.armCommandDefinitionOptions&&n.armCommandDefinitionOptions.definitions){var r=void 0;r=n.armCommandDefinitionOptions.isDelete?{itemType:"selectionBulkDelete",commandDefinition:e}:{itemType:"selectionArmBulkCommand",commandDefinition:n},t.push(r)}})),{itemType:"selectionMenu",commandDefinition:e,commandItems:t}}return{itemType:"selectionArmBulkCommand",commandDefinition:e}}}function x(e,t,n){var r,o,i,a=[];if(t){var s=e.kindCommandNameMapping&&e.kindCommandNameMapping[t.toLowerCase()],l=s&&e.kindCommands&&e.kindCommands[s.toLowerCase()];(null==(a=n?null==l?void 0:l.selectionCommands:null==l?void 0:l.commands)?void 0:a.length)||n||(a=null===(r=null==e?void 0:e.commands)||void 0===r?void 0:r.commands)}else a=n?null===(o=null==e?void 0:e.commands)||void 0===o?void 0:o.selectionCommands:null===(i=null==e?void 0:e.commands)||void 0===i?void 0:i.commands;return a||[]}function C(e,t,n,r,o,i,a,s){var l,u=[],c=n&&n.hiddenCommands,d=n&&n.browseCommandExperiments&&(null===(l=n.browseCommandExperiments[i])||void 0===l?void 0:l.commands),f=x(t,s,!1);return!(null==d?void 0:d.length)||o&&1!==o?f.forEach((function(e){(function(e){var t=e.visibility,n=t&&(t&o)!==o;return!(c&&(c.includes("*")||c.includes(e.id.toLowerCase()))||16===e.visibility||1===t&&n||1===o&&n||4===o&&(!t||n)||32===t)})(e)&&u.push(y(e,a))})):(p.trace({source:e,action:"BrowseCommandBarExperimentFound",data:{commandSectionType:"NonSelectionCommands",resourceType:r,treatmentVariableValue:i,commandIds:d.join(",")}}),d.forEach((function(e){var t=f.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}));t?u.push(y(t,a)):h.warning("Missing command definition for resource type: {0} with command id {1} specified in commands array from experimentation config".format(r,e))}))),u}function _(e,t,n,r,o,i,s,l){var u,c,d,f,m,v,g,y=[],x=null==r?void 0:r.toLowerCase(),C=n&&n.hiddenCommands,_=!1;if(_=!(!(null===(u=t.commands)||void 0===u?void 0:u.commands)&&!(null===(c=t.commands)||void 0===c?void 0:c.selectionCommands)),g=(null===(d=t.commands)||void 0===d?void 0:d.selectionCommands)||!_&&a.BulkCommandDefinitions[x]||[],s){var w=t.kindCommandNameMapping&&t.kindCommandNameMapping[null==s?void 0:s.toLowerCase()],P=w&&t.kindCommands&&t.kindCommands[w.toLowerCase()];_=!!(null===(f=null==P?void 0:P.selectionCommands)||void 0===f?void 0:f.length)||!!(null===(m=null==P?void 0:P.commands)||void 0===m?void 0:m.length),g=(null==P?void 0:P.selectionCommands)||[]}var E=(null==n?void 0:n.browseCommandExperiments)&&(null===(v=n.browseCommandExperiments[i])||void 0===v?void 0:v.selectionCommands);return!(null==E?void 0:E.length)||o&&1!==o?g.forEach((function(e){var t,n,r,i=e.visibility&&(e.visibility&o)!==o;C&&(C.includes("*")||C.includes(e.id.toLowerCase()))||o&&2===o&&((null===(t=e.selection)||void 0===t?void 0:t.minSelectedItems)>1||(null===(n=e.commands)||void 0===n?void 0:n.length)&&!l||i)||16===o||1===o&&i||8===o&&((null===(r=e.selection)||void 0===r?void 0:r.minSelectedItems)>1||i)||y.push(b(e))})):(p.trace({source:e,action:"BrowseCommandBarExperimentFound",data:{commandSectionType:"SelectionCommands",resourceType:r,treatmentVariableValue:i,commandIds:E.join(",")}}),E.forEach((function(e){var t=g.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}));t?y.push(b(t)):h.warning("Missing command definition for resource type: {0} with command id {1} specified in selectionCommands array from experimentation config".format(r,e))}))),y}function w(e){MsPortalFx.forEachKey(e,(function(t,n){if(n&&"string"==typeof n){var r=decodeURIComponent(n);try{n=JSON.parse(r)}catch(e){n=r}e[t]=n}}))}function P(e,t,n,r,o){void 0===o&&(o=3),0!==o&&MsPortalFx.forEachKey(t,(function(i,a){if(a){if("object"==typeof a&&!Array.isArray(a))return P(e,a,n,r,--o);if("string"==typeof a&&"{resourceids}"===a.toLowerCase()){var s=r.toLowerCase();"microsoft.compute/virtualmachines"!==s&&"microsoft.classiccompute/virtualmachines"!==s||"microsoft_azure_automation"!==e.bladeReference.extension.toLowerCase()||"multivmonboardingblade"!==e.bladeReference.blade.toLowerCase()?t[i]=n().map((function(e){return e.id})):t[i]=n().map((function(e){return{resourceId:e.id,locationId:e.location}}))}}}))}var E=/^\{\w+\}$/gm;function F(e,t,n){void 0===n&&(n=3),0!==n&&MsPortalFx.forEachKey(e,(function(r,o){o&&("object"!=typeof o||Array.isArray(o)?"string"==typeof o&&(MsPortalFx.forEachKey(t,(function(t,n){o.toLowerCase()==="{".concat(t,"}").toLowerCase()&&(e[r]=n)})),e[r].match(E)&&(e[r]=void 0)):F(o,t,n-1))}))}function M(e,t,r,o,i,a,s,u,d,p,m){var h,v=o.bladeReference.blade,y=o.bladeReference.extension,b=MsPortalFx.clone(o.bladeReference.parameters);F(b,m),w(b);var x={label:e.showLabel?o.label:"",icon:e.showIcon?e.showCustomIcon?o.icon:MsPortalFx.Base.Images.Add():null,ariaLabel:o.ariaLabel,tooltip:g(d,o.toolTip),telemetryName:"".concat(s,"-").concat(o.id),cssClass:4===p?"ext-hubs-artbrowse-empty-custom-button":"",onClick:function(){h=o.bladeReference.doesProvisioning?new l.ProvisioningBladeReference(v,y||a&&a(),null,{parameters:b}):new c(v,y||a&&a(),{parameters:b}),o.bladeReference.inContextPane?u.openContextPane(h):u.openBlade(h,{asSubJourney:!0}),I({telemetrySource:t,resourceType:s,commandId:o.id,action:"ExtensibleCommandExecuted",commandType:"OpenBladeCommand",supplyAdditionalTelemetryData:r})},disabled:d};if(o.content){var C=MsPortalFx.extend2(x,{content:o.content});return n.ToolbarItems.createMenuItemCustomButton(i,C)}return f(i,x)}function S(e,t,o,i,a,s,l,u,c){var d={label:e.showLabel?i.label:"",icon:e.showIcon?e.showCustomIcon?i.icon:MsPortalFx.Base.Images.Add():null,ariaLabel:i.ariaLabel,tooltip:g(u,i.toolTip),telemetryName:"".concat(s,"-").concat(i.id),onClick:function(){l.openBlade(r.BladeReferences.forMarketplace().createReference({marketplaceId:i.marketplaceItemId}),{asSubJourney:!0}),I({telemetrySource:t,resourceType:s,commandId:i.id,action:"ExtensibleCommandExecuted",commandType:"OpenMarketplaceCommand",supplyAdditionalTelemetryData:o})},cssClass:4===c?"ext-hubs-artbrowse-empty-custom-button":"",disabled:u};if(i.content){var p=MsPortalFx.extend2(d,{content:i.content});return n.ToolbarItems.createMenuItemCustomButton(a,p)}return f(a,d)}function I(e){var t;p.trace({source:e.telemetrySource,action:e.action,name:e.commandId,data:__assign({commandType:e.commandType,confirmation:e.confirmation,numberOfResources:e.numberOfResources,resourceType:e.resourceType,selectionModel:e.selectionModel},null===(t=e.supplyAdditionalTelemetryData)||void 0===t?void 0:t.call(e))})}})),
define("FxHubs/Tags/TagsStartup",["require","exports","FxHubs/ArtHelpers/KustoQueryGenerator","FxHubs/ArtHelpers/ArtApis","FxHubs/ArmHelpers/ArmApisStartup","FxHubs/PrewarmerEntryPoint","FxHubs/Resources/FxHubsClientStrings"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.callSubscriptionApis=l,t.getAllTags=function(e,t,n,r,i,s){return s?function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,r,o;return __generator(this,(function(i){switch(i.label){case 0:return n=[],[4,c(e,(function(e){return n.push(e)}),t)];case 1:return r=i.sent(),o=MsPortalFx.stableSort(d(r),p),[2,{tagItems:o,errors:n,completeFailure:!o.length&&!!n.length}]}}))}))}(t,{maximumTags:n,namesOnly:r,filter:i}):function(e,t,n,r,i){var s=new Map,c=MsPortalFx.extendArrayIntoMap(Object.create(null),t,(function(e){return(0,o.subscriptionTagsApi)(e)}),MsPortalFx.identity);return l(e,c,"allTags",(function(e){return e.forEach((function(e){var t=e.tagName,n=t.toLowerCase();if(!(0,o.isHiddenTag)(t))if(r){var i=s.get(n)||new Map;!i.has("")&&i.set("",u(t,null)),s.set(n,i)}else e.values.forEach((function(e){var r=s.get(n)||new Map,o=e&&e.tagValue;!r.has(o)&&r.set(o,u(t,o)),s.set(n,r)}))})),!0}),(function(e){var r=i&&i.toLowerCase(),o=MsPortalFx.stableSort(d(s),p).filter((function(e){return!i||e.filterKey.includes(r)})),l=n&&t.length>1&&o.length>n;return l&&o.splice(n),l&&e.push(a.Tags.moreThanMaximumAllTags.format(n)),{tagItems:o,errors:e,completeFailure:e.length===t.length}}))}(e,t,n,r,i)};var s="resourcecontainers| where isnotempty(tags)| project id, tags, subscriptionId| mvexpand tags| extend tagName = tostring(bag_keys(tags)[0])| extend tagValue = tostring(tags[tagName])| union (resources  | where isnotempty(tags)  | project id, tags, subscriptionId  | mvexpand tags  | extend tagName = tostring(bag_keys(tags)[0])  | extend tagValue = tostring(tags[tagName]))| where tagName !startswith 'hidden-'| where tagName !startswith 'link:'{0}| extend id = strcat('/subscriptions/', subscriptionId, '/tagNames/', tagName)| distinct id, tagName, tagValue";function l(e,t,n,r,s){var l=[],u=[];return(0,o.callBatchWithContinuation)(Object.keys(t).map((function(e){return{uri:e,telemetry:"Tags."+n,arrayResponse:!0}})),r,(function(n){var r=e.get(i.SubscriptionsContext),o=t[n.api],s=n.reason&&n.reason.httpStatusCode||0,c=r.getSubscription(o).then((function(e){return e&&e.displayName||o})).catch((function(){return o}));u.push(c.then((function(e){switch(s){case 404:case 410:l.push(a.Tags.subscriptionNotFound.format(e));break;case 401:case 403:l.push(a.Tags.subscriptionUnauthorized.format(e));break;default:l.push(a.Tags.subscriptionError.format(e))}})))}),!1).then((function(){return Promise.all(u).then((function(){return s(l)}))}))}function u(e,t,n){var r=a.Tags.compoundFormat.format(e,t),o=(e||"").toLowerCase(),i="{0}:{1}";return{uniqueKey:i.format(o,t),filterKey:i.format(o,(t||"").toLowerCase()),name:e,value:t,compound:r,resourceId:n}}function c(e,t,i){return __awaiter(this,void 0,void 0,(function(){var a,l,d,p,f,m,h,v,g,y,b,x,C,_,w;return __generator(this,(function(P){switch(P.label){case 0:if(a=i.filter,l=i.maximumTags,d=i.namesOnly,p=i.skipToken,f=i.totalTagsLoaded,m=i.resultMap,h=m||new Map,!e.length)return[2,h];v=(0,n.encodeKustoValue)(a),g=(0,n.encodeKustoValue)(a,!0),y=s.format(a?"| where tagName contains ".concat(v," or tagValue contains ").concat(g):""),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,(0,r.getDataFromArt)({query:y,subscriptions:e,options:{$skipToken:p}},"allTags")];case 2:return b=P.sent(),x=b.data.rows,C=function(e,t,n){var r=n.maxTags,i=n.namesOnly;if(r&&t.size>=r)return 0;for(var a=0,s=0,l=e;s<l.length;s++){var c=l[s],d=c[1];if(!(0,o.isHiddenTag)(d)){var p=d.toLowerCase(),f=t.get(p)||new Map;if(i)f.set("",u(d,null)),a++;else{if(r&&a>=r)continue;var m=c[2];f.has(m)||(f.set(m,u(d,m)),a++)}t.set(p,f)}}return a}(x,h,{maxTags:l,namesOnly:d}),_=(null!=f?f:0)+C,!b.$skipToken||_>=l?[2,h]:[2,c(e,t,__assign(__assign({},i),{resultMap:h,skipToken:b.$skipToken,totalTagsLoaded:_}))];case 3:return w=P.sent(),t(MsPortalFx.getLogFriendlyMessage(w)),[3,4];case 4:return[2,h]}}))}))}function d(e){var t=[];return e.forEach((function(e){return e.forEach((function(e){return t.push(e)}))})),t}function p(e,t){var n=e.name.localeCompare(t.name);return n||(e.value||"").localeCompare(t.value||"")}})),
define("FxInternal/Assets/AssetTypes",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getAllAssetTypesEndPoint=void 0,t.getAllAssetTypesEndPoint=new FxImpl.Rpc.FuncEndPointDefinition(FxImpl.Constants.RpcMethods.getAllAssetTypes)})),
define("FxInternal/Composition/DashboardFilters",["require","exports","Fx/Composition/DashboardFilters"],(function(e,t,n){var r;return function(e){var t,r,o=((t={})[n.TimeRangeFilter.filterId]=0,t[n.SubscriptionFilter.filterId]=2,t[n.LocationFilter.filterId]=3,t[n.ResourceGroupFilter.filterId]=5,t[n.ResourceTypeFilter.filterId]=4,t);e.operatorStrings=((r={})[0]="==",r[1]="!=",r[2]="contains",r[3]="!contains",r[4]="startswith",r[5]="!startswith",r[6]="endswith",r[7]="!endswith",r),e.defaultFilterOperators=[{text:e.operatorStrings[0],value:0},{text:e.operatorStrings[1],value:1}],e.isTimeRangeFilter=function(e){return!MsPortalFx.isNullOrUndefined(e.granularity)},e.supportsOperator=function(e,t){return(e&&e.length?e:[0,1]).includes(t)},e.getFilterKindFromId=function(e){return MsPortalFx.isNullOrUndefined(o[e])?1:o[e]}}(r||(r={})),r})),
define("FxInternal/Controls/Essentials",["require","exports","Fx/ResourceManagement","FxHubs/ArmClient","FxInternal/Controls/Base/Base","FxInternal"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EditTagsBladeReference=t.TagResourcesBladeReference=t.ViewModel=void 0,t.convertStringMapToTagInfoArray=d,t.getEssentialsResourceInfo=f;var a=MsPortalFx.Assets,s=MsPortalFx.Base,l=FxImpl.Composition.Selectable.PdlBladeReference,u=MsPortalFx.Azure.ResourceManager.getMoveResourceBlade,c=MsPortalFx.Azure.getSubscriptionInfo;function d(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t]}})):null}function p(e){return!!e.menu}function f(e,t,o){var i=n.ArmId.parse(t,!0);if(6===i.kind||3===i.kind||8===i.kind){var a={resourceGroupName:i.resourceGroup,resourceGroupId:null,subscriptionName:null,subscriptionId:i.subscription,location:null,tags:null,moveOptions:{resourceGroup:!1,subscription:!1,location:!1}};return s.Promises.cancelOnDispose(e,(function(){return(0,r.getResource)(t,"EssentialsControl-".concat(i.resourceType))})).then((function(e){return MsPortalFx.extend(a,{location:e.locationString,resourceGroupId:e.resourceGroup,tags:o&&d(e.tags),zones:e.zones}),c(a.subscriptionId)})).then((function(e){return MsPortalFx.extend(a,{subscriptionName:e.displayName,moveOptions:{resourceGroup:!0,subscription:!0,location:!0}})}))}if(4===i.kind){var l={resourceGroupName:i.resourceGroup,resourceGroupId:null,subscriptionName:null,subscriptionId:i.subscription,location:null,tags:null,moveOptions:{resourceGroup:!1,subscription:!1,location:!1}};return s.Promises.cancelOnDispose(e,(function(){return(0,r.getResourceGroup)(t,"EssentialsControl-group")})).then((function(e){return MsPortalFx.extend(l,{location:e.locationString,resourceGroupId:e.id,tags:o&&d(e.tags)}),c(l.subscriptionId)})).then((function(e){return MsPortalFx.extend(l,{subscriptionName:e.displayName,moveOptions:{resourceGroup:!1,subscription:!0,location:!1}})}))}return Promise.resolve(void 0)}var m=function(e){function t(t,n){var r=e.call(this,t)||this;r._container=t,r.controlType=120;var o=n.resourceId;return o?n.additionalRight?r.optionType=1:r.optionType=2:r.optionType=3,r.options=n,r.disabled=ko.observable(!1),r.resource=MsPortalFx.initObservable(n.resource,null),r.expanded=ko.isObservable(n.expanded)?n.expanded:ko.observable(!0),r.status=ko.observable(null),r.dynamicLeftArray=ko.observableArray([]),r.dynamicRightArray=ko.observableArray([]),r.newTags=ko.observableArray(null),r.containerHasMenu=p(t),!o||n.resource||n.skipResourceFetching||(r._resourceInfo=f(t,o,!0)),r}return __extends(t,e),t.prototype.addDynamicProperties=function(e,t){var n=this.dynamicLeftArray,r=this.dynamicRightArray;n(n().concat(e)),r(r().concat(t))},t.prototype.modifyStatus=function(e){this.status(e)},t.prototype.openBlade=function(e,t){return function(e){var t=e.container,n=e.options,r=e.bladeOpenType,o=e.bladeOpenOptions,i=e.newTags,s=e.tagsPromise,c=function(e){n.onBladeClose&&n.onBladeClose(e)};n.onBladeOpen&&n.onBladeOpen(r);var p=Object.getOwnPropertyNames(o);return~p.indexOf("key")&&~p.indexOf("value")?t.openBladeAsync(Promise.resolve(new h({tagName:o.key,tagValue:o.value},(function(e,t){c(r)})))):~p.indexOf("tag")?t.openContextPaneAsync(Promise.resolve(new v({resource:o.resourceId,tagName:o.tag},(function(e,t){if(c(r),2===e&&t.update){var n=new MsPortalFx.Map;n.set(o.resourceId,JSON.parse(t.newTagsSerialized)),MsPortalFx.require("FxHubs/ArmHelpers/ArmTags").then((function(e){return e.handleTagsContextPaneResults(n).then((function(e){if(e&&!e.armErrorsMap.get(o.resourceId)){var t=d(e.newTagsMap.get(o.resourceId));s&&s.resolve(t),i&&i(t)}else s&&s.resolve(void 0)}))}))}else s&&s.resolve(void 0)})))):~p.indexOf("moveType")?t.openBladeAsync(a.mapDynamicBladeSelectionToBladeReference(u(o.resourceId,o.moveType).bladeSelection,(function(e,t){c(r)}))):~p.indexOf("subscriptionId")&&~p.indexOf("sourceRegion")?t.openBlade(new l("RmAddResourceWizardBlade","Microsoft_Azure_ResourceMove",{parameters:{subscriptionId:o.subscriptionId,resourceIds:[o.resourceId],sourceRegion:o.sourceRegion},onClosed:function(e,t){c(r)}})):t.openBladeAsync(a.mapResourceIdToBladeReference(o.resourceId,(function(e,t){c(r)})))}({container:this._container,options:this.options,bladeOpenType:e,bladeOpenOptions:t,newTags:this.newTags})},t.prototype.getResourceInfo=function(e){return this._resourceInfo?this._resourceInfo.then((function(t){return e?t:(0,i.extend2)(t,{tags:null})})):f(this._container,this.options.resourceId,e)},t.prototype.openBladeInMenuContext=function(e){p(this._container)&&this._container.menu.openBlade(e)},t.prototype.updateSoftDeleteInfo=function(e,t,n,r){return function(e,t,n,r){return MsPortalFx.require("FxHubs/ArmHelpers/ArmSoftDelete").then((function(o){return o.updateSoftDeleteInfo(e,t,n,r)}))}(e,t,n,r)},t}(o.ViewModel);t.ViewModel=m;var h=function(e){function t(t,n){return e.call(this,MsPortalFx.isFeatureEnabled("artbrowse")?"BrowseResourcesWithTag":"ResourcesWithTag.ReactView","HubsExtension",{onClosed:n,parameters:t})||this}return __extends(t,e),t}(l);t.TagResourcesBladeReference=h;var v=function(e){function t(t,n){return e.call(this,"EditTagsBlade","HubsExtension",{onClosed:n,parameters:t})||this}return __extends(t,e),t}(l);t.EditTagsBladeReference=v})),
define("FxInternal/Css",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cssFilesOrder=void 0,t.injectCss=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var a=0;a<arguments.length;a++){var s=arguments[a],l=s.moduleId,u=s.css;if(!i[l]){i[l]=!0;var c=r(l),d=o.getElementsByClassName(c)[0]||n(c,o),p=d.styleSheet;p?p.cssText=u:d.appendChild(document.createTextNode(u))}}},t.unInjectCss=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<arguments.length;n++){var a=arguments[n].moduleId;if(i[a]){i[a]=!1;var s=r(a),l=o.getElementsByClassName(s)[0],u=l.styleSheet;u?u.cssText="":l.appendChild(document.createTextNode(""))}}};function n(e,t,n){var r=document.createElement(n||"style");return r.className=e,t.appendChild(r)}function r(e){return/Less\/(.*\.css)|$/.exec(e)[1]||e}var o=n("fx-ordered-styles",document.head,"div");["Viva.Controls/Controls/Viva.Balloon.css","Viva.Controls/Controls/Viva.DockedBalloon.css","Viva.Controls/Controls/Viva.SingleSetting.css","Viva.Controls/Controls/Viva.TextStream.css","Viva.Controls/Controls/Base/Viva.Base.css","Viva.Controls/Controls/Base/Viva.ValidationPlacements.css","Viva.Controls/Controls/Forms/Viva.Button.css","Viva.Controls/Controls/Forms/Viva.CheckBox.css","Viva.Controls/Controls/Forms/Viva.DatePanel.css","Viva.Controls/Controls/Forms/Viva.DatePicker.css","Viva.Controls/Controls/Forms/Viva.DateTimePicker.css","Viva.Controls/Controls/Forms/Viva.DateTimeRangePicker.css","Viva.Controls/Controls/Forms/Viva.DropDown.css","Viva.Controls/Controls/Forms/Viva.EditableCombo.css","Viva.Controls/Controls/Forms/Viva.FilterCombo.css","Viva.Controls/Controls/Forms/Viva.MultiLineTextBox.css","Viva.Controls/Controls/Forms/Viva.MultiSelectDropDown.css","Viva.Controls/Controls/Forms/Viva.NumericTextBox.css","Viva.Controls/Controls/Forms/Viva.OptionPicker.css","Viva.Controls/Controls/Forms/Viva.Password.css","Viva.Controls/Controls/Forms/Viva.SearchBox.css","Viva.Controls/Controls/Forms/Viva.Slider.css","Viva.Controls/Controls/Forms/Viva.TextBox.css","Viva.Controls/Controls/Forms/Viva.TextInput.css","Viva.Controls/Controls/Forms/Viva.TimePicker.css","Viva.Controls/Controls/Lists/Viva.Grid1.ContextMenuShortcut.css","Viva.Controls/Controls/Lists/Viva.Grid1.EditableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.Filterable.css","Viva.Controls/Controls/Lists/Viva.Grid1.FocusableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.Formatters.css","Viva.Controls/Controls/Lists/Viva.Grid1.Groupable.css","Viva.Controls/Controls/Lists/Viva.Grid1.Hierarchical.css","Viva.Controls/Controls/Lists/Viva.Grid1.css","Viva.Controls/Controls/Lists/Viva.Grid1.Pageable.css","Viva.Controls/Controls/Lists/Viva.Grid1.PercentFormatter.css","Viva.Controls/Controls/Lists/Viva.Grid1.ReorderRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.ResizableColumn.css","Viva.Controls/Controls/Lists/Viva.Grid1.Scrollable.css","Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRowActivate.css","Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRow.css","Viva.Controls/Controls/Lists/Viva.Grid1.SortableColumn.css","Viva.Controls/Controls/Lists/Viva.ListView1.css","Viva.Controls/Controls/Lists/Viva.ListView1.FocusableExtension.css","Viva.Controls/Controls/Lists/Viva.ListView1.GroupableExtension.css","Viva.Controls/Controls/Lists/Viva.ListView1.css","Viva.Controls/Controls/Lists/Viva.ListView1.SelectableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.FocusableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.css","Viva.Controls/Controls/Lists/Viva.TreeView.OnDemandLoadableExtension.css","Viva.Controls/Controls/Lists/Viva.TreeView.LoadByContinuationToken.css","Viva.Controls/Controls/Visualization/Viva.Chart.css","Viva.Controls/Controls/Visualization/Viva.ChartBase.css","Viva.Controls/Controls/Visualization/Viva.Donut.css","Viva.Controls/Controls/Visualization/Viva.Gauge.css","Viva.Controls/Controls/Visualization/Graph.css","Viva.Controls/Controls/Visualization/Graph.Skins.css","Viva.Controls/Controls/Visualization/Viva.Legend.css","Viva.Controls/Controls/Visualization/Viva.Metrics.css","Viva.Controls/Controls/Visualization/Viva.QuotaGauge.css","Viva.Controls/Controls/Visualization/Viva.SvgBase.css","Viva.Controls/Controls/Visualization/Viva.UsageGauge.css","MsPortalImpl/Parts/Parts.Collection.css","MsPortalImpl/Parts/Parts.CollectionSummary.css","MsPortalImpl/Parts/Parts.fileSummary.css","MsPortalImpl/Parts/Parts.InfoList.css","MsPortalImpl/Parts/Parts.ButtonPart.css","MsPortalImpl/Parts/Parts.Asset.css","MsPortalImpl/Parts/Parts.QuickStart.css","MsPortalImpl/Parts/Parts.ResourceSummary.css","MsPortalImpl/Parts/Parts.Properties.css","MsPortalImpl/Parts/Parts.SpecPicker.css","MsPortalImpl/Parts/Parts.PricingTier.css","MsPortalImpl/Controls/ActionBars/Controls.ActionBarBase.css","MsPortalImpl/Controls/ActionBars/Controls.CreateActionBar.css","MsPortalImpl/Controls/ActionBars/Controls.GenericActionBar.css","MsPortalImpl/Controls/ActionBars/Controls.PickerActionBar.css","MsPortalImpl/Controls/Controls.Notice.css","MsPortalImpl/Controls/Controls.HeroBanner.css","MsPortalImpl/Controls/Controls.HotSpot.css","MsPortalImpl/Controls/Controls.FileDownloadButton.css","MsPortalImpl/Controls/Controls.PickerV3.css","MsPortalImpl/Controls/Controls.InfoBox.css","MsPortalImpl/Controls/Forms/AsyncFileUpload.css","MsPortalImpl.Controls/Controls/Base.css","MsPortalImpl.Controls/Controls/Console.css","MsPortalImpl.Controls/Controls/IFrame.css","MsPortalImpl.Controls/Controls/DockedBalloon.css","MsPortalImpl.Controls/Controls/LogStream.css","MsPortalImpl.Controls/Controls/Documents/Editor.css","MsPortalImpl.Controls/Controls/Forms/Attachment.css","MsPortalImpl.Controls/Controls/Forms/CopyableLabel.css","MsPortalImpl.Controls/Controls/Forms/History.css","MsPortalImpl.Controls/Controls/Lists/Grid1.Formatters.css","MsPortalImpl.Controls/Controls/Lists/Grid1.SelectableRow.css","MsPortalImpl.Controls/Controls/Lists/ListView.css","MsPortalImpl.Controls/Controls/Lists/ListView1.css","MsPortalImpl.Controls/Controls/Lists/Menu.css","MsPortalImpl.Controls/Controls/Markdown.css","MsPortalImpl.Controls/Controls/SearchBox.css","MsPortalImpl.Controls/Controls/SimpleButton.css","MsPortalImpl.Controls/Controls/TextBlock.css","MsPortalImpl.Controls/Controls/Toolbars/Toolbar.css","MsPortalImpl.Controls/Controls/Visualization/Chart.css","MsPortalImpl.Controls/Controls/Visualization/ChartColor.css","MsPortalImpl.Controls/Controls/Visualization/PairedTimeline.css","MsPortalImpl.Controls/Controls/Visualization/PairedTimelineBadges.css","MsPortalImpl.Controls/Controls/Visualization/ProgressBar.css","MsPortalImpl.Controls/Controls/Visualization/RangeSelection.css","MsPortalImpl.Controls/Definitions/Common.css","MsPortalImpl.Controls/Fields/DayPicker.css","MsPortalImpl.Controls/Fields/DurationPicker.css","MsPortalImpl.Controls/Fields/Fields.css","FxInternal/WeaveControls/Section.Component.css","MsPortalImpl.Controls/Fields/Selector.css","MsPortalImpl.Controls/Fields/CreatorAndSelector.css","MsPortalImpl/Widgets/Widgets.Blade.css","MsPortalImpl/Themes/Themes.Reset.css","MsPortalImpl/Themes/Theme2.Colors.Blue.css","MsPortalImpl/Themes/Theme2.Colors.Azure.css","MsPortalImpl/Themes/Theme2.Colors.Light.css","MsPortalImpl/Themes/Theme2.Colors.Dark.css","MsPortalImpl/Themes/Theme2.css","MsPortalImpl/Themes/Theme2.Colors.HighContrastMode.LightMode.css","MsPortalImpl/Themes/Theme2.Colors.HighContrastMode.DarkMode.css","MsPortalImpl/Themes/Theme2.HighContrastMode.css"].forEach((function(e){n(e,o)}));var i=Object.create(null)})),
define("FxInternal/Dashboard/DashboardEndpoints",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PortalDashboard=void 0;var n,r=FxImpl.Rpc.FuncEndPointDefinition;!function(e){e.createDashboard=new r("Shell.createDashboard"),e.deleteDashboards=new r("Shell.deleteDashboards"),e.getArmDashboardJson=new r("Shell.getArmDashboardJson"),e.getPrivateDashboards=new r("Shell.getPrivateDashboards"),e.getRecentDashboards=new r("Shell.getRecentDashboards")}(n||(t.PortalDashboard=n={}))})),
define("FxInternal/DirectoryManagement",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.saveUserDirectorySettingsEndPoint=t.getUserDirectorySettingsEndPoint=void 0;var n=FxImpl.Rpc.FuncEndPointDefinition;t.getUserDirectorySettingsEndPoint=new n("getUserDirectorySettings"),t.saveUserDirectorySettingsEndPoint=new n("saveUserDirectorySettings")})),
define("FxInternal/ErrorHandling",["require","exports","Fx/Errors","FxInternal","Fx/DependencyInjectionCore","Fx/Diagnostics"],(function(e,t,n,r,o,i){var a;Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(e,t,n){v=p,h=n,m=e},t.handleError=y,t.setBlockAdditionalGlobalErrorHandlersInShell=function(e){P=e},t.getStatusCode=function(e,t){try{var n=new XMLHttpRequest;n.onerror=function(){t(n.status,n.responseText,n.statusText)},n.onload=function(){t(n.status,200===n.status?"":n.responseText,n.statusText)},n.open("GET",e,!0),n.send()}catch(e){t(void 0,void 0)}},t.preinitialize=function(e,t){Error.stackTraceLimit&&(Error.stackTraceLimit=r.isDiagnosticsEnabled?100:25);t&&(v=t)};var s,l=window,u=function(){return s||(s=o.container.get(i.Logging).createLog("MsPortalFx.Base.Diagnostics.ErrorReporter")),s},c=0,d={};var p=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];c++;var o=u();if(c<200)o.error.apply(o,arguments);else{var i=((e&&e.message||e)+"").slice(0,50);if(0===(d[i]=d[i]||0)%1e3){var a=[].slice.call(arguments);a[1]=4,a.push("NoisyCount:"+d[i]),o.error.apply(o,a)}d[i]++}};function f(e,t){var n=2,o=e&&e.errorLevel;if((0,r.isNullOrUndefined)(o)){if(t){var i=t(e);(0,r.isNullOrUndefined)(i)||(n=i)}}else n=o;var a=e&&e._sourceErrorLevel;return(0,r.isNullOrUndefined)(a)||(n=a),n}var m,h,v=p;function g(e){try{return"function"==typeof e&&e()}catch(e){}}function y(e,t){var r=e.error,o={message:e.message,fileName:e.filename,lineNumber:e.lineno,columnNumber:e.colno,additionalInfo:g(h)};if(r){var i=void 0;if((0,n.isInstanceOfErrorType)(r,n.FxError)){var a=f(r);if(2===a)i=!0;else if(1===a){u().warning(r,2,o)}}else r.stack&&/http/.test(r.stack)&&(i=!0);i&&v(r,2,o)}else t&&v(t,3,o);t=null,g(m)}var b=l.addEventListener,x=l.removeEventListener,C=function(e,t,n){b.call(l,e,t,n)},_=function(e,t,n){x.call(l,e,t,n)};function w(e,t){!function(e){return"function"==typeof(null==e?void 0:e.handleEvent)}(e)?e(t):e.handleEvent(t)}var P=!0;var E=new Map,F=new Map;var M=l.fx;if((null===(a=null==M?void 0:M.internalEnv)||void 0===a?void 0:a.isShell)&&(M.handleError&&_("error",M.handleError),l.addEventListener=function(e,t,n){"error"===e?t=function(e){var t=function(t){P||w(e,t)};return E.set(e,t),t}(t):"unhandledrejection"===e&&(t=function(e){var t=function(t){P||w(e,t)};return F.set(e,t),t}(t)),C(e,t,n)},l.removeEventListener=function(e,t,n){if("error"===e&&E.has(t)){var r=E.get(t);E.delete(t),t=r}else if("unhandledrejection"===e&&F.has(t)){var o=F.get(t);F.delete(t),t=o}_(e,t,n)}),C("error",y),C("unhandledrejection",(function(e){var t=e.reason,n=f(t,(function(e){if(!(null==e?void 0:e.stack))return 0}));if(2===n)v(t,1);else if(1===n){u().warning(t,1)}e.preventDefault()})),globalThis.ReportingObserver){var S=new ReportingObserver((function(e){var t=u();e.map((function(e){var t,n=e.type,r="deprecation"===n?51:"intervention"===n?52:"csp-violation"===n?53:"permissions-policy-violation"===n?54:"potential-permissions-policy-violation"===n?55:50,o=e.url||"",i=null===(t=e.body)||void 0===t?void 0:t.message;return{reportType:n,reportUrl:o,reportMessage:"string"==typeof i?i:"Unspecified",code:r,report:e}})).filter((function(e){var t,n=e.code,r=e.report;if(51===n&&(""+(null===(t=r.body)||void 0===t?void 0:t.sourceFile)).includes("msal-browser-1p.js"))return!1;return!0})).forEach((function(e){var n=e.reportType,r=e.reportUrl,o=e.reportMessage,i=e.code,a=e.report,s="".concat(n,": ").concat(o," '").concat(r,"'");t.warning(s,i,a)}))}),{buffered:!0});S.observe()}})),
define("FxInternal/ErrorSerialization",["require","exports","Fx/Errors"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.extractErrorDetails=o,t.isExtractableError=function(e){switch(i(e)){case"Unhandled":case"ExtractionException":return!1;default:return!0}};var r=1;function o(e,t,n){var c=function(e){var t;try{switch(i(e)){case"GenericError":return function(e){return{schemaVersion:r,extractionType:"GenericError",message:e.message,name:e.name}}(e);case"GenericErrorWithStack":return function(e){var t;return{schemaVersion:r,extractionType:"GenericErrorWithStack",message:e.message,name:e.name,stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,6e3)}}(e);case"FailedModuleError":return function(e){var t;return{schemaVersion:r,extractionType:"FailedModuleError",message:e.message,name:e.name,stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,6e3),data:e.data}}(e);case"FxError":return a(e);case"FxAjaxBatchResponseItemError":return function(e){var t=e.content,n={content:u(t)?o(t,void 0,!0):t,httpStatusCode:e.httpStatusCode,headers:e.headers};return __assign(__assign(__assign({},a(e)),n),{extractionType:"FxAjaxBatchResponseItemError"})}(e);case"FxErrorWithJqXhr":return function(e){var t=a(e),n=s(e.jqXHR);return n.innerError=t,__assign(__assign({},n),{extractionType:"FxErrorWithJqXhr"})}(e);case"FxErrorWithErrorThrown":return function(e){var t=a(e);t.extractionType="FxErrorWithErrorThrown";var n=o(e.errorThrown.error);return t.innerError=n.innerError,n.innerError=t,n}(e);case"XMLHttpRequestLike":return s(e);case"ArmErrorResponse":return l(e);case"BatchResponseItem":return function(e){var t={schemaVersion:r,httpStatusCode:e.httpStatusCode,extractionType:"BatchResponseItem"};return"string"==typeof e.content?__assign(__assign({},t),{message:e.content}):__assign(__assign(__assign({},t),o(e.content)),{extractionType:"BatchResponseItem"})}(e);default:return{schemaVersion:r,extractionType:"Unhandled"}}}catch(e){return{schemaVersion:r,extractionType:"ExtractionException",name:null==e?void 0:e.name,message:null==e?void 0:e.message,stack:null===(t=null==e?void 0:e.stack)||void 0===t?void 0:t.slice(0,6e3)}}}(e);return n||(t&&(c.blade=t),c.online=navigator.onLine,c.documentVisibilityState=document.visibilityState),c}function i(e){var t="Unhandled";return c(e)?(t="FxError",!function(e){return c(e)&&f(e)}(e)?!function(e){return c(e)&&d(e.jqXHR)}(e)?function(e){var t,n;return c(e)&&"object"==typeof(null==e?void 0:e.errorThrown)&&0!==Object.keys(e.errorThrown).length&&"object"==typeof(null===(t=null==e?void 0:e.errorThrown)||void 0===t?void 0:t.error)&&"string"==typeof(null===(n=null==e?void 0:e.errorThrown)||void 0===n?void 0:n.responseText)}(e)&&(t="FxErrorWithErrorThrown"):t="FxErrorWithJqXhr":t="FxAjaxBatchResponseItemError"):u(e)?(t="GenericError",m(e)&&(t="GenericErrorWithStack",function(e){return u(e)&&m(e)&&function(e){return"object"==typeof(null==e?void 0:e.data)}(e)}(e)&&(t="FailedModuleError"))):d(e)?t="XMLHttpRequestLike":p(e)?t="ArmErrorResponse":f(e)&&(t="BatchResponseItem"),t}function a(e){var t,n={schemaVersion:r,extractionType:"FxError",message:e.message,name:e.name?"".concat(e.type,"/").concat(e.name):e.type,stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,6e3),data:e.data};e.errorData&&("Unhandled"!==(i=o(e.errorData)).extractionType&&(i.innerError=n,(n=i).extractionType="FxErrorWithErrorData"));if(p(e.message)){var i=l(e.message);n=__assign(__assign(__assign({},n),i),{extractionType:"FxErrorWithArmErrorResponse"})}return function(e){var t;return(null===(t=null==e?void 0:e.innerErrors)||void 0===t?void 0:t.constructor)===Array&&0!==e.innerErrors.length}(e)&&(n.innerError=o(e.innerErrors[0],void 0,!0),n.extractionType="FxErrorWithInnerErrors"),n}function s(e){return{schemaVersion:r,extractionType:"XMLHttpRequestLike",message:e.responseText||e.statusText,name:e.statusText,httpStatusCode:e.status,data:e.uri?{uri:e.uri}:void 0}}function l(e){return e.error?l(e.error):e.innererror?l(e.innererror):{schemaVersion:r,extractionType:"ArmErrorResponse",message:e.message,name:e.code}}function u(e){return e instanceof Error||"string"==typeof(null==e?void 0:e.name)&&"string"==typeof(null==e?void 0:e.message)}function c(e){return(0,n.isInstanceOfErrorType)(e,n.FxError)}function d(e){return"object"==typeof e&&"number"==typeof(null==e?void 0:e.status)&&"string"==typeof(null==e?void 0:e.statusText)}function p(e){return(null==e?void 0:e.error)?p(e.error):"string"==typeof(null==e?void 0:e.code)&&"string"==typeof(null==e?void 0:e.message)}function f(e){return void 0!==(null==e?void 0:e.content)&&"object"==typeof(null==e?void 0:e.headers)&&"number"==typeof(null==e?void 0:e.httpStatusCode)&&200!==(null==e?void 0:e.httpStatusCode)}function m(e){return"string"==typeof(null==e?void 0:e.stack)}})),
define("FxInternal/ProxiedObservables",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setPoUndefined=function(e){Object.defineProperty(e,n,{configurable:!0,value:!0})};var n="###isPoUndefined###"})),
define("FxInternal/ReactView/DataCacheEndpoints",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setRpcClient=t.dataCacheClearAllEndPoint=t.dataCacheClearEndPoint=t.dataCacheGetEndPoint=t.dataCacheAddEndPoint=t.entryPrefix=void 0,t.getRpcClient=function(){return r||n.container.get(FxImpl.Rpc.Client)},t.entryPrefix="",t.dataCacheAddEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheAdd"),t.dataCacheGetEndPoint=new FxImpl.Rpc.FuncEndPointDefinition("reactViewDataCacheGet"),t.dataCacheClearEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheClear"),t.dataCacheClearAllEndPoint=new FxImpl.Rpc.ActionEndPointDefinition("reactViewDataCacheClearAll");var r=null})),
define("FxInternal/ResourceManagement/LocationsCore",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLocationDisplayNamesEndPoint=void 0,t.getLocationDisplayNamesEndPoint=new n.FuncEndPointDefinition("getLocationDisplayNames")})),
define("FxInternal/ResourceManagement/Permissions",["require","exports","Fx/DependencyInjection","Fx/Errors"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionChecker=void 0;var o=FxImpl.Extension,i=MsPortalFx.Base.Diagnostics.createLog(e),a=function(){function t(e){this._rpcClient=e,this._permissionsCache=Object.create(null)}return t.prototype.hasPermission=function(e,t){var n=this,a=(e||"")+":"+(t||[]).sort().join();return this._permissionsCache[a]||(this._permissionsCache[a]=o.hasPermissionsToShell.invoke(this._rpcClient,"fx",{entityId:e,requestedActions:t}).then((function(e){if("string"==typeof e){var t=new r.FxError(e);return i.warning(t),delete n._permissionsCache[a],!0}return e}),(function(e){return i.error(e),delete n._permissionsCache[a],!0})))},t=__decorate([__metadata("fx:diagnostics",[e,"PermissionChecker"]),n.Class(),__metadata("design:paramtypes",[FxImpl.Rpc.Client])],t)}();t.PermissionChecker=a})),
define("FxInternal/Shared/lib/DomainValidator",["exports"],(function(e){function t(e){if(!e)return e;const t=function(e){return e.replace(/[\uFF01-\uFF5E]/g,(e=>String.fromCharCode(e.charCodeAt(0)-65248)))}(e);return t.trim().normalize("NFC").toLocaleLowerCase("en-US")}function n(e){try{const n=e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/[\u2010-\u2015\u2212]/g,"-").trim(),r=t(n);if(!n||!n.includes("://")&&/^(?:\/[^/]+)+.*$/.test(r))return"";const o=new URL(n.includes("://")?r:`https://${r}`);return function(e){if(!e)return"";const t=e.split(" ");return t.map((e=>{const t=parseInt(e,16);return String.fromCharCode(t)})).join("")}(Array.from(o.hostname).map((e=>e.charCodeAt(0).toString(16).padStart(2,"0"))).join(" "))}catch(t){throw new Error(`Invalid domain: ${e}`)}}e.getDomainValidator=function({developmentModeOnlyCallback:e,effectiveLocale:r,extensionTrustedDomains:o,fxTrustedDomains:i,logFailures:a}){e&&e();const s=function(e,t){const n=new Set(e);return(Array.isArray(t)?t:[]).forEach((e=>n.add(e))),[...n]}(i,o),l=new Set,u=[];s.filter((e=>!!e)).forEach((e=>{if(e.startsWith("*.")){const n=t(function(e,...t){let n=e.length;for(;n>0&&t.includes(e[n-1]);)n--;return e.substring(0,n)}(e,"*",".")).replaceAll("%2A","*");n&&u.push(n)}else{if(e.includes("*"))return;let t=!0,r=e;try{r=n(e)}catch{t=!1}t&&l.add(r)}}));const c=u.map((e=>`^${e.replaceAll(".","\\.").replaceAll("*",".*")}$`)).join("|"),d=u.length?new RegExp(`^(${c})$`):void 0,p=(e,t)=>[...e,...t].toString();return{fxTrustedDomains:i,trustedDomainsList:p(l.keys(),u),validateDomain:function(t){e&&e();let o="N/A",i=!1,s="";try{s=n(t)}catch{o="InvalidDomainEx"}return s?l.has(s)?i=!0:(d?.test(s)&&(i=!0),i||(o="NotInTrustedDomains",d||(o+="_NoWildcards"))):(o="InvalidDomain",s="<empty>"),i?l.add(s):a?.(t,s,o,r,p(l.keys(),u)),i}}}})),
define("FxInternal/Shared/lib/LinkSanitizer",["exports","FxInternal/Shared/lib/DomainValidator","FxInternal/Shared/lib/UriScrubber"],(function(e,t,n){e.getLinkSanitizer=function({domainValidatorLoggingOptions:e,experimentation:i,extensionName:a,linkedDomainMap:s,logError:l,portalUri:u,shellTrustedLinkedDomains:c,trustedLinkedDomains:d}){const p=new URL("verifyLink",new URL(u+"/")).href,f=new URL(u).origin,m=[...new Set([f,...c])],h=s||{},v=Object.keys(h).map((e=>[new RegExp(`^(\\w+:|)//(${e.replaceAll(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})\\b`,"i"),`$1//${h[e]}`])),g={...e,fxTrustedDomains:[]},y=i.verifyTopLevelDomainsFeature()&&[...new Set(Object.keys(h).map((e=>h[e])).map((e=>e.substring(e.indexOf(".")+1)))),f],b=new Map;function x(e,t){const n=b.get(t);return!!n&&n(e)}function C(e,n){let r=b.get(e);if(void 0===r){if(Array.isArray(n)&&n.length){const t=[];n=n.filter((e=>!o.some((t=>e.toLowerCase().includes(t)))||(t.push(e),!1))),t.length>0&&l({domains:t.join(", "),extension:e},`The following domains are not allowed in the trusted linked domains: ${t.join(", ")}.`)}r=(0,t.getDomainValidator)({...g,extensionTrustedDomains:"fx"!==e&&n?n:[],fxTrustedDomains:m}).validateDomain,b.set(e,r)}}return C(a,d),{getSafeLink:function(e,t,o){if(e&&(e.includes("://")||e.startsWith("//"))){if(o||(e=e.replace(r,((e,n,r,o,i)=>{let a="https://learn.microsoft.com/"+i;return-1===i.toLowerCase().indexOf("wt.mc_id=")&&(a+=(i.includes("?")?"&":"?")+"WT.mc_id=Portal-"+encodeURIComponent(t||"fx")),a})),v.forEach((t=>{e=e.replace(t[0],t[1])}))),y&&!y.some((t=>e.includes(t)))){const r=(0,n.scrubUri)(e,l);l({extension:t,uri:r},`"${r}" does not pass top level domain validation.`)}if((i.verifyExternalLinksFeature()||i.verifyExternalLinksExperiment())&&!x(e,t))return`${p}?href=${encodeURIComponent(e)}&id=${t??"null"}`}return e},isTrustedDomainLink:x,processTrustedLinkedDomains:C}};const r=/^https?:\/\/(www\.)?(docs|learn)\.microsoft\.com(\/en-us)?\/([^#]*)/i,o=["aka.ms","go.microsoft.com","bit.ly","tinyurl.com","portal.azure.com"]})),
define("FxInternal/Shared/lib/LinkUtils",["exports"],(function(e){function t(e,t){let n,i,a="";return e&&Object.entries(e).forEach((([e,s])=>{if("editScopeId"!==e)if(t){if(e.endsWith(r.JSON))return n=o.UnableToSerializeInputKey,void(i=e);let t,l;const u=function(e){let t=typeof e;"object"===t&&(null===e?t="null":Array.isArray(e)?t="array":e instanceof Date?t="date":e instanceof RegExp&&(t="regexp"));return t}(s);switch(u){case"array":case"boolean":case"null":case"number":case"object":l=r.JSON;try{t=JSON.stringify(s)}catch(e){n=o.UnableToSerializeInputJSONStringifyFailed,i=JSON.stringify(e.message)}break;case"date":n=o.UnableToSerializeInputTypeDate,i="The input model contains a Date object which cannot be serialized in a roundtrippable way from Fx. A future upgrade will JSON stringify this input and the resulting deep link may not be navigable reliably. If using Date object to navigate to content, serialize the Date as part of the input model using the `toISOString()` method and parse this value on the initialization phase of the content.";break;case"string":l=r.Plain,t=s;break;case"undefined":break;default:n=o.UnableToSerializeInputTypeOther,i=u}void 0!==t&&void 0!==l&&(a+=`/${encodeURIComponent(e)}${l}/${encodeURIComponent(t)}`)}else s&&"object"==typeof s&&(s=JSON.stringify(s)),void 0!==s&&(0===s&&(s="0"),a+=`/${encodeURIComponent(e)}/${encodeURIComponent(s||"")}`)})),{lastFoundUnableToSerializeInputDetails:i,lastFoundUnableToSerializeInputReason:n,serializedInputs:a}}e.ReasonNotDeepLinkable=e.DeepLinkV2TypeMarker=void 0,e.getViewDeepLink=function(e){const{extensionName:i,hashQuery:a,portalUri:s,selectedMenuItemId:l,setDeepLinkContext:u,v2DeepLink:c,viewName:d,viewParameters:p}=e,f=s?new URL(s):void 0,{lastFoundUnableToSerializeInputDetails:m,lastFoundUnableToSerializeInputReason:h,serializedInputs:v}=t(p,c);if(h)return u&&u(f?.toString()||"",!1,h,m),"";let g=v;l&&(g=(c?`/${r.MenuBlade}/`:"/")+l+g);const y=`#${c?"view":"blade"}/${i}/${d}${g}${a}`;f&&(f.hash=y);if(y.length>n)return u&&u(f?.toString()||y,!1,o.InputsExceedURILength),"";return u&&u(f?.toString()||y,!0),f?f.toString():y},e.maxUrlLength=void 0,e.serializeViewInputs=t;const n=e.maxUrlLength=1e6,r=e.DeepLinkV2TypeMarker={JSON:"~",MenuBlade:"~",Plain:""};var o;!function(e){e.BladeHasOutputs="BladeHasOutputs",e.BladeNotPinnableCannotUpgrade_NestedTooDeep="BladeNotPinnableCannotUpgrade_NestedTooDeep",e.BladeNotPinnableCannotUpgrade_NestedTooDeepCyclic="BladeNotPinnableCannotUpgrade_NestedTooDeepCyclic",e.BladeNotPinnableCannotUpgrade_UnsupportedArray="BladeNotPinnableCannotUpgrade_UnsupportedArray",e.BladeNotPinnableCannotUpgrade_UnsupportedDate="BladeNotPinnableCannotUpgrade_UnsupportedDate",e.BladeNotPinnableCannotUpgrade_UnsupportedType="BladeNotPinnableCannotUpgrade_UnsupportedType",e.BladeNotPinnableCannotUpgrade_UnsupportedTypeCanBeSupported="BladeNotPinnableCannotUpgrade_UnsupportedTypeCanBeSupported",e.InputsExceedURILength="InputsExceedURILength",e.UnableToSerializeInputJSONStringifyFailed="UnableToSerializeInputJSONStringifyFailed",e.UnableToSerializeInputKey="UnableToSerializeInputKey",e.UnableToSerializeInputTypeDate="UnableToSerializeInputTypeDate",e.UnableToSerializeInputTypeOther="UnableToSerializeInputTypeOther"}(o||(e.ReasonNotDeepLinkable=o={}))})),
define("FxInternal/TelemetryContext",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("FxInternal/Utils/LinkSanitizer",["require","exports","Fx/DependencyInjection","FxInternal/Environment","Fx/Diagnostics","Fx/Errors","Fx/Experimentation","FxInternal/Shared/lib/LinkSanitizer"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.LinkSanitizer=void 0;var l=(0,o.createLog)(e),u=function(){function t(e,t,n){var r=FxImpl.ensureAbsoluteUri("");this._sharedLinkSanitizer=(0,s.getLinkSanitizer)({domainValidatorLoggingOptions:{effectiveLocale:FxImpl.Intl.effectiveLocale,logFailures:function(e,t,n,r,o){return l.warning('URI "{0}" (domain "{1}") failed validateDomain; reason: "{2}"; effective locale: "{3}"; trustedDomains: {4}'.format(e,t,n,r,o))}},experimentation:{verifyExternalLinksExperiment:function(){return n.shellAssignments.getBooleanValue("verifyexternallinks")},verifyExternalLinksFeature:function(){return t.isEnabled("verifyexternallinks")},verifyTopLevelDomainsFeature:function(){return t.isEnabled("verifytopleveldomains")}},extensionName:e.extensionName,linkedDomainMap:e.linkedDomainMap,logError:function(e,t){return l.error(new i.FxError({message:e,data:t}))},portalUri:MsPortalFx.trimEnd(r,"/"),shellTrustedLinkedDomains:e.shellTrustedLinkedDomains,trustedLinkedDomains:e.trustedLinkedDomains})}return t.prototype.isTrustedDomainLink=function(e,t){return this._sharedLinkSanitizer.isTrustedDomainLink(e,t)},t.prototype.processTrustedLinkedDomains=function(e,t){this._sharedLinkSanitizer.processTrustedLinkedDomains(e,t)},t.prototype.getSafeLink=function(e,t,n){return this._sharedLinkSanitizer.getSafeLink(e,t,n)},t=__decorate([__metadata("fx:diagnostics",[e,"LinkSanitizer"]),n.Class(),__metadata("design:paramtypes",[r.Environment,FxImpl.Features,a.Experimentation])],t)}();t.LinkSanitizer=u})),
define("FxInternal/Weave/Blade",["require","exports","Fx/DependencyInjection"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UntypedWeaveBladeParameters=void 0,t.WeaveBladeDecorator=function(e){return function(e){var t=e._fx||(e._fx={});t.isWeaveBlade=!0,t.isWeaveFlighted=!0}},t.Rebindable=function(){return function(e){(e._fx||(e._fx={})).rebindable=!0}},t.WeaveBladeExportDecorator=function(e){return function(t,n,r){var o=Reflect.getOwnMetadata("fx:weavebladeexports",t);o||Reflect.defineMetadata("fx:weavebladeexports",o={},t),o[e]=n}};var r=function(){function t(){}return t=__decorate([__metadata("fx:diagnostics",[e,"UntypedWeaveBladeParameters"]),n.Value("viewModel")],t)}();t.UntypedWeaveBladeParameters=r})),
define("FxInternal/_generated/Less/WeaveControls/Button.Component.css",["module"],(function(e){return{css:".fxc-simplebutton{display:inline-flex;-webkit-user-select:none;text-align:center;position:relative;max-width:100%}.fxs-button-icon{display:inline-block;height:12px;width:12px}.fxs-button-icon-left{margin-right:5px}.fxs-button-icon-right{margin-left:5px}.fxs-button-spinner{height:10px;width:10px;display:inline-block;position:absolute;right:20px}.fxs-button-text-hide{display:none}.fxs-button-validating{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:18px}",moduleId:e.id}})),
define("Weave/SandboxMode",["require","exports","Weave/Core/InternalUtil"],(function(e,t,n){return n.WeaveTsx})),
define("FxInternal/WeaveControls/Button.Component.Internal",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/ButtonComponent","FxInternal/_generated/Less/WeaveControls/Button.Component.css","FxInternal/Weave"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonInner=function(e){var t=e.disabled,l=e.text,u=e.loadingText,c=e.onClick,d=(0,r.ensureComputation)(e.icon),p=d.compose((function(e){return null==e?void 0:e.position})),f=d.compose((function(e){return null==e?void 0:e.image})),m=(0,r.composeComputation)([e.ariaLabel,e.text],(function(e,t){return e||t})),h=(0,o.mapValueOrComputation)(e.ariaLabel,(function(e){return e||null})),v=(0,r.ensureComputation)(e.style),g=(0,r.ensureComputation)(e.loading);return n(r.GetContext,{fn:function(e){var d=ko.observable(!1),y=(0,o.aggregateDisabled)([e.disabled,t,(0,s.toComputation)(d)]),b=(0,o.aggregateTabindex)([e.tabIndex],y);return n(r.LifetimeManagerScoped,{fn:function(e){return n("div",{role:"button",domAgent:{type:"button",options:{aggregatedDisabled:(0,s.toObservable)(e,y),selfDisabled:d,onClick:c}},className:["fxs-button fxt-button fxs-inner-solid-border",{"fxs-button-disabled":y,"fxs-portal-button-primary":(0,o.mapValueOrComputation)(v,(function(e){return 0===e})),"fxs-button-default":(0,o.mapValueOrComputation)(v,(function(e){return 1===e})),"fxs-portal-button-danger":(0,o.mapValueOrComputation)(v,(function(e){return 2===e}))}],tabindex:b,"aria-disabled":y,"aria-label":h,title:m},n(r.Css,{css:a}),n(r.If,{condition:p.compose((function(e){return 0===e})),concealmentBehavior:"remove",trueFn:function(){return n("div",{className:"fxs-button-icon fxs-button-icon-left",image:f})}}),n("span",{visible:g.compose(o.negation),className:"fxs-button-text"},l),n(r.If,{condition:p.compose((function(e){return 1===e})),concealmentBehavior:"remove",trueFn:function(){return n("div",{className:"fxs-button-icon fxs-button-icon-right",image:f})}}),n(r.If,{condition:g,concealmentBehavior:"remove",trueFn:function(){return n("div",{className:"fxs-button-validating"},n("span",null,(0,o.mapValueOrComputation)(u,(function(e){return void 0===e?i.validating:e}))),n("div",{className:"fxs-button-spinner",image:MsPortalFx.Base.Images.CustomImageWithOptions(MsPortalFx.Base.Images.Loading.Spinner(),{customClass:"msportalfx-svg-fabric-rotate360"})}))}}))}})}})}})),
define("FxInternal/Weave/Components/Button",["require","exports","Weave/SandboxMode","FxInternal/WeaveControls/Button.Component.Internal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Button=function(e){return n("div",{visible:e.visible,className:["fxc-simplebutton",e.className]},n(r.ButtonInner,__assign({},e)))}})),
define("FxInternal/Weave/Components/LoadingIndicator",["require","exports","Weave/SandboxMode"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingIndicator=function(e){return n("div",{className:[(e=e||r).className,1===e.size&&"fxs-progress-small","fxs-progress"]},n("div",{className:"fxs-progress-dots"},n("div",{className:"fxs-progress-dots-dot"}),n("div",{className:"fxs-progress-dots-dot"}),n("div",{className:"fxs-progress-dots-dot"}),n("div",{className:"fxs-progress-dots-dot-shadow"}),n("div",{className:"fxs-progress-dots-dot-shadow"}),n("div",{className:"fxs-progress-dots-dot-shadow"})))};var r={}})),
define("FxInternal/WeaveControls/ComponentHandleCore",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/Weave/Aggregators"],(function(e,t,n,r,o,i){function a(e){return{dirty:(0,r.makeIndirectComputation)(i.aggregators.dirty.identityElementComp),required:(0,r.makeIndirectComputation)(i.aggregators.required.identityElementComp),valid:(0,r.makeIndirectComputation)(i.aggregators.valid.identityElementComp),validator:e}}function s(e,t){return e||!t}function l(e,t){return t?e:i.aggregators.validator.identityElement}Object.defineProperty(t,"__esModule",{value:!0}),t.handleMap=void 0,t.makeSimpleComponentHandle=function(){var e=a();return t.handleMap.set(e,e),e},t.makeInternalHandle=a,t.wrapInsideAggregationNode=function(e,i,a){var u=t.handleMap.get(i),c=n(r.Aggregated,__assign({},u),e);return a&&a!==o.trueComputation?n(r.Aggregatable,{dirty:(0,r.composeComputation)([u.dirty,a],o.and),required:(0,r.composeComputation)([u.required,a],o.and),valid:(0,r.composeComputation)([u.valid,a],s),validator:u.validator&&(0,r.composeComputation)([u.validator,a],l)},c):c},t.handleMap=new WeakMap})),
define("FxInternal/_generated/Less/WeaveControls/Section.Component.css",["module"],(function(e){return{css:'.fxc-section-wrapper{width:100%;display:block}.fxc-section-wrapper>.fxc-section-legend{padding-top:0}.fxc-section.fxc-section-row{width:100%;display:table;table-layout:fixed}.fxc-section.fxc-section-row .azc-form-labelcontainer{padding-bottom:3px}.fxc-section.fxc-section-row>.fxc-section:last-child{padding-right:0}.fxc-section.fxc-section-row>.fxc-section-column{display:table-cell;width:1%;vertical-align:top;padding-right:7px}.fxc-section.fxc-section-row>.fxc-section-legend{display:table-caption;caption-side:top;padding-top:7px}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel){display:table-row;padding-bottom:0}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel) .azc-formElementContainer,.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel) .azc-form-labelcontainer{vertical-align:middle}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel)>.azc-formElementSubLabelContainer{display:table-cell;width:100%;padding-bottom:15px}.fxc-section:not(.fxc-left-label-fixed) .fxc-left-label:not(.fxc-right-sublabel)>.azc-form-labelcontainer{display:table-cell;padding-right:14px;white-space:nowrap;padding-bottom:15px}.fxc-section>.fxc-section-legend{display:block;font-size:14px;margin-bottom:5px}.fxc-section .azc-dropdown .azc-dropdown-wrapper .azc-dropdown-current{display:inline;position:absolute;margin:3px 0 0;padding-right:20px}.fxc-section .fxc-section-control .azc-form-labelcontainer label,.fxc-section>.fxc-weave-pccontrol .azc-form-labelcontainer label{max-width:100%}.fxc-section.fxc-section-wrapper.fxc-section-singlecontrol .msportalfx-form-formelement.fxc-section-control{padding-bottom:5px}.fxc-section.fxc-section-wrapper.fxc-section-singlecontrol .msportalfx-form-formelement.fxc-section-control:last-child{padding-bottom:15px}.msportalfx-form-regular .fxc-section-column{display:block!important}.msportalfx-form-regular .fxc-left-label{display:block!important}.msportalfx-form-regular .fxc-left-label>.azc-formElementSubLabelContainer{display:inline-block!important;margin:0!important;padding-bottom:0!important;width:68%!important}.msportalfx-form-regular .fxc-left-label>.azc-form-labelcontainer{display:inline-block!important;margin:0!important;padding-bottom:0!important;width:32%!important;white-space:inherit!important}.fxc-section-tabs{display:block;margin-bottom:10px}.fxc-section-tabs div[role="tabpanel"]{padding-left:8px;box-sizing:border-box}.fxc-section-tabs>.fxc-section{width:100%;display:block}.fxc-section-tabs>.fxc-section>.fxc-section-legend{display:none!important}.fxc-section-tabs>.fxc-section-column{padding-right:0}.fxc-weave-tabpanel{height:100%;min-height:0;padding-left:8px;box-sizing:border-box}.fxc-tabs-container{display:flex;height:36px;box-sizing:border-box;margin-bottom:12px;position:relative}.fxc-tabs-itemslist{display:flex;margin:0 0 1px;padding:0;list-style-type:none;align-items:center;flex:1 1 auto;border-color:inherit;font-size:14px;overflow:hidden;min-height:36px}.fxc-section-tab-item{display:flex;flex:0 0 auto;align-items:center;top:50%;transform:translateY(-50%);padding:0 8px;margin-right:8px;cursor:pointer;min-height:36px;white-space:nowrap;box-sizing:border-box;position:relative;outline-offset:-1px;outline-width:1px;transition:background-color .09s ease}.fxc-section-tab-item.azc-br-active{font-weight:600;margin-bottom:0}.fxc-section-tab-item.azc-br-active::before{background-color:#0078d4;bottom:0;content:"";height:2px;left:8px;position:absolute;right:8px;transition:left .267s cubic-bezier(.1,.25,.75,.9) 0s,right .267s cubic-bezier(.1,.25,.75,.9) 0s}.fxc-section-tab-item.azc-br-active:hover::before{left:0;right:0}.fxc-section-tab-item.fxc-tab-disabled{opacity:.7;color:#808080;filter:grayscale(100%);cursor:default}.fxc-section-tab-item-hidden{display:none}.fxc-section-tab-placeholder.fxc-tabs-menu-content{font-weight:600;position:static;display:flex;visibility:hidden}.fxc-tabs-menu-content{display:flex;flex:0 0 auto;align-items:center;overflow:hidden;text-overflow:ellipsis;position:absolute;text-align:center;top:50%;transform:translateY(-50%)}.fxs-mode-dark .fxc-tabs-menu .fxc-tabs-itemslist{border:1px solid #7f8286}.fxs-mode-dark .fxc-tabs-menu .fxc-section-tab-item.azc-br-active{background-color:#292827}.fxs-mode-dark .fxc-tabs-menu:hover,.fxs-mode-dark .fxc-section-tab-item:not(.fxc-tab-disabled):hover{background-color:#252423}.fxs-mode-dark .fxc-tabs-menu:hover:active,.fxs-mode-dark .fxc-section-tab-item:not(.fxc-tab-disabled):hover:active{background-color:#292827}.fxs-mode-light .fxc-tabs-menu:hover,.fxs-mode-light .fxc-section-tab-item:not(.fxc-tab-disabled):hover{background-color:#f3f2f1}.fxs-mode-light .fxc-tabs-menu:hover:active,.fxs-mode-light .fxc-section-tab-item:not(.fxc-tab-disabled):hover:active{background-color:var(--colorControlBackgroundSelected)}.fxs-mode-light .fxc-section-tab-item:focus-visible,.fxs-mode-light .fxc-tabs-menu .fxs-portal-svg-secondary:focus-visible{outline-style:solid;outline-color:#605e5c}.fxc-tabs-menu .fxs-portal-svg-secondary{display:none;height:19px;padding:9px 0 8px;width:36px;cursor:pointer}.fxc-tabs-menu .fxc-tabs-itemslist{position:absolute;top:35px;right:0;padding:0;display:none;min-width:120px;z-index:2;border-radius:0 0 2px 2px!important}.fxc-tabs-menu .fxc-section-tab-item{margin-right:0;padding:2px 8px;height:auto;min-height:32px;width:100%;top:0%;transform:translateY(0%)}.fxc-tabs-menu .fxc-section-tab-item.azc-br-active{font-family:az_ea_font,"Segoe UI",az_font,system-ui,-apple-system,BlinkMacSystemFont,Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-weight:400;background-color:var(--colorControlBackgroundSelected)}.fxc-tabs-menu .fxc-section-tab-item.azc-br-active::before,.fxc-tabs-menu .fxc-section-tab-item:hover::before{height:0}.fxc-tabs-menu-active .fxs-portal-svg-secondary{display:block}.fxc-tabs-menu-active.fxc-tabs-menu-open .fxc-tabs-itemslist{display:flex;flex-direction:column;align-items:flex-start;flex-grow:1 1 auto}.msportalfx-vertical-compact .fxc-left-label>.azc-form-labelcontainer,.msportalfx-vertical-compact .fxc-left-label>.azc-formElementSubLabelContainer{padding-bottom:5px}div:not(.fxc-section)>.fxc-section-legend{display:inline-block!important}.msportalfx-form.fxc-section-column,.msportalfx-form:not(.fxc-section-row)>.fxc-section-column{display:block;width:100%}.msportalfx-form.fxc-section-row,.msportalfx-form:not(.fxc-section-wrapper)>.fxc-section-row{width:calc(100% - 7px)}.fxc-section.fxc-section-dependent{width:100%;padding-left:10px;padding-bottom:7px;border-left-width:1px;border-left-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box;margin-bottom:15px}.fxc-right-sublabel>.azc-formElementSubLabelContainer{display:flex}.fxc-right-sublabel>.azc-formElementSubLabelContainer .azc-text-sublabel{margin-left:7px;flex:0 1 auto}.fxc-right-sublabel:not(.fxc-left-label)>.azc-formElementSubLabelContainer .azc-formElementContainer{width:calc(100% - 7px)}.fxc-right-sublabel:not(.fxc-left-label)>.azc-formElementSubLabelContainer .azc-text-sublabel{margin-left:7px}.fxc-left-label.fxc-right-sublabel{display:flex}.fxc-left-label.fxc-right-sublabel>.azc-form-labelcontainer{margin-right:7px}.fxc-left-label.fxc-right-sublabel>.azc-formElementSubLabelContainer{flex-grow:1}.fxc-left-label.fxc-right-sublabel>.azc-formElementSubLabelContainer>.azc-formElementContainer{flex-grow:1}.fxc-section.fxc-left-label-fixed .fxc-section-control:not(.fxc-summary),.fxc-section.fxc-left-label-fixed>.fxc-weave-pccontrol:not(.fxc-summary){width:auto;display:flex}.fxc-section.fxc-left-label-fixed .fxc-section-control:not(.fxc-summary) .azc-text-label:not(.azc-checkBoxField-inlineLabelContainer),.fxc-section.fxc-left-label-fixed>.fxc-weave-pccontrol:not(.fxc-summary) .azc-text-label:not(.azc-checkBoxField-inlineLabelContainer){padding-right:8px;margin-top:3px}.fxc-tab-required .fxc-tab-required-item::after{content:"*";color:#a4262c;position:absolute;top:8px;left:0}.fxc-tab-invalid .fxc-tab-invalid-item::after{content:"";height:6px;width:6px;background-color:#a4262c;border-radius:50%;position:absolute;top:5px;right:0;left:inherit}.fxc-tab-invalid .fxc-tab-invalid-item-flight::after{content:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%209%209%22%3E%0D%0A%20%20%20%20%3Ccircle%20cx%3D%224.5%22%20cy%3D%224.5%22%20r%3D%224.5%22%20fill%3D%22%23e81123%22%2F%3E%0D%0A%20%20%20%20%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M7%202.8L6.2%202%204.5%203.7%202.8%202l-.8.8%201.7%201.7L2%206.2l.8.8%201.7-1.7L6.2%207l.8-.8-1.7-1.7z%22%2F%3E%0D%0A%3C%2Fsvg%3E%0D%0A");height:16px;width:16px;left:0;position:absolute;top:10px}.fxc-tab-invalid .fxc-tab-invalid-item-flight{padding-left:20px}.fxc-tab-invalid-icon{height:16px;width:16px;position:unset;padding-right:4px}.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label>.azc-formElementContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label>.azc-formElementContainer{width:inherit!important;max-width:calc(100% - 250px);flex:auto}.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label.msportalfx-nested-control>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label.msportalfx-nested-control>.azc-formElementSubLabelContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label.msportalfx-nested-control>.azc-formElementContainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label.msportalfx-nested-control>.azc-formElementContainer{max-width:calc(100% - 205px)}.fxc-section.fxc-left-label-fixed.fxc-smart-labels .fxc-section-control.fxc-has-label .azc-form-labelcontainer,.fxc-section.fxc-left-label-fixed.fxc-smart-labels>.fxc-weave-pccontrol.fxc-has-label .azc-form-labelcontainer{padding-right:12px;max-width:250px;flex:none;flex:initial}.fxc-section.fxc-smart-labels .fxc-section-control>.azc-form-labelcontainer,.fxc-section.fxc-smart-labels>.fxc-weave-pccontrol>.azc-form-labelcontainer,.fxc-section.fxc-smart-labels .fxc-section-control>.azc-formElementSubLabelContainer,.fxc-section.fxc-smart-labels>.fxc-weave-pccontrol>.azc-formElementSubLabelContainer{width:100%!important}.fxc-section-tab-item-icon{display:flex;flex:0 0 auto;height:10px;width:10px;margin-left:4px}.fxc-section-tab-item-icon:hover{cursor:pointer}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number{filter:grayscale(0%)}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-circle{fill:#fff;stroke-width:1px;stroke:#949494}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-text{fill:#949494}.fxs-theme-dark .fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-circle{fill:#0f0f0f;stroke-width:1px;stroke:#949494}.fxs-theme-dark .fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number .fxs-svg-text{fill:#949494}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-success circle{fill:#1a3300;stroke:#559e00}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-success text{fill:#57a300}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-error circle{fill:#61050c;stroke:#6d2929}.fxs-mode-dark .fxc-section-tab-item .fxs-svg-number-error text{fill:#ff5f7a}.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number-error circle,.fxs-portal .fxc-section-tab-item:not(.azc-br-active) .fxs-svg-number-success circle{fill:none}',moduleId:e.id}})),
define("FxInternal/WeaveControls/Section.Component.Internal",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/_generated/Less/WeaveControls/Section.Component.css"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SectionInner=function(e,t){var l=e.disabled;return t=e.children||t,n(r.Fragment,null,n(r.Css,{css:i}),(0,o.mapValueOrComputation)(e.name,s),n(r.GetContext,{fn:function(i){return n(r.SetContext,{labelPosition:!e.leftLabelPosition||e.leftLabelWidth||e.smartAlignLabel?a.Top:a.Left,leftLabelWidth:e.leftLabelWidth,disabled:(0,o.aggregateDisabled)([i.disabled,l]),tabIndex:(0,o.aggregateTabindex)([i.tabIndex],l)},(0,r.isComputation)(t)?n(r.ForEach,{collection:t,fn:function(e){return e.item}}):t)}}))};var a=MsPortalFx.ViewModels.Forms.LabelPosition;function s(e){return MsPortalFx.isNullOrUndefined(e)?null:n("div",{className:"fxc-section-legend azc-br-muted fxc-section-name"},e)}})),
define("FxInternal/Weave/Components/Section",["require","exports","Weave/SandboxMode","Weave","FxInternal/Weave/Util","FxInternal/WeaveControls/Section.Component.Internal","FxInternal/WeaveControls/ComponentHandleCore"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Section=void 0;t.Section=function(e,t){e||(e={children:t});var s=e.handle||(0,a.makeSimpleComponentHandle)(),l=["fxc-section","fxc-section-wrapper"];(e.leftLabelWidth||e.smartAlignLabel)&&l.push("msportalfx-form"),e.smartAlignLabel&&l.push("fxc-smart-labels");var u=(0,r.makeWritableComputation)(0),c=e.smartAlignLabel?u.compose((function(e){return e>480})):e.leftLabelWidth?o.trueComputation:o.falseComputation,d=n("div",{visible:e.visible,className:[l,{"msportalfx-form-regular":c,"fxc-left-label-fixed":c},e.className],style:{"min-height":e.minHeight?e.minHeight+"px":void 0},onResize:function(e){var t=e.width;u(t)}},(0,i.SectionInner)(e,t));return(0,a.wrapInsideAggregationNode)(d,s,e.visible)}})),
define("FxInternal/WeaveControls/Common",["require","exports","Weave/SandboxMode","FxInternal/Weave","FxInternal/Weave/Util","Weave"],(function(e,t,n,r,o,i){function a(e){return"function"==typeof e.triggerValidation}function s(e,t,n){return(e||t)&&n}function l(e,t){return e||!t}Object.defineProperty(t,"__esModule",{value:!0}),t.isControlVM=function(e){return e&&"object"==typeof e&&"number"==typeof e.controlType},t.patchFieldControlVM=function(e,t){t&&e&&(MsPortalFx.isNullOrUndefined(e.labelPosition)||ko.isWritableObservable(t.labelPosition)&&t.labelPosition(e.labelPosition),MsPortalFx.isNullOrUndefined(e.leftLabelWidth)||ko.isWritableObservable(t._msPortalFxLeftLabelWidth)&&t._msPortalFxLeftLabelWidth(e.leftLabelWidth))},t.tryWrapAggregationSourceForFieldControlVM=function(e,t){var u=e,c=u.dirty,d=u.valid,p=u._msPortalFxRequired,f=u.required,m=u.visible,h=ko.isObservable(m)?(0,r.toComputation)(m):o.trueComputation,v=ko.isObservable(c)?(0,i.composeComputation)([(0,r.toComputation)(c),h],o.and):null,g=ko.isObservable(d)?(0,i.composeComputation)([(0,r.toComputation)(d),h],l):null,y=ko.isObservable(p)||ko.isObservable(f)?(0,i.composeComputation)([ko.isObservable(p)?(0,r.toComputation)(p):o.falseComputation,ko.isObservable(f)?(0,r.toComputation)(f):o.falseComputation,h],s):null,b=a(e)?function(){return e.triggerValidation()}:null;return v||g||y||b?n(i.Aggregatable,{dirty:v,valid:g,required:y,validator:b},t):t},t.isControlValidatable=a,t.ensureInputBindingPair=function(e,t,n,r){var o,a;if(MsPortalFx.isNullOrUndefined(e)){var s=o=(0,i.makeWritableComputation)(t);a=function(e){s(r(e)),n&&n(e)}}else o=(0,i.ensureComputation)(e),a=n||MsPortalFx.noop;return{field:o,onFieldChange:a}}})),
define("ShellWorker/AssetTypeRequirements",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assetTypeMeetsRequirements=function(e,t){if(t){const n=!!e?.resourceType,r=e=>(t&e)===e;if(r(1)){const t=e.browseType;if(void 0===t)return!1;if(r(5)&&(1!==t||!n))return!1;if(r(9)&&(3!==t||!e.browseLinkUri||r(25)&&3!==t))return!1}if(r(2)&&!n)return!1}return!0}})),
define("ShellWorker/AssetTypes",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushAssetTypesEndPoint=void 0,t.pushAssetTypesEndPoint=new n.ActionEndPointDefinition("pushAssetTypes")})),
define("ShellWorker/AuthorizationState",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthorizationTokenForShellWorkerEndPoint=t.pushShellAuthTokensEndPoint=void 0,t.pushShellAuthTokensEndPoint=new n.ActionEndPointDefinition("pushShellAuthTokens"),t.getAuthorizationTokenForShellWorkerEndPoint=new n.FuncEndPointDefinition("getAuthorizationTokenForShellWorker")})),
define("ShellWorker/Browse",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushBrowseMetadataEndPoint=void 0,t.pushBrowseMetadataEndPoint=new n.ActionEndPointDefinition("pushBrowseMetadata")})),
define("ShellWorker/DiagnosticsUpload",["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),
define("ShellWorker/ExtensionManager",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setRequestedBladeEndPoint=t.onExtensionStateChangeEndPoint=void 0,t.onExtensionStateChangeEndPoint=new n.ActionEndPointDefinition("onExtensionStateChange"),t.setRequestedBladeEndPoint=new n.ActionEndPointDefinition("setRequestedBlade")})),
define("ShellWorker/ExtensionWorkerPrewarmer",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.onGetWorkerCalledEndPoint=t.terminateWorkerEndPoint=t.onWorkerBootCompleteEndPoint=t.pushNewWorkerEndPoint=void 0,t.pushNewWorkerEndPoint=new n.ActionEndPointDefinition("pushWorker"),t.onWorkerBootCompleteEndPoint=new n.ActionEndPointDefinition("onWorkerError"),t.terminateWorkerEndPoint=new n.ActionEndPointDefinition("terminateWorker"),t.onGetWorkerCalledEndPoint=new n.ActionEndPointDefinition("onGetWorkerCalled")})),
define("ShellWorker/FeatureCards",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushFeatureCardsEndPoint=void 0,t.pushFeatureCardsEndPoint=new n.ActionEndPointDefinition("pushFeatureCards")})),
define("ShellWorker/GlobalResourceFilters",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushActiveGlobalResourceFilterEndPoint=void 0,t.pushActiveGlobalResourceFilterEndPoint=new n.ActionEndPointDefinition("pushActiveGlobalResourceFilter")})),
define("ShellWorker/IFrameExtensionLoader",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.disposeExtensionIFrameEndPoint=t.loadExtensionInIFrameEndPoint=void 0,t.loadExtensionInIFrameEndPoint=new n.FuncEndPointDefinition("loadExtensionInIFrame"),t.disposeExtensionIFrameEndPoint=new n.ActionEndPointDefinition("disposeExtensionIFrame")})),
define("ShellWorker/Locations",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushLocationsEndPoint=void 0,t.pushLocationsEndPoint=new n.ActionEndPointDefinition("pushLocations")})),
define("ShellWorker/PreloadData",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushPreloadDataEndPoint=void 0,t.pushPreloadDataEndPoint=new n.ActionEndPointDefinition("pushPreloadData")})),
define("ShellWorker/Subscriptions",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushGlobalFilterSubscriptionsEndpoint=t.pushSubscriptionsCountEndpoint=t.pushStartupSubscriptionsEndpoint=t.pushSelectedSubscriptionsEndpoint=void 0,t.pushSelectedSubscriptionsEndpoint=new n.ActionEndPointDefinition("pushSelectedSubscriptions"),t.pushStartupSubscriptionsEndpoint=new n.ActionEndPointDefinition("pushStartupSubscriptions"),t.pushSubscriptionsCountEndpoint=new n.ActionEndPointDefinition("pushSubscriptionsCount"),t.pushGlobalFilterSubscriptionsEndpoint=new n.ActionEndPointDefinition("pushGlobalFilterSubscriptions")})),
define("ShellWorker/UserInfo",["require","exports","FxInternal/Rpc"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pushUserInfoEndpoint=void 0,t.pushUserInfoEndpoint=new n.ActionEndPointDefinition("pushUserInfo")})),
define("ShellWorkerImpl/AssetTypes",["require","exports","Fx/DependencyInjectionCore","ShellWorker/AssetTypes","FxHubs/RpcEndPointsCore","FxInternal/AsyncLoaderCore","Fx/Experimentation"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getSingleAssetTypeInformationEndPointHandler=t.getAssetMarketplaceExtractEndpointHandler=t.getAssetTypesInformationEndPointHandler=t.pushAssetTypesEndPointHandler=t.AssetTypes=void 0;const{getAssetMarketplaceExtractsEndpoint:s,getAssetTypesInformationEndPoint:l,getSingleAssetTypeInformationEndPoint:u}=o.AssetTypes;let c=class{async getAssetMarketplaceExtracts(e){const{marketplaceExtracts:t,duplicateClaimsMap:n}=await this.assetTypeMarketplaceExtracts,r={};for(const t of e)n[t]&&(r[t]=n[t]);return{marketplaceExtracts:t,duplicateClaimsMap:r}}constructor(){this.resolveAssetTypes=Promise.withResolvers(),this.assetTypeMarketplaceExtracts=this.resolveAssetTypes.promise.then((e=>{const t=[],n={},r=(e,t,r)=>{const{extensionName:o}=r[e];for(const r of t){const t=n[r]=n[r]||{};t[o]||(t[o]=e)}};for(const{assetType:n,noPdlCreateBlade:i,noPdlCreateExtension:a,noPdlCreateParameters:s,extensionName:l,claimedMarketplaceIds:u,kindMap:c}of e){if(i){const e={assetType:n,extensionName:l,noPdlCreateBlade:i,noPdlCreateExtension:a||l,noPdlCreateParameters:s,claimedMarketplaceIds:u};t.push(e),u&&r(t.length-1,u,t)}if(c)for(const[e,i]of(o=c,Object.entries(o)))if(i.noPdlCreateBlade){const o={assetKind:e,assetType:n,extensionName:l,noPdlCreateBlade:i.noPdlCreateBlade,noPdlCreateExtension:i.noPdlCreateExtension||l,noPdlCreateParameters:i.noPdlCreateParameters,claimedMarketplaceIds:i.claimedMarketplaceIds};t.push(o),i.claimedMarketplaceIds&&r(t.length-1,i.claimedMarketplaceIds,t)}}var o;return{marketplaceExtracts:t,duplicateClaimsMap:n}})),this.getAssetTypesInformation=()=>this.resolveAssetTypes.promise;const e=this.resolveAssetTypes.promise.then((e=>e.reduce(((e,r)=>(e[t(r)]=e[n(r)]=r,e)),{})));function t(e){return"resourceType:"+e.lowerCaseResourceType}function n(e){return"assetType:"+e.lowerCaseExtension+e.lowerCaseAssetType}this.getSingleAssetTypeInformation=async(r,o)=>{const i=await e,a=r.lowerCaseResourceType;let s=i[a?t(r):n(r)];return!s&&a&&o.getBooleanValue("parseextensiontypes")&&(s=Object.values(i).find((e=>e.lowerCaseResourceType&&a.endsWith(e.lowerCaseResourceType)))),(l=s)&&{...l};var l}}};t.AssetTypes=c,t.AssetTypes=c=__decorate([__metadata("fx:diagnostics",[e,"AssetTypes"]),n.Class(),__metadata("design:paramtypes",[])],c),t.pushAssetTypesEndPointHandler=(0,i.defineHandler)(r.pushAssetTypesEndPoint,(({diContainer:e,messageArg:t})=>{e.get(c).resolveAssetTypes.resolve(t)})),t.getAssetTypesInformationEndPointHandler=(0,i.defineHandler)(l,(({diContainer:e})=>e.get(c).getAssetTypesInformation().then((e=>e?.slice())))),t.getAssetMarketplaceExtractEndpointHandler=(0,i.defineHandler)(s,(({diContainer:e,messageArg:t})=>e.get(c).getAssetMarketplaceExtracts(t))),t.getSingleAssetTypeInformationEndPointHandler=(0,i.defineHandler)(u,(({diContainer:e,messageArg:t})=>e.get(c).getSingleAssetTypeInformation(t,e.get(a.Experimentation).shellAssignments)))})),
define("ShellWorkerImpl/BrowseMetadataProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/Browse","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pushBrowseMetadataEndPointHandler=t.BrowseMetadataProvider=void 0;let i=class{constructor(){const e=new Promise((e=>{this.resolveBrowseMetadata=e}));this.getBrowseMetadata=()=>e}};t.BrowseMetadataProvider=i,t.BrowseMetadataProvider=i=__decorate([__metadata("fx:diagnostics",[e,"BrowseMetadataProvider"]),n.Class(),__metadata("design:paramtypes",[])],i),t.pushBrowseMetadataEndPointHandler=(0,o.defineHandler)(r.pushBrowseMetadataEndPoint,(({diContainer:e,messageArg:t})=>{e.get(i).resolveBrowseMetadata(t)}))})),
define("ShellWorkerImpl/BrowseColumnsProvider",["require","exports","Fx/DependencyInjectionCore","FxHubs/RpcEndPointsCore","ShellWorkerImpl/BrowseMetadataProvider","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.onBrowseColumnsUpdatedEndPointHandler=t.BrowseColumnsProvider=void 0;let a=class{constructor(e){let t,n=e.getBrowseMetadata().then((({columns:e})=>{t=e}));this.onBrowseColumnsUpdated=({store:e,columns:r})=>{const o=e;n=n.then((()=>{t[o]=r}))},this.getBrowseColumns=()=>n.then((()=>t))}};t.BrowseColumnsProvider=a,t.BrowseColumnsProvider=a=__decorate([__metadata("fx:diagnostics",[e,"BrowseColumnsProvider"]),n.Class(),__metadata("design:paramtypes",[o.BrowseMetadataProvider])],a),t.onBrowseColumnsUpdatedEndPointHandler=(0,i.defineHandler)(r.Browse.onBrowseColumnsUpdatedEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onBrowseColumnsUpdated(t)}))})),
define("ShellWorkerImpl/BrowseFavoriteViewIdProvider",["require","exports","Fx/DependencyInjectionCore","FxHubs/RpcEndPointsCore","ShellWorkerImpl/BrowseMetadataProvider","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.onBrowseFavoriteViewIdUpdatedEndPointHandler=t.BrowseFavoriteViewIdProvider=void 0;let a=class{constructor(e){let t,n=e.getBrowseMetadata().then((({favoriteViewIds:e})=>{t=e}));this.onBrowseFavoriteViewIdUpdated=({resourceTypeKey:e,favoriteViewId:r})=>{n=n.then((()=>{t=t||Object.create(null),t[e]=r}))},this.getBrowseFavoriteViewId=e=>n.then((()=>t&&t[e]))}};t.BrowseFavoriteViewIdProvider=a,t.BrowseFavoriteViewIdProvider=a=__decorate([__metadata("fx:diagnostics",[e,"BrowseFavoriteViewIdProvider"]),n.Class(),__metadata("design:paramtypes",[o.BrowseMetadataProvider])],a),t.onBrowseFavoriteViewIdUpdatedEndPointHandler=(0,i.defineHandler)(r.Browse.onBrowseFavoriteViewIdUpdatedEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onBrowseFavoriteViewIdUpdated(t)}))})),
define("ShellWorkerImpl/Core/ExtensionManagerOptions",["require","exports","Fx/DependencyInjectionCore"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionManagerOptions=void 0;let r=class{constructor(e,t,n,r,o){this.extensions=e,this.manifests=t,this.loadTypes=n,this.extensionRedirectMap=r,this.blockedHosts=o}};t.ExtensionManagerOptions=r,t.ExtensionManagerOptions=r=__decorate([__metadata("fx:diagnostics",[e,"ExtensionManagerOptions"]),n.Value(),__metadata("design:paramtypes",[Object,Object,Object,Object,Array])],r)})),
define("ShellWorkerImpl/BrowseManifestsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxHubs/RpcEndPointsCore","Fx/Diagnostics","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/BrowseMetadataProvider"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowseManifestsProvider=void 0;const l=window;let u=class{constructor(t,n,r,i){const a=n.createLog(e),s=i.getBrowseMetadata(),u=(async()=>{const{browseManifestsUri:e}=await s;try{const t=await l.fetch(e);if(!t.ok){const e=new Error(t.statusText);throw e.response=t,e}const n=await t.json();return n?.manifest||{}}catch(e){throw a.error("Fetch of browse manifests failed",0,e),e}})();this.getBrowseManifests=async e=>{if(r.extensions[e].isSideloaded)return o.Browse.getBrowseManifestsEndpoint.invoke(t,"fx",{extension:e});{const t=await u;return t?.[e]?.assetTypesBrowse?.slice(0)}}}};t.BrowseManifestsProvider=u,t.BrowseManifestsProvider=u=__decorate([__metadata("fx:diagnostics",[e,"BrowseManifestsProvider"]),n.Class(),__metadata("design:paramtypes",[r.Client,i.Logging,a.ExtensionManagerOptions,s.BrowseMetadataProvider])],u)})),
define("ShellWorkerImpl/FeatureCards",["require","exports","Fx/DependencyInjectionCore","ShellWorker/FeatureCards","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pushFeatureCardsEndPointHandler=t.FeatureCards=void 0;let i=class{constructor(){const e=new Promise((e=>{this.resolveFeatureCards=e}));this.getFeatureCards=async t=>(await e).get(t)}};t.FeatureCards=i,t.FeatureCards=i=__decorate([__metadata("fx:diagnostics",[e,"FeatureCards"]),n.Class(),__metadata("design:paramtypes",[])],i),t.pushFeatureCardsEndPointHandler=(0,o.defineHandler)(r.pushFeatureCardsEndPoint,(({diContainer:e,messageArg:t})=>{const n=new a((e=>(e||"").toLowerCase()));Object.keys(t).forEach((e=>n.set(e,t[e]))),e.get(i).resolveFeatureCards(n)}));class a{constructor(e){this._map=new Map,this._key=e}clear(){this._map.clear()}delete(e){return this._map.delete(this._key(e))}forEach(e,t){this._map.forEach(((n,r,o)=>{e.call(t,n,r,this)}),t)}get(e){return this._map.get(this._key(e))}has(e){return this._map.has(this._key(e))}set(e,t){return this._map.set(this._key(e),t),this}}})),
define("ShellWorkerImpl/LocationsProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/Locations","FxInternal/ResourceManagement/LocationsCore","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getLocationDisplayNamesEndPointHandler=t.pushLocationsEndPointHandler=t.LocationsProvider=void 0;let a=class{constructor(){const e=new Promise((e=>{this.resolveLocations=e}));this.getLocations=()=>e;const t=e.then((e=>Object.keys(e).reduce(((t,n)=>(t[n]=e[n].displayName,t)),{})));this.getLocationDisplayNames=()=>t}};t.LocationsProvider=a,t.LocationsProvider=a=__decorate([__metadata("fx:diagnostics",[e,"LocationsProvider"]),n.Class(),__metadata("design:paramtypes",[])],a),t.pushLocationsEndPointHandler=(0,i.defineHandler)(r.pushLocationsEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).resolveLocations(t)})),t.getLocationDisplayNamesEndPointHandler=(0,i.defineHandler)(o.getLocationDisplayNamesEndPoint,(({diContainer:e})=>e.get(a).getLocationDisplayNames().then((e=>({...e})))))})),
define("ShellWorkerImpl/BrowsePrereqsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxHubs/RpcEndPointsCore","ShellWorkerImpl/AssetTypes","ShellWorkerImpl/FeatureCards","FxInternal","ShellWorker/AssetTypeRequirements","ShellWorkerImpl/BrowseColumnsProvider","ShellWorkerImpl/BrowseFavoriteViewIdProvider","ShellWorkerImpl/BrowseManifestsProvider","ShellWorkerImpl/LocationsProvider","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowseManifestsForResourceTypesEndpointHandler=t.getBrowsePrereqsEndpointHandler=t.BrowsePrereqsProvider=void 0;var m=o.Browse.getBrowsePrereqsEndpoint,h=o.Browse.getBrowseManifestsForResourceTypesEndpoint;const v={bladeName:"ResourceMenuBlade",extensionName:"HubsExtension"},g={partName:"ResourcePropertiesPinnedPart",extensionName:"HubsExtension"};let y=class{constructor(e,t,n,r,i,a,u,c){const d=t.getAssetTypesInformation().then((e=>{const t={};return e.forEach((e=>{let n;const r=e.bladeName;let o;n=!b(e.contracts,8)&&r?{bladeName:r,extensionName:e.bladeExtensionName||e.extensionName}:v,o=e.partName?{partName:e.partName,extensionName:e.partExtensionName||e.extensionName}:g;const i=e.kinds||[],a=Object.create(null);let s;i.length&&i.forEach((t=>{let r,i;r=t.useResourceMenu?v:t.bladeName?{bladeName:t.bladeName,extensionName:t.bladeExtensionName||e.extensionName}:n,i=t.partName?{partName:t.partName,extensionName:t.partExtensionName||e.extensionName}:o;const l={displayName:{plural:t.pluralDisplayName,singular:t.singularDisplayName,lowerPlural:t.lowerPluralDisplayName,lowerSingular:t.lowerSingularDisplayName},description:e.description,icon:t.icon,bladeDetails:r,partDetails:i,kinds:t.kinds||[],options:t.options,isPreview:t.isPreview};a[(t.name||"").toLowerCase()]=l,t.isDefault&&(s=l)})),t[(e.resourceType||"").toLowerCase()]={assetId:`${e.lowerCaseExtension}_${e.lowerCaseAssetType}`,browseOption:e.argBrowseOption,armBrowseOption:e.armBrowseOption,icon:e.icon,displayName:e.compositeDisplayName,description:e.description,bladeDetails:n,partDetails:o,kindMap:a,defaultKind:s,contracts:e.contracts,options:e.options,isPreview:e.isPreview,isDisabled:e.isDisabled,browseType:e.browseType,noPdlCreateBlade:e.noPdlCreateBlade,noPdlCreateExtension:e.noPdlCreateExtension,noPdlCreateParameters:e.noPdlCreateParameters,claimedMarketplaceIds:e.claimedMarketplaceIds,marketplaceItemId:e.marketplaceItemId,marketplaceMenuItemId:e.marketplaceMenuItemId,links:e.links,hiddenCommands:e.hiddenCommands,browseCommandExperiments:e.browseCommandExperiments,extensibleCommandsApiVersions:e.extensibleCommandsApiVersions,routingType:e.routingType,topLevelResourceTypeAlias:e.topLevelResourceTypeAlias,apiVersion:e.apiVersion,proxyRoutingFilters:e.proxyRoutingFilters,topLevelTenantAlias:e.topLevelTenantAlias}})),t})),p=e=>e?t.getAssetTypesInformation().then((t=>{const n=e?.toLowerCase()||"";return r=t,o=e=>e.lowerCaseResourceType===n,(0,s.find)(r,o,-1);var r,o})):Promise.resolve(null);this.getQueryManifest=e=>p(e).then((e=>{if(e){const t=e.variant?.toLowerCase(),n=e.lowerCaseAssetType,r=t&&n+"/variant:"+t||n;return i.getBrowseManifests(e.extensionName).then((o=>{const i=(o||[]).filter((e=>e.name.toLowerCase()===r));0===i.length&&t&&i.push(...(o||[]).filter((e=>e.name.toLowerCase()===n)));const a=c.isEnabled("argbrowseedgezones"),u=a?"id,name,type,location,subscriptionId,resourceGroup,kind,tags,extendedLocation":"id,name,type,location,subscriptionId,resourceGroup,kind,tags",d=`where type =~ '${e.lowerCaseResourceType}'|project [FxColumns]`,p=e=>{const t=e.browseQuery.split("|"),n=t.map((e=>e.trim())),r=n[n.length-1];return r.startsWith("project ")&&r.includes("[FxColumns]")&&(e.edgeZonesSupported=a,t[t.length-1]=t[t.length-1].replace("[FxColumns]",u),e.browseQuery=t.join("|")),e};if(i.length){let t=i[0];if(e.showArgColumns){const n=e=>("string"==typeof e?e.toLowerCase():e).toString(),r=[...Array(13)].map(((e,t)=>(t+1).toString()));if(t.columns=t.columns?.filter((t=>{const o=n(t.name);return r.includes(o)||!1!==e.showArgColumns[o]})),t.defaultColumns=t.defaultColumns?.filter((t=>{const o=n(t);return r.includes(o)||!1!==e.showArgColumns[o]})),t.statusColumn){const o=n(t.statusColumn);t.statusColumn=(r.includes(o)||!1!==e.showArgColumns[o])&&t.statusColumn}t.defaultFilters=t.defaultFilters?.filter((t=>{const o=n(t);return r.includes(o)||!1!==e.showArgColumns[o]}))}return e.featureCardOptions&&(t={...t,featureCards:[...e.featureCardOptions]}),t.browseQuery||(t=(0,s.extend2)({browseQuery:d},t)),p(t)}if(e.resourceType){if(e.argBrowseOption&&4!==e.argBrowseOption)return p({name:e.assetType,browseQuery:d,defaultColumns:null,columns:null});if(!b(e.contracts,2)&&(0,l.assetTypeMeetsRequirements)(e,5))return p({name:e.assetType,browseQuery:d,defaultColumns:null,columns:null})}}))}return Promise.resolve(null)})),this.getBrowsePrereqs=t=>{const{includeColumnsVersion:i,includeFavoriteViewId:s,resourceType:l,resourceTypeKey:c}=t,p=u.getLocations(),f=(l||"").toLowerCase(),m=i?n.getBrowseColumns().then((e=>e?.[i>1?15:6]||{})):Promise.resolve(null),h=s?r.getBrowseFavoriteViewId((c||l||"").toLowerCase()).then((e=>e||"_default_")):Promise.resolve(void 0);let v;switch(f){case"microsoft.resources/resources":case"microsoft.resources/resourceswithtag":v=Promise.resolve({});break;default:v=this.getQueryManifest(l)}const g=a.getFeatureCards(f);return Promise.all([p,d,v,m,h,g]).then((([t,n,r,i,a,s])=>(r?.columns?.some((e=>7===e.format))?o.Impl.getDirectoriesMap(e):Promise.resolve(null)).then((e=>({browseQueryManifest:r,locations:t,assetTypes:n,columnSettings:i,directoriesMap:e,favoriteViewId:a,featureCards:s})))))},this.getBrowseManifests=e=>{const t=e.map((e=>this.getQueryManifest(e).then((t=>({resourceType:e,manifest:t})))));return Promise.all(t).then((e=>{const t={};return e.forEach((e=>t[e.resourceType]=e.manifest)),t}))}}};function b(e,t){return(e&t)===t}t.BrowsePrereqsProvider=y,t.BrowsePrereqsProvider=y=__decorate([__metadata("fx:diagnostics",[e,"BrowsePrereqsProvider"]),n.Class(),__metadata("design:paramtypes",[r.Client,i.AssetTypes,u.BrowseColumnsProvider,c.BrowseFavoriteViewIdProvider,d.BrowseManifestsProvider,a.FeatureCards,p.LocationsProvider,FxImpl.Features])],y),t.getBrowsePrereqsEndpointHandler=(0,f.defineHandler)(m,(({diContainer:e,messageArg:t})=>e.get(y).getBrowsePrereqs(t))),t.getBrowseManifestsForResourceTypesEndpointHandler=(0,f.defineHandler)(h,(({diContainer:e,messageArg:t})=>e.get(y).getBrowseManifests(t)))})),
define("ShellWorkerImpl/Core/AuthorizationState",["require","exports","Fx/DependencyInjectionCore","ShellWorker/AuthorizationState","FxInternal/AsyncLoaderCore","FxInternal/Rpc"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.pushShellAuthTokensEndPointHandler=t.AuthorizationState=void 0;let a=class{constructor({extensionTokens:e,portalToken:t,userObjectId:n,isWritesDisallowedTenant:r},o){this._rpcClient=o,this._extensionTokens=e,this._portalToken=t,this.userObjectId=n,this.isWritesDisallowedTenant=r,this.onAuthTokensChange=({extensionTokens:e,portalToken:t})=>{this._extensionTokens=e,this._portalToken=t}}async tryGetValidToken(e,t){const n=Date.now(),o="fx"===e&&""===t;let i;if(o)i=this._portalToken;else{const n=this._extensionTokens[e];i=n?n[t]:null}if(i){const a=i.expiresAt;if(a>0&&a-n<6e5){const n=await r.getAuthorizationTokenForShellWorkerEndPoint.invoke(this._rpcClient,"fx",{extensionName:e,resourceName:t});return n&&(o?this._portalToken=n:(this._extensionTokens[e]||(this._extensionTokens[e]={}),this._extensionTokens[e][t]=n)),n}return i}}getUnvalidatedExtensionTokens(){return this._extensionTokens}getUnvalidatedPortalToken(){return this._portalToken}};t.AuthorizationState=a,t.AuthorizationState=a=__decorate([__metadata("fx:diagnostics",[e,"AuthorizationState"]),n.Value(),__metadata("design:paramtypes",[Object,i.Client])],a),t.pushShellAuthTokensEndPointHandler=(0,o.defineHandler)(r.pushShellAuthTokensEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onAuthTokensChange(t)}))})),
define("ShellWorkerImpl/Core/CopilotFxRequireConfigSource",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal/RpcEndPointsCore","ShellWorkerImpl/Core/ExtensionManagerOptions","FxInternal/AsyncLoaderCore","FxInternal/Experimentation"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.getRequireConfigHandler=t.CopilotFxRequireConfigSource=void 0;let l=class{constructor(e,t,n){const{extensions:r}=e;if(r.Microsoft_Azure_Copilot||r.Microsoft_Entra_Copilot){let e;this.getRequireConfig=r=>{e||(e=Promise.all([n.shellAssignments.whenAvailable(),o.isCopilotEnabledEndpoint.invoke(t,"fx"),o.getCopilotConfigurationEndpoint.invoke(t,"fx")]).then((([e,n,{enabled:r,extension:i,packagesPrefix:a}])=>{if(e.getBooleanValue("useCopilotDomainConfig")){if(r)return o.getFederatedModulesRequireConfigEndpoint.invoke(t,"fxw",{extensionName:i,modulePrefix:a}).catch((()=>null))}else if(n)return o.getFederatedModulesRequireConfigEndpoint.invoke(t,"fxw",{extensionName:"Microsoft_Azure_Copilot",modulePrefix:""}).catch((()=>null));return Promise.resolve(null)})));return!["Microsoft_Azure_Copilot","Microsoft_Entra_Copilot","HubsExtension"].includes(r)?e:Promise.resolve(null)}}else this.getRequireConfig=()=>Promise.resolve(null)}};t.CopilotFxRequireConfigSource=l,t.CopilotFxRequireConfigSource=l=__decorate([__metadata("fx:diagnostics",[e,"CopilotFxRequireConfigSource"]),n.Class(),__metadata("design:paramtypes",[i.ExtensionManagerOptions,r.Client,s.ExperimentationManager])],l),t.getRequireConfigHandler=(0,a.defineHandler)(o.getCopilotFxRequireConfigEndPoint,(async({diContainer:e,messageArg:t})=>e.get(l).getRequireConfig(t).then((e=>e&&{...e}))))})),
define("ShellWorkerImpl/Core/Diagnostics",["require","exports","Fx/DependencyInjectionCore","Fx/Diagnostics","FxInternal","FxInternal/Diagnostics"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Logging=t.Telemetry=void 0;let a=class{constructor(e){this.trace=t=>{e({telemetryEvent:(0,o.extend2)(t,{})})},this.flush=()=>{e({flush:1})}}};t.Telemetry=a,t.Telemetry=a=__decorate([__metadata("fx:diagnostics",[e,"Telemetry"]),n.Value(),__metadata("design:paramtypes",[Function])],a);class s extends r.Logging{constructor(e){super(),this.writeEntry=(t,n,r,o,a)=>{e({logEntry:{level:t,area:n,message:"object"==typeof r?(0,i.decycle)(r):r,code:o,args:a&&a.map((e=>"object"==typeof e?(0,i.decycle)(e):e))}})},this.flush=()=>{e({flush:2})}}disable(){throw new Error("Not reached")}}t.Logging=s})),
define("ShellWorkerImpl/Core/Environment",["require","exports","Fx/DependencyInjectionCore"],(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;let r=class{};t.Environment=r,t.Environment=r=__decorate([__metadata("fx:diagnostics",[e,"Environment"]),n.Value()],r)})),
define("ShellWorkerImpl/Core/ExtensionWorkerPrewarmer",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal","ShellWorker/ExtensionWorkerPrewarmer","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.onWorkerBootCompleteEndPointHandler=t.pushNewWorkerEndPointHandler=t.PrewarmerImpl=t.Prewarmer=void 0;class s{static create(e){return new l(e)}}t.Prewarmer=s,__decorate([__metadata("fx:diagnostics",[e,"Prewarmer"]),n.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[r.Client]),__metadata("design:returntype",s)],s,"create",null);class l{constructor(e,t){this._rpcClient=e,this._pool=[],this._pending=[],this._readying=Object.create(null),this.pushNewWorker=({portId:t,workerId:n})=>{const r={workerId:n,bootstrapPort:e.detachPort("fx",t),terminate:()=>{delete this._readying[n],i.terminateWorkerEndPoint.invoke(e,"fx",{workerId:n})}};let o;this._pending.length?this._pending.pop()(r):this._pool.push(r);const a=new Promise((e=>{o=e}));this._readying[n]={resolveOnFailed:o,onFailedPromise:a}},this.onWorkerBootComplete=({workerId:e,error:n})=>{t?.(e,n);let r=Promise.resolve();if(n){const t=(0,o.findIndex)(this._pool,(({workerId:t})=>e===t));t>=0&&(this._pool.splice(t,1),i.onGetWorkerCalledEndPoint.invoke(this._rpcClient,"fx"));const a=this._readying[e]?.onFailedPromise;a&&(a.then((e=>{e(n)})),r=a)}r.then((()=>{delete this._readying[e]}))}}getWorker(e){i.onGetWorkerCalledEndPoint.invoke(this._rpcClient,"fx");const t=this._pool.length?Promise.resolve(this._pool.pop()):new Promise((e=>{this._pending.push(e)}));return t.then((({workerId:t})=>{this._readying[t]?.resolveOnFailed(e)})),t}}t.PrewarmerImpl=l,t.pushNewWorkerEndPointHandler=(0,a.defineHandler)(i.pushNewWorkerEndPoint,(({diContainer:e,messageArg:t})=>{e.get(s).pushNewWorker(t)})),t.onWorkerBootCompleteEndPointHandler=(0,a.defineHandler)(i.onWorkerBootCompleteEndPoint,(({diContainer:e,messageArg:t})=>{e.get(s).onWorkerBootComplete(t)}))})),
define("ShellWorkerImpl/Core/IFrameExtensionLoader",["require","exports","ShellWorker/IFrameExtensionLoader","FxInternal"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.loadInIFrame=void 0,t.loadInIFrame=(()=>{let e=0;return(t,o)=>{const i=e++,a=t.acquireWindow("fx",0,o.port);let s=()=>{a.dispose()};return n.loadExtensionInIFrameEndPoint.invoke(t,"fx",{...o,iframeId:i,portId:a.value}).then((e=>(0,r.extend)(e,{cleanup:()=>{s&&(s(),s=null,n.disposeExtensionIFrameEndPoint.invoke(t,"fx",{iframeId:i}))}})))}})()})),
define("ShellWorkerImpl/Core/ExtensionLoader",["require","exports","Fx/DependencyInjectionCore","FxInternal","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/Core/ExtensionWorkerPrewarmer","ShellWorkerImpl/Core/Environment","ShellWorkerImpl/Core/Diagnostics","FxInternal/Features","ShellWorkerImpl/Core/IFrameExtensionLoader","FxInternal/Rpc","FxInternal/Lifetime","FxInternal/Experimentation","ShellWorkerImpl/Core/CopilotFxRequireConfigSource"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionLoaderImpl=t.ExtensionLoaderFactory=void 0,t.coerceUri=v,t.parseUri=g,t.createUri=b,t.isHttpError=function(e){return e&&"status"in e};const m=self,h=m.fx.getTimestamp;function v(e,t){return/^\w+:\/\//.test(e)?e:e.indexOf("//")?e.startsWith("/")?t.origin+e:t.origin+t.pathname+e:t.protocol+e}function g(e,t){const n=document.createElement("a");n.href=e;const r=n.href;let o=r.indexOf("//");o=-1===o?0:o;const i=o>0?r.substring(0,o):t,a=r.indexOf("/",o+2),s=-1===a?r.indexOf("?"):a;return{origin:i+"//"+r.substring(o+2,-1===s?void 0:s),protocol:i,href:r}}function y(e,t,n,r,o){const i=e.metadata;return{environment:o,extensionName:i.name,extensionRedirectMap:e.extensionRedirectMap,hostingServiceBaseDomains:i.baseDomains,href:n.href,instanceIndex:e.loadContext.instanceIndex,origin:n.origin,protocol:n.protocol,shellVariants:e.shellVariants,stamp:i.stamp||"",thirdPartyExtension:!!(16&i.flags),tokens:e.loadContext.tokens,usePortalArmToken:!!(8&i.flags),userObjectId:e.loadContext.userObjectId,userQuery:e.environment.userQuery,isWriteDisallowedTenant:e.loadContext.isWritesDisallowedTenant,blockedHosts:r,copilotFxRequireConfig:t}}function b(e,t){const n=e.metadata,r=n.name,o=v(t?n.homePageUri:n.prewarmUri,e.environment.location),i="HubsExtension"===r?MsPortalFx.getEnvironmentValue("pageVersion"):e.manifest.pageVersion,a=[],s=o.indexOf("?"),l=-1===s?o:o.slice(0,s);s>=0&&o.slice(s+1).split("&").forEach((e=>{const t=e.split("=");a.push([t[0],t[1]])}));const u=["bundlingKind","cacheVersion"],{features:c}=e;return"HubsExtension"===n.name&&u.push("configHash"),u.forEach((e=>{a.push([e,c.getValue(r+"_"+e)||c.getValue(e)])})),a.push(["clientOptimizations",e.clientOptimizations],["pageVersion",i],["l",e.environment.displayLanguage],["trustedAuthority",e.environment.location.host],["extensionName",r],["cacheability","3"]),e.reloadCount&&a.push(["retryAttempt",e.reloadCount],["sessionId",e.environment.sessionId]),t||a.push(["environmentjson",!0]),l+(((d=(d=a).filter((e=>void 0!==e[1]))).length?"?":"")+d.map((e=>e.map(encodeURIComponent).join("="))).sort().join("&"));var d}let x=class{constructor(e,t,n,r,o,i,a,s){this.create=l=>{const{extensions:u,manifests:c,loadTypes:d,extensionRedirectMap:p,blockedHosts:f}=e;return new C({extensionRedirectMap:p},u[l],c[l],d[l],t,n,r,o,i,f,a,s)}}};t.ExtensionLoaderFactory=x,t.ExtensionLoaderFactory=x=__decorate([__metadata("fx:diagnostics",[e,"ExtensionLoaderFactory"]),n.Class(),__metadata("design:paramtypes",[o.ExtensionManagerOptions,i.Prewarmer,a.Environment,l.Features,s.Telemetry,c.Client,p.ExperimentationManager,f.CopilotFxRequireConfigSource])],x);class C{constructor(e,t,n,r,o,i,a,s,l,u,c,d){this._options=e,this._metadata=t,this._manifest=n,this._loadType=r,this._prewarmer=o,this._environment=i,this._features=a,this._telemetry=s,this._rpcClient=l,this._blockedHosts=u,this._experimentation=c,this._copilotFxRequireConfigSource=d,this.telemetry=[]}async loadExtension(e){if(this._currentContext)throw new Error(`Extension ${this._metadata.name} is already loading.`);const t=Promise.withResolvers(),n=this._features,r=n.isEnabled("nativeperf")&&m.performance,o=3!==this._loadType&&(await this._experimentation.shellAssignments.whenAvailable()).data,i=()=>{const a=this.telemetry.length,s=this._metadata.name+"_ExtensionLoad";if(a>2){const e={reloadCount:a,timestamp:h(),type:"TooManyRefreshes"};return void t.reject(e)}const l={clientOptimizations:e.clientOptimizations,extensionRedirectMap:this._options.extensionRedirectMap,loadContext:e,manifest:this._manifest,metadata:this._metadata,reloadCount:a,environment:this._environment,features:n,shellVariants:o,telemetry:this._telemetry,errorHandler:e.errorHandler,blockedHosts:this._blockedHosts,copilotFxRequireConfig:this._copilotFxRequireConfigSource.getRequireConfig(this._metadata.name)};let u;switch(this._loadType){case 1:case 2:u=new _(l,this._prewarmer);break;case 0:u=new w(l,this._rpcClient);break;case 3:return void t.resolve({rpcPort:(new MessageChannel).port1,loadEndTime:h()})}this._currentContext=u,this.telemetry.push(u.telemetry);const c=t=>{clearTimeout(d),u.cleanUp(),this._currentContext===u&&(e.errorHandler(t),this._currentContext=null,2===this._loadType&&console.error("Failed to load as prewarmed extension: "+this._metadata.name),i())};u.load().then((e=>{clearTimeout(d),r&&(r.mark(s+"End"),r.measure(s,s+"Start",s+"End")),this._currentContext===u&&t.resolve(e)}),c),r&&r.mark(s+"Start");const d=setTimeout((()=>{c({timestamp:h(),type:"InitializationTimeout"})}),e.loadTimeout)};return i(),t.promise}unloadExtension(){this._currentContext&&this._currentContext.cleanUp(),this._currentContext=null,this.telemetry=[]}}t.ExtensionLoaderImpl=C;class _{constructor(e,t){this.telemetry={messageReceivedTimes:{}},this._lifetime=new d.TriggerableLifetimeManager;const{environment:{location:n},telemetry:r,blockedHosts:o}=e,i=g(v(e.metadata.homePageUri,n),n.protocol);this._uri=this.telemetry.uriUsed=b(e),this.load=()=>{this.telemetry.loadRequestedTime=h();return this._loadPromise=new Promise(((n,a)=>{const s=a,l=E({uri:this._uri,telemetryAction:"EnvironmentFetch",retryCount:1,telemetry:r});l.catch((e=>{s({type:"EnvironmentFetchFailed",timestamp:h(),error:e})}));const u=a=>{const c=(t,n=!0)=>{a>=2?s(t):(n&&e.errorHandler(t),u(a+1))};let d,p=t.getWorker((e=>{d=!0,c(e,"WebWorkerPrewarmTimeout"!==e?.type)})).then((e=>(this._lifetime.registerForDispose((()=>{e.terminate()})),e))),f=e.loadContext.prewarmerScriptUri;const v=MsPortalFx.getEnvironmentValue("pageVersion"),g=e.manifest.pageVersion;e.features.isEnabled("skipprewarmerforhubs")&&"HubsExtension"===e.metadata.name&&g!==v&&(f=null,r.trace({source:"ExtensionLoader",action:"PrewarmerSkippedForHubsDueToVersionMismatch",data:{hubsManifestVersion:g,shellVersion:v}})),f&&(p=p.then((e=>(!d&&e.bootstrapPort.postMessage({kind:5,data:f}),e)))),Promise.all([p,l.catch((()=>{})),e.copilotFxRequireConfig]).then((([t,r,s])=>{if(d||!r)return;this.telemetry.environmentFetchTime=r.endTime;const l=r.headers,u=this.telemetry.afdCorrelationHeader=l["x-azure-ref"]||"",c=l["x-ms-original-xref"]||"";if(this.telemetry.workerLoadRetryCount=a,this.telemetry.hostingServiceResponseId=l["x-ms-hosting-responseid"],this.telemetry.homepageSize=l["content-length"],this.telemetry.afdCacheHit=""!==u&&c.includes(u),this.telemetry.bytesTransferred=-1,m.performance&&m.performance.getEntriesByName){const e=m.performance.getEntriesByName(this._uri);this.telemetry.bytesTransferred=e[0]&&e[0].transferSize}const{port1:p,port2:f}=new MessageChannel,v=t.bootstrapPort;v.postMessage({kind:3,data:y(e,s,i,o,r.value)},[p]);const g=h();v.onmessage=e=>{8===e.data?.kind&&(v.onmessage=null,n({rpcPort:f,loadEndTime:g}))}})).catch((e=>{c({type:"WebWorkerFailed",timestamp:h(),error:e})}))};u(0)}))}}cleanUp(){this._cleanupScheduled||(this._cleanupScheduled=!0,this._loadPromise.finally((()=>{setTimeout((()=>this._lifetime.dispose()),1e3),this.telemetry.unloadTime=h()})))}}class w{constructor(e,t){this.telemetry={};const{port1:n,port2:o}=new MessageChannel;this.load=()=>(this.telemetry.loadRequestedTime=h(),this._loadPromise=(async()=>{const i={postBootEnv:y(e,await e.copilotFxRequireConfig,{},[]),uri:b(e,!0),port:n},a=await(0,u.loadInIFrame)(t,i),{telemetry:s,cleanup:l,error:c}=a;if((0,r.extend)(this.telemetry,s),this._cleanup=l,c)throw c;return{rpcPort:o,loadEndTime:h()}})())}cleanUp(){this._loadPromise.finally((()=>{this._cleanup&&this._cleanup()})),this.telemetry.unloadTime=h()}}function P(e,t,n,r,o,i,a,s){const l={source:"ExtensionLoader",action:o,actionModifier:"complete",data:void 0},u=h();return function(){const o=h();if(t.status>=400&&(s="Request Error"),s){const n=new Error(s);n.responseHeaders=t.getAllResponseHeaders(),n.responseText=t.responseText,n.status=t.status,n.statusText=t.statusText,n.uri=e,r(n),l.data=s,l.actionModifier="cancel"}else{const e={};try{t.getAllResponseHeaders().split("\r\n").map((e=>e.split(": "))).forEach((t=>{const n=t[0].toLowerCase();e[n]=t[1]}))}catch{}n({value:t.response||t.responseText,endTime:o,retryIndex:i,headers:e})}l.duration=o-u,a.trace(l)}}function E(e,t){const n=e.telemetryAction;return t=t||0,new Promise(((r,o)=>{const i=new XMLHttpRequest,a=e.uri;i.open(e.method||"GET",a),i.onload=P(a,i,r,o,n,t,e.telemetry),i.onerror=P(a,i,r,o,n,t,e.telemetry,"Network Error"),i.send(e.body)})).catch((n=>{if(t<(e.retryCount||0))return E(e,t+1);throw n}))}})),
define("ShellWorkerImpl/Core/PreloadData",["require","exports","Fx/DependencyInjectionCore","FxInternal/AsyncLoaderCore","ShellWorker/PreloadData"],(function(e,t,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pushPreloadDataEndPointHandler=t.PreloadData=void 0;let i=class{constructor(){this._cache=new Promise(((e,t)=>this._resolve=e))}getPreloadedData(){return this._cache}primeData(e){this._resolve(e)}};t.PreloadData=i,t.PreloadData=i=__decorate([__metadata("fx:diagnostics",[e,"PreloadData"]),n.Class(),__metadata("design:paramtypes",[])],i),t.pushPreloadDataEndPointHandler=(0,r.defineHandler)(o.pushPreloadDataEndPoint,(({diContainer:e,messageArg:t})=>{e.get(i).primeData(t)}))})),
define("ShellWorkerImpl/Core/ExperimentationClient",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","FxInternal/RpcEndPointsCore","Fx/Diagnostics","ShellWorkerImpl/Core/Diagnostics","ShellWorkerImpl/Core/Environment","ShellWorkerImpl/Core/ExtensionLoader","ShellWorkerImpl/Core/AuthorizationState","ShellWorkerImpl/Core/PreloadData","FxInternal/AsyncLoaderCore","ShellWorker/ExperimentationClient","FxInternal/RpcEndPointsCore"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f){Object.defineProperty(t,"__esModule",{value:!0}),t.getExtensionExperimentVariablesEndPointHandler=t.ExperimentationClientImpl=t.ExperimentationClient=void 0;const m=window,h=m.fx.getTimestamp,v="/api/Experimentation/GetExtensionVariants?extension=";class g{static create(e,t,n,r,o,i,a){const s=a.getPreloadedData().then((e=>e?.variants));return new y(e,t,n,r,o,i,s)}}t.ExperimentationClient=g,__decorate([__metadata("fx:diagnostics",[e,"ExperimentationClient"]),n.Factory(),__metadata("design:type",Function),__metadata("design:paramtypes",[r.Client,FxImpl.Features,a.Telemetry,i.Logging,s.Environment,u.AuthorizationState,c.PreloadData]),__metadata("design:returntype",g)],g,"create",null);class y extends g{constructor(t,n,r,i,a,s,u){super(),this._cache=new Map,this._extensionFlights=new Map;const c=i.createLog(e);this.tryGetAndAssignFlights=async(e,i)=>{if(n.isEnabled("experimentation")){const n=this._cache.get(e)||await async function(e,t,n,o){const i=e.toLowerCase(),s="&extensionVersion="+t,d=await u;if(d?.hasOwnProperty(i))return d[i];if(!o)return null;const{effectiveLocale:p,location:f,version:g,sessionId:y}=a,b=(0,l.coerceUri)(v+i+s,f),x=h();function C(t,n=void 0){r.trace({source:"ExperimentationClient",action:"ExperimentationCall",actionModifier:t,duration:h()-x,extension:e,data:n})}try{let e;for(let t=0;t<3;t++){const r=await n.tryGetValidToken("fx","");if(r){if(e=await m.fetch(b,{method:"GET",headers:{Authorization:r?.header,"Content-Type":"application/json","x-ms-client-session-id":y,"x-ms-effective-locale":p,"x-ms-version":g}}),401!==e.status)break;c.warning(`Ajax call unauthorized. uri: ${b}, status code: ${e.status}}. Attempt: ${t}`)}else c.warning(`Null auth token. uri: ${b}, Attempt: ${t}`)}if(!e?.ok)return C("Failed"),c.warning(`Ajax call failed. uri: ${b}, status code: ${e?.status}, response: ${await(e?.text?.())}`),null;const t=await e.json();return C("Succeeded",t),t}catch(e){return C("Failed"),null}}(e,i.pageVersion,s,i.enableExperimentation);let d=this._extensionFlights.get(e);d||(d=Promise.withResolvers(),this._extensionFlights.set(e,d)),d.resolve(n);const p=await o.setExtensionFlightsEndPoint.invoke(t,e,n);this._cache.set(e,p)}},f.getVariantAssignmentsForExtension.register(t,"fx",(e=>{if(n.isEnabled("experimentation")){let t=this._extensionFlights.get(e);return t||(t=Promise.withResolvers(),this._extensionFlights.set(e,t)),t.promise.then((e=>e?{...e}:null))}return null}))}getVariablesByExtension(){const e=this._cache.get("HubsExtension"),t=e?.variables??{},n={};return this._cache.forEach(((e,r)=>{const o=Object.keys(e.variables).filter((e=>!t.hasOwnProperty(e)));o.length&&(n[r]=o.reduce(((t,n)=>(t[n]=e.variables[n],t)),{}))})),n.HubsExtension=t,n}}t.ExperimentationClientImpl=y,t.getExtensionExperimentVariablesEndPointHandler=(0,d.defineHandler)(p.getExtensionExperimentVariablesEndPoint,(e=>e.diContainer.get(g).getVariablesByExtension()))})),
define("ShellWorkerImpl/Core/ExtensionManager",["require","exports","Fx/DependencyInjectionCore","ShellWorkerImpl/Core/ExtensionManagerOptions","ShellWorkerImpl/Core/ExtensionLoader","ShellWorker/ExtensionManager","ShellWorkerImpl/Core/AuthorizationState","Fx/Diagnostics","ShellWorkerImpl/Core/Diagnostics","FxInternal/Rpc","FxInternal/Features","ShellWorkerImpl/Core/Environment","FxInternal","ShellWorkerImpl/Core/ExperimentationClient","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,m){Object.defineProperty(t,"__esModule",{value:!0}),t.Extension=t.ExtensionManager=t.ExtensionFactory=t.setRequestedBladeEndPointHandler=t.RpcStarter=void 0;const h=window.fx.getTimestamp,v="ShellWorkerExtensionManager",g="ExtensionLoad";let y=class{constructor(e,t,n){this._rpcPort=e,this._features=t,this._environment=n,this._requestedBlades={}}startRpc(e,t,n){const r=new u.RpcChannel(this._rpcPort);t.start({instanceIndex:0,loadChannelFunction:(t,i)=>{if("fx"===t)return r;const a=n[t];if(!a)throw new Error(`Failed to load extension '${t}'.`);const s=e.extensions[t],l=e.manifests[s.name],u=this._requestedBlades[t],c=(this._features.getValue(t+"_clientoptimizations")||this._features.getValue("clientoptimizations")||(s.isTestExtension?"false":this._environment.clientOptimizations)).toLowerCase(),d=this._features.isEnabled("bladeprefetch")&&l.prewarmerScript&&("HubsExtension"===a.name||l.weaveBladesMap&&1&l.weaveBladesMap[u])?function(e,t,n,r){let i;return"bundle"===e&&t[1]?i="/"+t[1]:"true"===e&&t[0]&&(i="/Content/Dynamic/"+t[0]+".js"),i&&(0,o.coerceUri)(n.prewarmUri,r)+i}(c,l.prewarmerScript,s,this._environment.location):null;return a.loadChannel(i,c,d)},originId:"fxw",shellChannel:void 0,windowRedirectMap:e.extensionRedirectMap})}setRequestedBlade(e,t){this._requestedBlades[e]=t}};t.RpcStarter=y,t.RpcStarter=y=__decorate([__metadata("fx:diagnostics",[e,"RpcStarter"]),n.Value(),__metadata("design:paramtypes",[MessagePort,c.Features,d.Environment])],y),t.setRequestedBladeEndPointHandler=(0,m.defineHandler)(i.setRequestedBladeEndPoint,(({diContainer:e,messageArg:{extensionName:t,bladeName:n}})=>{e.get(y).setRequestedBlade(t,n)}));let b=class{constructor(e,t,n,r,o,i,a){this._options=e,this._features=t,this._logging=n,this._telemetry=r,this._authState=o,this._extensionLoaderFactory=i,this._experimentationClient=a}createExtension(e,t){const{manifests:n}=this._options;return new C(e,n[e.name],this._authState,this._features,t,this._logging,this._telemetry,this._extensionLoaderFactory,this._experimentationClient)}};t.ExtensionFactory=b,t.ExtensionFactory=b=__decorate([__metadata("fx:diagnostics",[e,"ExtensionFactory"]),n.Class(),__metadata("design:paramtypes",[r.ExtensionManagerOptions,c.Features,s.Logging,l.Telemetry,a.AuthorizationState,o.ExtensionLoaderFactory,f.ExperimentationClient])],b);let x=class{constructor(e,t,n,r,o){const a=(e,n)=>{(0,p.isNullOrUndefined)(n.loadTime)||t.getTotalRefCountTo(e).subscribe((t=>{a(e,{refCount:t})})),i.onExtensionStateChangeEndPoint.invoke(t,"fx",(0,p.extend2)(n,{name:e}))},s=Object.keys(r.extensions).reduce(((t,n)=>{const o=r.extensions[n];return t[n]=e.createExtension(o,(e=>{a(n,e)})),t}),{});n.startRpc(r,t,s);const[,l]=o.getValue("extensionsidebar")?.split("/")||[];l&&s[l]&&t.acquireWindow(l,-1),s.HubsExtension&&t.acquireWindow("HubsExtension",-1),t.acquireWindow("fx",-1)}};t.ExtensionManager=x,t.ExtensionManager=x=__decorate([__metadata("fx:diagnostics",[e,"ExtensionManager"]),n.Class(),__metadata("design:paramtypes",[b,u.Client,y,r.ExtensionManagerOptions,c.Features])],x);class C{constructor(t,n,r,o,i,a,s,l,u){this._manifest=n,this._authState=r,this._features=o,this._onExtensionStateChange=i,this._logging=a,this._telemetry=s,this._experimentationClient=u,this.name=t.name,this._canUsePortalArmToken=!!(8&t.flags),this._log=a.createLog(e),this._extensionLoader=l.create(this.name)}loadChannel(e,t,n){const r=Promise.withResolvers(),i=new u.RpcChannel(r.promise),a=(e,t)=>{const n=`Error while loading extension ${this.name}: ${e.type}`,r={extVersion:this._manifest.pageVersion,timeThisExtensionFailed:h(),extensionTelemetry:this._extensionLoader.telemetry,error:e},a=(0,p.createError)(n,{data:r,...e?.error instanceof Error&&{innerErrors:e.error}});((0,o.isHttpError)(e?.error)&&0===e.error.status?this._log.warning:this._log.error).bind(this._log)(a,0),this._logging.flush(),t||(this._telemetry.trace({source:v,action:g,actionModifier:"cancel",data:r,name:this.name}),i.dispose(n),this._onExtensionStateChange({error:a}))};let s;if(this._features.isEnabled("pushtokens")){const e=this._authState.getUnvalidatedExtensionTokens();s=e[this.name]&&(0,p.extend)({},e[this.name])||{},this._authState.getUnvalidatedPortalToken()&&this._canUsePortalArmToken&&(s[""]=this._authState.getUnvalidatedPortalToken())}const l=h();return(0,p.nextTick)((()=>{this._extensionLoader.loadExtension({clientOptimizations:t,errorHandler:e=>{a(e,!0)},instanceIndex:e,loadTimeout:9e4,prewarmerScriptUri:n,tokens:s,userObjectId:this._authState.userObjectId,isWritesDisallowedTenant:this._authState.isWritesDisallowedTenant}).then((({rpcPort:e,loadEndTime:t})=>{r.resolve(e);const n=t-l;this._telemetry.trace({source:v,action:g,actionModifier:"complete",duration:n,name:this.name,data:{shellSide:this._extensionLoader.telemetry,extVersion:this._manifest.pageVersion,extSide:void 0,totalTime:h()-l}}),this._onExtensionStateChange({loadTime:n})}),(e=>{a(e,!1)})),this._experimentationClient.tryGetAndAssignFlights(this.name,this._manifest)})),i.onDispose((()=>{this._onExtensionStateChange({loadTime:null}),this._extensionLoader.unloadExtension()})),i}}t.Extension=C})),
define("ShellWorkerImpl/GlobalResourceFiltersProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/AsyncLoaderCore","ShellWorker/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore"],(function(e,t,n,r,o,i){Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveGlobalResourceFilterEndpointHandler=t.pushActiveGlobalResourceFilterEndpointHandler=t.GlobalResourceFiltersProvider=void 0;let a=class{constructor(){let e=new Promise((e=>this.resolveActiveFilter=e));this.getActiveGlobalResourceFilter=()=>e,this.onActivateGlobalFilter=t=>{e=Promise.resolve(t)}}};t.GlobalResourceFiltersProvider=a,t.GlobalResourceFiltersProvider=a=__decorate([__metadata("fx:diagnostics",[e,"GlobalResourceFiltersProvider"]),n.Class(),__metadata("design:paramtypes",[])],a),t.pushActiveGlobalResourceFilterEndpointHandler=(0,r.defineHandler)(o.pushActiveGlobalResourceFilterEndPoint,(({diContainer:e,messageArg:t})=>{e.get(a).onActivateGlobalFilter(t)})),t.getActiveGlobalResourceFilterEndpointHandler=(0,r.defineHandler)(i.getActiveGlobalResourceFilterEndPoint,(({diContainer:e})=>e.get(a).getActiveGlobalResourceFilter().then((e=>({...e})))))})),
define("ShellWorkerImpl/RpcEndPoints",["require","exports","FxInternal/AsyncLoaderCore","ShellWorker/AssetTypes","ShellWorker/FeatureCards","FxHubs/RpcEndPointsCore","FxHubs/RpcEndPointsCore","ShellWorker/Browse","ShellWorker/Locations","FxInternal/ResourceManagement/LocationsCore","ShellWorker/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","ShellWorker/GlobalResourceFilters","FxInternal/ResourceManagement/GlobalResourceFiltersCore","FxHubs/RpcEndPointsCore","ShellWorker/UserInfo","FxInternal/RpcEndPointsCore","ShellWorker/AuthorizationState","ShellWorker/ExperimentationClient","ShellWorker/ExtensionWorkerPrewarmer","ShellWorker/ExtensionManager","FxInternal","ShellWorker/PreloadData"],(function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,m,h,v,g,y,b,x,C,_){Object.defineProperty(t,"__esModule",{value:!0}),t.registerRpc=function(e){const t={"ShellWorkerImpl/AssetTypes":{pushAssetTypesEndPointHandler:(0,n.makeRegistration)(r.pushAssetTypesEndPoint,"fx"),getAssetTypesInformationEndPointHandler:(0,n.makeRegistration)(E),getSingleAssetTypeInformationEndPointHandler:(0,n.makeRegistration)(M,["fx","HubsExtension"]),getAssetMarketplaceExtractEndpointHandler:(0,n.makeRegistration)(F)},"ShellWorkerImpl/BrowseColumnsProvider":{onBrowseColumnsUpdatedEndPointHandler:(0,n.makeRegistration)(I,"HubsExtension")},"ShellWorkerImpl/BrowseFavoriteViewIdProvider":{onBrowseFavoriteViewIdUpdatedEndPointHandler:(0,n.makeRegistration)(k,"HubsExtension")},"ShellWorkerImpl/BrowseMetadataProvider":{pushBrowseMetadataEndPointHandler:(0,n.makeRegistration)(s.pushBrowseMetadataEndPoint,"fx")},"ShellWorkerImpl/BrowsePrereqsProvider":{getBrowsePrereqsEndpointHandler:(0,n.makeRegistration)(S,["fx","HubsExtension","Microsoft_Azure_Copilot"]),getBrowseManifestsForResourceTypesEndpointHandler:(0,n.makeRegistration)(A,["fx","HubsExtension"])},"ShellWorkerImpl/FeatureCards":{pushFeatureCardsEndPointHandler:(0,n.makeRegistration)(o.pushFeatureCardsEndPoint,"fx")},"ShellWorkerImpl/LocationsProvider":{pushLocationsEndPointHandler:(0,n.makeRegistration)(l.pushLocationsEndPoint,"fx"),getLocationDisplayNamesEndPointHandler:(0,n.makeRegistration)(u.getLocationDisplayNamesEndPoint)},"ShellWorkerImpl/SubscriptionsProvider":{pushSelectedSubscriptionsEndpointHandler:(0,n.makeRegistration)(c.pushSelectedSubscriptionsEndpoint,"fx"),getInSessionSelectedSubscriptionsEndpointHandler:(0,n.makeRegistration)(d.getInSessionSelectedSubscriptionsEndPoint),pushStartupSubscriptionsEndpointHandler:(0,n.makeRegistration)(c.pushStartupSubscriptionsEndpoint,"fx"),getSubscriptionInfoEndPointHandler:(0,n.makeRegistration)(d.getSubscriptionInfoEndPoint),pushSubscriptionsCountEndpointHandler:(0,n.makeRegistration)(c.pushSubscriptionsCountEndpoint,"fx"),getAllSubscriptionsCountEndPointHandler:(0,n.makeRegistration)(P),pushGlobalFilterSubscriptionsEndpointHandler:(0,n.makeRegistration)(c.pushGlobalFilterSubscriptionsEndpoint,"fx")},"ShellWorkerImpl/GlobalResourceFiltersProvider":{pushActiveGlobalResourceFilterEndpointHandler:(0,n.makeRegistration)(p.pushActiveGlobalResourceFilterEndPoint,"fx"),getActiveGlobalResourceFilterEndpointHandler:(0,n.makeRegistration)(f.getActiveGlobalResourceFilterEndPoint)},"ShellWorkerImpl/UserInfoProvider":{pushUserInfoEndpointHandler:(0,n.makeRegistration)(h.pushUserInfoEndpoint,"fx"),getUserInfoEndPointHandler:(0,n.makeRegistration)(v.getUserInfoEndPoint)},"ShellWorkerImpl/Core/AuthorizationState":{pushShellAuthTokensEndPointHandler:(0,n.makeRegistration)(g.pushShellAuthTokensEndPoint,"fx")},"ShellWorkerImpl/Core/CopilotFxRequireConfigSource":{getRequireConfigHandler:(0,n.makeRegistration)(v.getCopilotFxRequireConfigEndPoint,"fx")},"ShellWorkerImpl/Core/FederatedModuleRequireConfigSource":{getFederatedModulesRequireConfigHandler:(0,n.makeRegistration)(v.getFederatedModulesRequireConfigEndpoint,["fx","fxw"])},"ShellWorkerImpl/Core/ExtensionManager":{setRequestedBladeEndPointHandler:(0,n.makeRegistration)(x.setRequestedBladeEndPoint,"fx")},"ShellWorkerImpl/Core/ExtensionWorkerPrewarmer":{pushNewWorkerEndPointHandler:(0,n.makeRegistration)(b.pushNewWorkerEndPoint,"fx"),onWorkerBootCompleteEndPointHandler:(0,n.makeRegistration)(b.onWorkerBootCompleteEndPoint,"fx")},"ShellWorkerImpl/Core/PreloadData":{pushPreloadDataEndPointHandler:(0,n.makeRegistration)(_.pushPreloadDataEndPoint,"fx")},"ShellWorkerImpl/Core/ExperimentationClient":{getExtensionExperimentVariablesEndPointHandler:(0,n.makeRegistration)(y.getExtensionExperimentVariablesEndPoint,"fx")}};(0,C.forEachKey)(t,T),(0,n.registerRpc)(e,t)};const w=window,{getAllSubscriptionsCountEndPoint:P}=m.Subscriptions,{getAssetTypesInformationEndPoint:E,getAssetMarketplaceExtractsEndpoint:F,getSingleAssetTypeInformationEndPoint:M}=i.AssetTypes,{getBrowsePrereqsEndpoint:S,onBrowseColumnsUpdatedEndPoint:I,onBrowseFavoriteViewIdUpdatedEndPoint:k}=a.Browse,{getBrowseManifestsForResourceTypesEndpoint:A}=a.Browse;function T(e){w.requirejs([e],C.noop,C.noop)}})),
define("ShellWorkerImpl/Init",["require","exports","ShellWorkerImpl/Core/ExtensionManager","ShellWorkerImpl/RpcEndPoints"],(function(e,t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.init=async function(e){await e.getAsync(n.ExtensionManager),(0,r.registerRpc)(e)}})),
define("ShellWorkerImpl/SubscriptionsProvider",["require","exports","Fx/DependencyInjectionCore","FxInternal/Rpc","ShellWorker/Subscriptions","FxInternal/ResourceManagement/SubscriptionsCore","FxHubs/RpcEndPointsCore","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.pushGlobalFilterSubscriptionsEndpointHandler=t.getAllSubscriptionsCountEndPointHandler=t.pushSubscriptionsCountEndpointHandler=t.getSubscriptionInfoEndPointHandler=t.pushStartupSubscriptionsEndpointHandler=t.getInSessionSelectedSubscriptionsEndpointHandler=t.pushSelectedSubscriptionsEndpointHandler=t.SubscriptionsProvider=void 0;const l=a.Subscriptions.getAllSubscriptionsCountEndPoint;let u=class{constructor(e){let t,n;const r=new Promise((e=>{n=e}));this.onSelectedSubscriptionsChange=({inSession:e})=>{t=e,n()},this.getInSessionSelectedSubscriptions=()=>r.then((()=>t));let o=new Promise((e=>{this.resolveStartupSubscriptionsInfo=e}));this.getSubscriptionInfo=async t=>{const{subscriptions:n}=await o;return n[t]||i.getSubscriptionInfoEndPoint.invoke(e,"fx",t)};let a=new Promise((e=>this.resolveCountData=e));this.getAllSubscriptionsCount=()=>a,this.setFilteredSubscriptions=e=>{o=Promise.resolve({subscriptions:e.reduce(((e,t)=>(e[t.subscriptionId]=t,e)),Object.create(null))}),a=Promise.resolve({type:1,value:e.length}),t=e}}};t.SubscriptionsProvider=u,t.SubscriptionsProvider=u=__decorate([__metadata("fx:diagnostics",[e,"SubscriptionsProvider"]),n.Class(),__metadata("design:paramtypes",[r.Client])],u),t.pushSelectedSubscriptionsEndpointHandler=(0,s.defineHandler)(o.pushSelectedSubscriptionsEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).onSelectedSubscriptionsChange(t)})),t.getInSessionSelectedSubscriptionsEndpointHandler=(0,s.defineHandler)(i.getInSessionSelectedSubscriptionsEndPoint,(({diContainer:e})=>e.get(u).getInSessionSelectedSubscriptions().then((e=>e.slice())))),t.pushStartupSubscriptionsEndpointHandler=(0,s.defineHandler)(o.pushStartupSubscriptionsEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).resolveStartupSubscriptionsInfo(t)})),t.getSubscriptionInfoEndPointHandler=(0,s.defineHandler)(i.getSubscriptionInfoEndPoint,(({diContainer:e,messageArg:t})=>e.get(u).getSubscriptionInfo(t).then((e=>({...e}))))),t.pushSubscriptionsCountEndpointHandler=(0,s.defineHandler)(o.pushSubscriptionsCountEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).resolveCountData(t)})),t.getAllSubscriptionsCountEndPointHandler=(0,s.defineHandler)(l,(({diContainer:e})=>e.get(u).getAllSubscriptionsCount().then((e=>({...e}))))),t.pushGlobalFilterSubscriptionsEndpointHandler=(0,s.defineHandler)(o.pushGlobalFilterSubscriptionsEndpoint,(({diContainer:e,messageArg:t})=>{e.get(u).setFilteredSubscriptions(t)}))})),
define("ShellWorkerImpl/UserInfoProvider",["require","exports","Fx/DependencyInjectionCore","ShellWorker/UserInfo","FxInternal/RpcEndPointsCore","ShellWorkerImpl/Core/ExtensionManagerOptions","FxInternal/AsyncLoaderCore"],(function(e,t,n,r,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfoEndPointHandler=t.pushUserInfoEndpointHandler=t.UserInfoProvider=void 0;let s=class{constructor({extensions:e}){const t=new Promise((e=>{this.resolveUserInfo=e}));this.getUserInfo=n=>16&(e[n]?.flags||0)?{}:t}};t.UserInfoProvider=s,t.UserInfoProvider=s=__decorate([__metadata("fx:diagnostics",[e,"UserInfoProvider"]),n.Class(),__metadata("design:paramtypes",[i.ExtensionManagerOptions])],s),t.pushUserInfoEndpointHandler=(0,a.defineHandler)(r.pushUserInfoEndpoint,(({diContainer:e,messageArg:t})=>{e.get(s).resolveUserInfo(t)})),t.getUserInfoEndPointHandler=(0,a.defineHandler)(o.getUserInfoEndPoint,(async({diContainer:e,messageContext:{srcWindowId:t}})=>({...await e.get(s).getUserInfo(t)})))})),
define("Weave/DirectMode",["require","exports","Weave/Core/InternalUtil"],(function(e,t,n){return n.WeaveTsx}));