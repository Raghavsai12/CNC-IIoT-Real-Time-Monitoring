define("@azure/portalfx-core/lib/utilities/ensureSerializable",["exports"],(function(e){"use strict";function r(e,i){if("object"!=typeof e||null===e||e instanceof Date)return"function"==typeof e||"symbol"==typeof e?void 0:e;if(i.includes(e))return"_CYCLIC_OBJECT_";if(i.push(e),Array.isArray(e)){const t=e.map((e=>r(e,i)));return i.pop(),t}{const s=new Set;let n=e;for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).forEach((e=>s.add(e))),n=Object.getPrototypeOf(n);const o={};for(const n of s){const s=t(e,n);"function"!=typeof s&&(o[n]=r(s,i))}return i.pop(),o}}function t(e,r){try{return e[r]}catch{return}}e.ensureSerializable=function(e){return r(e,[])}})),
define("@azure/portalfx-core/lib/utilities/stableSerialize",["exports"],(function(e){"use strict";e.stableSerialize=function(e){return JSON.stringify(e,((e,r)=>r&&r instanceof Object&&r.constructor===Object?Object.keys(r).sort().reduce(((e,t)=>(e[t]=r[t],e)),{}):r))}})),
define("@azure/portalfx-core/lib/services/registerQuery",["exports","@azure/portalfx-core/lib/utilities/ensureSerializable","@azure/portalfx-core/lib/utilities/stableSerialize"],(function(e,r,t){"use strict";e.registerQuery=function(e){const{cacheOptions:i,getKey:s,name:n,onError:o,onSuccess:a,query:c}=e,u=new Set(i?.sharedWith),l=e=>{const r=s?.(...e)??(0,t.stableSerialize)(e);return`:query:${n}:${r}`};return{bind:(e,...t)=>{const s={},d=l(t),p=e.get("diagnostic"),m=e.get("queryTelemetryInternal"),v=e.get("cache");v.setSharedExtensions(d,u);const f=()=>{const u=Date.now();let l="completed";return c({serviceRegistry:e},...t).then((e=>(a?.(s.query,e),m.traceQueryTelemetry(n,{cacheStatus:"miss",end:Date.now(),entryStatus:"resolved",key:d,scope:i?.scope??"session",source:"query",start:u}),e)),(e=>{throw l="failed",p.log({area:`Query:${n}`,args:[(0,r.ensureSerializable)(e)],code:e?.code,level:"warning",message:`Query failed: ${n}`,timestamp:Date.now()}),m.traceQueryTelemetry(n,{cacheStatus:"miss",end:Date.now(),entryStatus:"rejected",key:d,scope:i?.scope??"session",source:"query",start:u}),o&&o(s.query,e),e})).finally((()=>{const e=Date.now();p.trace({action:"get",actionModifier:l,duration:e-u,name:n,source:"Query",timestamp:e})}))};return s.query={arguments:t,clear:()=>{v.clear(d,i)},get:async(e={})=>{const{force:r,ignoreCachedValue:t="if-stale"}=e;if(!r&&"always"!==t){const e=v.get(d);if(!(e.expired||"unset"===e.state||e.stale&&"never"!==t))return m.traceQueryTelemetry(n,{cacheStatus:"hit",entryStatus:e.state,key:d,scope:i?.scope??"session",source:"query",timestamp:Date.now()}),"resolved"===e.state?Promise.resolve(e.value):Promise.reject(e.error)}return v.setAsync(d,f,i,{forceNewRequest:r})},getCacheEntry:()=>{const e=v.get(d);return"unset"!==e.state&&m.traceQueryTelemetry(n,{cacheStatus:"hit",entryStatus:e.expired?"expired":e.error?"rejected":"resolved",key:d,scope:i?.scope??"session",source:"query",timestamp:Date.now()}),v.get(d)},id:d,set:e=>{v.setValue(d,e,i)},subscribe:e=>v.subscribe(d,e)},s.query},getId:(...e)=>l(e),name:n}}})),
define("@azure/portal-core/lib/services/registerQuery",["exports","@azure/portalfx-core/lib/services/registerQuery"],(function(e,r){"use strict";e.registerQuery=function(e){return(0,r.registerQuery)(e)}})),
define("@azure/portalfx-internal-services/lib/utilities/fetchUtilities",["exports"],(function(e){"use strict";e.HeaderNames=void 0,e.createFetchRequest=function(...e){const t=new Request(...e),i=e[1]?.commandName;return i&&t.headers.set(r.CommandName,i),t},e.ensureSuffix=function(e,r){e.endsWith(r)||(e+=r);return e},e.fetchDefaultRetryDefaults=void 0,e.isUriAbsolute=function(e){return e.includes("://")||e.startsWith("//")};e.fetchDefaultRetryDefaults={retries:3,retryDelay:0,retryOn:[0]};const r=e.HeaderNames={AcceptLanguage:"Accept-Language",ArmBreakGlassInternal:"x-ms-arm-internal-break-glass",ArmDataBoundary:"x-ms-arm-data-boundary",AuthN:"Authorization",CacheControl:"Cache-Control",CacheTag:"x-ms-cache-tag",CommandName:"x-ms-command-name",ContentType:"Content-Type",EffectiveLocale:"x-ms-effective-locale",ExtensionFlags:"x-ms-extension-flags",FailureCause:"x-ms-failure-cause",GraphRequestCorrelationId:"client-request-id",LoggedOut:"x-ms-force-login",PathAndQuery:"x-ms-path-query",Pragma:"Pragma",RequestCorrelationId:"x-ms-correlation-request-id",RequestId:"x-ms-client-request-id",SessionId:"x-ms-client-session-id",Version:"x-ms-version",VersionMismatch:"x-ms-version-mismatch",WwwAuthenticate:"WWW-Authenticate",XmsFeatureFlags:"x-ms-feature-flags"}})),
define("@azure/portalfx-internal-services/lib/utilities/fetchWithRetry",["exports","@azure/portalfx-internal-services/lib/utilities/fetchUtilities"],(function(e,r){"use strict";e.fetchWithRetry=async function(e,t,i,s,n){const o="boolean"==typeof i?i?r.fetchDefaultRetryDefaults:{...r.fetchDefaultRetryDefaults,retries:0}:{retries:(i.retries||-1)>=0?i.retries:r.fetchDefaultRetryDefaults.retries,retryDelay:"number"==typeof i.retryDelay&&i.retryDelay>=0||"function"==typeof i.retryDelay?i.retryDelay:r.fetchDefaultRetryDefaults.retryDelay,retryOn:i.retryOn??r.fetchDefaultRetryDefaults.retryOn},{retries:a,retryDelay:c,retryOn:u}=o;let l=0;const d=[],p=(e,r)=>{d.push({attempt:l,event:e,timestamp:Date.now(),value:r})};let m,v;const f=()=>{"visible"===document.visibilityState&&(p("Document Visible"),window.removeEventListener("visibilitychange",f),m())},h=()=>{p("Network Online"),window.removeEventListener("online",h),v()},y=()=>{if("hidden"===document.visibilityState){p("Document Hidden");const e=new Promise((e=>{m=e}));return window.addEventListener("visibilitychange",f),e}return Promise.resolve()},g=()=>{if(!window.navigator.onLine){p("Network Offline");const e=new Promise((e=>{v=e}));return window.addEventListener("online",h),e}return Promise.resolve()},S=async()=>{"hidden"!==document.visibilityState&&window.navigator.onLine||await Promise.all([y(),g()]).then((()=>S()))};await S();return new Promise(((t,i)=>{const s=e=>{p("Successfully Sent"),t(e)},o=e=>{p("Failure to Send"),i(e)},d=()=>{p("Sending Request"),window.fetch((0,r.createFetchRequest)(e,n)).then((e=>{if(!Array.isArray(u)||u.includes(e.status))return m(null,e);s(e)})).catch((e=>{m(e,null)}))},m=async(e,r)=>{try{const t="function"==typeof u;(t?await u(l,e,r):l<a)?await v(e,r):(null===r?o(e):s(r),p(t?"Cannot Retry: retryOn Condition Not Met":"Cannot Retry: Attempts Exhausted"))}catch(e){o(e)}},v=async(e,r)=>{l++;const t="function"==typeof c?await c(l,e,r):c;p("Retrying Request",{delay:t}),await S(),setTimeout((()=>{d()}),t)};d()})).finally((()=>{t.trace({action:"RetryFetchEventHistory",data:d,source:s,timestamp:Date.now()})}))}})),
define("@azure/portal-internal-services/lib/services/ArmFetchService",["exports","@azure/portalfx-internal-services/lib/utilities/fetchUtilities","@azure/portalfx-internal-services/lib/utilities/fetchWithRetry"],(function(e,r,t){"use strict";e.createArmFetchService=function(e,t){return{armFetch:r=>async function(e,r,t,s,o,m){const{serverAuthority:v,url:f}=c(e.url,r),h=v+a(r.batchApiVersion),y="ArmFetch";let g;const S=u(y,s,m);g=S instanceof Promise?await S:S;const b={endpoint:h,requests:[{content:e.content,httpMethod:e.httpMethod||i,requestHeaderDictionary:e.requestHeaderDictionary,telemetryCommandName:e.telemetryCommandName,url:f}]};return n(b,g,r,t,s,o,"ArmFetch").then((({request:r})=>p(r,{retries:e.retryOptions?.retries??3,retryDelay:l(e.retryOptions?.retryDelay??0),retryOn:d(e.retryOptions??{})},s,y,m))).then((e=>e.json())).then((e=>{if(e.error)return Promise.reject({...e,headers:new Headers(e.headers)});{const r=e?.responses?.[0]||{};return r.httpStatusCode<400?{...r,headers:new Headers(r.headers)}:Promise.reject({...r,headers:new Headers(r.headers)})}}))}(r,e.armContext,e.effectiveLocale,e.extensionName,e.sessionId,t),armFetchMultiple:i=>async function(e,t,i,s,o,a){const c=`ArmFetchMultiple.${e.telemetryCommandName||"UNNAMED"}`;let l;const d=u(c,s,a);l=d instanceof Promise?await d:d;const{batchIndexMapByName:m,request:v}=await n(e,l,t,i,s,o,c),f=await p(v,r.fetchDefaultRetryDefaults,s,c,a).then((e=>e.json()));if(f.httpStatusCode>=400)return Promise.reject({...f,headers:new Headers(f.headers)});const h=Array(e.requests.length).fill(void 0);return(f?.responses||[]).forEach((e=>{if(e){const r=m.get(e?.name||"");void 0!==r&&(h[r]={...e,headers:new Headers(e.headers||{})})}})),{...f,headers:new Headers(f.headers||{}),responses:h}}(i,e.armContext,e.effectiveLocale,e.extensionName,e.sessionId,t)}};const i="GET",s="application/json";async function n(e,t,n,u,l,d,p){if(0===e.requests.length||e.requests.length>20)return Promise.reject(`Invalid number of batched requests: ${e.requests.length}. Must be between 1 and 20.`);const m=new Map,v=new URL(n.fxArmEndpoint).host.toLowerCase(),f=new URL(n.armEndpoint).host.toLowerCase(),h=v!==f,y=!h||e.requests.reduce(((e,t)=>{const i=t.url;if((0,r.isUriAbsolute)(i)){const r=new URL(i).host.toLowerCase();e=e&&[v,f].includes(r)}return e}),!0),g=e.requests.map(((e,t)=>{const s=crypto.randomUUID();m.set(s,t);let a=e.url;if(h&&(0,r.isUriAbsolute)(a)){const{url:e}=c(a,n);y&&(a=e)}return{content:e.content,httpMethod:e.httpMethod||i,name:s,requestHeaderDetails:{commandName:o(e.telemetryCommandName||"UNNAMED",l)},...new Date(n.batchApiVersion||"2020-06-01")>=new Date("2020-06-01")?{requestHeaderDictionary:e.requestHeaderDictionary}:{},url:a}}));let S=e.endpoint??"";const b=n.armEndpoint+a(n.batchApiVersion);if(!S||h&&S&&y&&new URL(S).host.toLowerCase()===v)S=y?b:new URL(n.fxArmEndpoint+a(n.batchApiVersion)).toString();else if(n.blockUntrustedDomains){const e=new URL(S).host.toLowerCase(),r=(n.dArmDomains??[]).map((e=>e.toLowerCase()));if(!e.endsWith(v)&&!r.some((r=>e.endsWith(r))))return Promise.reject(`Unsupported domain ${e} in batch call. Only ARM endpoints are supported in armFetch.`)}let R;const w={requests:g},x=function(e,t,i,n,o){const a={};return a[r.HeaderNames.AuthN]=e?.header,a[r.HeaderNames.CommandName]=`${t}.${o}`,a[r.HeaderNames.RequestId]=crypto.randomUUID(),a[r.HeaderNames.SessionId]=i,a[r.HeaderNames.ContentType]=s,a[r.HeaderNames.EffectiveLocale]=n,a[r.HeaderNames.AcceptLanguage]=n.split(".")[0],new Headers(a)}(t,l,d,u,p);n.simpleBatch&&y?(R=new Headers({[r.HeaderNames.ContentType]:"text/plain"}),w.headers={},x.forEach(((e,r)=>{w.headers[r]=e.split(";")}))):R=x;const T=new Request(S,{body:JSON.stringify(w),headers:R,method:"POST"});return{batchIndexMapByName:m,request:T}}function o(e,r){return`${r}.${e}`.slice(0,255)}function a(e){return`batch?api-version=${e||"2020-06-01"}`}function c(e,t){const i=new URL(t.fxArmEndpoint).host.toLowerCase(),s=t.armEndpoint.toLowerCase(),n=new URL(s).host,o=t.dArmDomains??[];let a="",c="";if((0,r.isUriAbsolute)(e)){const r=new URL(e),u=r.host;if(u===i)c=n,a=s,e=[`${r.protocol}//`,n,r.pathname,r.search].join("");else if(u.endsWith(i)||o.some((e=>u.endsWith(e))))c=u,a=r.origin.toLowerCase();else if(t.blockUntrustedDomains)throw new Error(`Unsupported domain ${u} in batch call. Only ARM and dARM endpoints are supported in armFetch.`)}else a=s;return a=(0,r.ensureSuffix)(a,"/").toLowerCase(),""===c&&(c=new URL(a).host),{domain:c,serverAuthority:a,url:e}}function u(e,r,t,i=!1){const s=t.get("authentication"),n=t.get("diagnostic"),o=s.authorizationTokenQuery.bind(t,{});if(!i){const e=o.getCacheEntry();if("resolved"===e.state&&e.value&&!e.expired)return e.value}return o.get({force:i}).then((t=>t||(n.trace({action:e,data:{error:`Expected auth header but it is null. Request telemetryHeader: ${r}.${e}`},source:"FetchService",timestamp:Date.now()}),"HubsExtension"!==r)?t:Promise.reject("Null auth header.")))}function l(e){return(r,t,i)=>{const s=i?.clone().json().then((e=>e?.responses?.[0]||null))??Promise.resolve(null);return e?"function"==typeof e?s.then((i=>e(r,t,i))):e:0}}function d(e){const r=e.retryOn,t=e.retries??3;return(e,i,s)=>{const n=s?.clone().json().then((e=>e?.responses?.[0]||null))??Promise.resolve(null);return r?"function"==typeof r?n.then((t=>r(e,i,t))):e<t&&n.then((e=>r.includes(e?.httpStatusCode??0))):e<t&&n.then((e=>503===e?.httpStatusCode))}}async function p(e,i,s,n,o){const a=await(0,t.fetchWithRetry)(e,o.get("diagnostic"),i,n);if(401===a.status&&a.headers.get(r.HeaderNames.WwwAuthenticate)){const a=await u(n,s,o,!0),c=e.clone();return c.headers.set(r.HeaderNames.AuthN,a.header),(0,t.fetchWithRetry)(c,o.get("diagnostic"),i,n)}return a}})),
define("@azure/portal-internal-services/lib/services/AssetTypeService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createAssetTypeService=function(e){return{allAssetTypesQuery:(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Fx::AllAssetTypes",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getAllAssetTypes",serviceName:"assetType"})})}}})),
define("@azure/portal-internal-services/lib/services/AssetViewReferenceService",["exports","@azure/portalfx-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createAssetViewReferenceService=function(e){const t=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Fx::BrowseViewReference",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getBrowseViewReference",serviceName:"assetViewReference"})}),i=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Fx::ResourceViewReference",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getResourceViewReference",serviceName:"assetViewReference"})});return{browseViewReferenceQuery:t,getCreateAssetTypeReference:r=>({...r,extensionName:e.extensionName,referenceType:"provisioning"}),getExternalCreateAssetTypeReference:e=>({...e,referenceType:"provisioning"}),resourceViewReferenceQuery:i}}})),
define("@azure/portal-internal-services/lib/services/AzureEnvironmentService",["exports"],(function(e){"use strict";e.createAzureEnvironmentService=function(e){return{getAzureStackEndpoint:r=>e.internalEnvironment.azsEndpoints?.[r.toLowerCase()],getEndpoints:()=>e.endpoints}}})),
define("@azure/portal-internal-services/lib/services/BrowseService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createBrowseService=function(e){return{browseDataQuery:(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Browse::BrowseData",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getBrowseData",serviceName:"browse"})})}}})),
define("@azure/portal-internal-services/lib/services/CloudShellService",["exports"],(function(e){"use strict";e.createCloudShellService=function(e,r){return{...r(e,"cloudShell",["executeInCloudShell"])}}})),
define("@azure/portal-internal-services/lib/services/LocationService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createLocationService=function(e){const t=(0,r.registerQuery)({cacheOptions:{scope:"view"},getKey:({resourceTypes:e,subscriptionId:r})=>JSON.stringify([r,e?.sort().join(",")]),name:"Shell::LocationsForCreate",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getLocationsAndResourceTypes",serviceName:"location"})});return{locationDisplayNamesQuery:(0,r.registerQuery)({cacheOptions:{scope:"session",staleAfter:Number.MAX_SAFE_INTEGER},name:"Shell::LocationDisplayNames",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getLocationDisplayNames",serviceName:"location"})}),locationsForCreateQuery:t}}})),
define("@azure/react-utilities/lib/utilities/string",["exports"],(function(e){"use strict";e.format=function(e,...i){return e.replace(t,(e=>{const t=parseInt(e.replace(r,""),10);return null!==i[t]&&void 0!==i[t]?String(i[t]):""}))};const r=/[{}]/g,t=/\{\d+\}/g})),
define("@azure/portal-internal-services/lib/services/PolicyService",["exports","@azure/react-utilities/lib/utilities/string","@azure/portal-internal-services/lib/Resources.resjson"],(function(e,r,t){"use strict";e.createPolicyService=function(e,s){const n=s.get("resource");return{evaluateControlPlanePolicy:async(o,a)=>{const c=function(e,r){const{createNew:t,resourceGroup:i,subscriptionId:s}=e,n=i&&!t?r.stringifyArmId({kind:"ResourceGroup",resourceGroup:i,subscription:s},"ResourceGroup"):s?r.stringifyArmId({kind:"Subscription",subscription:s},"Subscription"):void 0,o=s&&t?r.stringifyArmId({kind:"ResourceGroup",resourceGroup:i,subscription:s},"ResourceGroup"):void 0;return{resourceScopeId:o,scopeId:n}}(o,n),u=e.viewName,l={...a.additionalTelemetry||{},__mode:i.ControlPlaneModes.PolicyEvaluator},d={...a,additionalTelemetry:l,bladeName:u,scope:c},p=await(r=>e.invokeProxiedServiceMethod({methodArgs:[r],methodName:"validatePolicy",serviceName:"policy"}))(d),m=function(e,s,n,o){const a=o.get("diagnostic"),c=o.get("resource"),u=o.get("navigation");return e.allErrorResults.map((({policyAssignmentId:e,reason:o})=>{const[l]=c.parseArmId(e,!0).getResourceNames().slice(-1);return{linkDisplayName:t.PolicyServiceResources.clickDetails,navigateToResource:()=>{a.trace({action:i.PolicyBladeLinkClicked,data:{_bladeName:s,additionalTelemetry:n},source:i.ControlPlanePolicy,timestamp:Date.now()}),u.openView({extensionName:"Microsoft_Azure_Policy",parameters:{id:e},viewName:"PolicyAssignmentDetailBlade"})},noLinkDisplayName:(0,r.format)(t.PolicyServiceResources.policyDetailsFormat,l),policyAssignmentName:l,reason:o,sysViolation:l.startsWith("sys")}}))}(p,u,l,s);return{...p,allErrorResults:m}}}};const i={ControlPlaneModes:{PolicyEvaluator:"PolicyEvaluator.React",Selector:"Selector.React",Validator:"Validator.React"},ControlPlanePolicy:"ControlPlanePolicy",PolicyBladeLinkClicked:"PolicyBladeLinkClicked",PolicySelector:{AutoSelected:"AutoSelected",Cleared:"Cleared"},PolicySelectorChangedSelection:"PolicySelectorChangedSelection"}})),
define("@azure/portal-internal-services/lib/services/ProvisioningService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createProvisioningService=function(e,t){const i=t(e,"provisioning",["deployStack","deployTemplate","getArmErrorsViewReference","getAutomationViewReference","validateTemplate","endCustomDeploy","startCustomDeploy"]),s=(0,r.registerQuery)({cacheOptions:{scope:"view"},name:"Shell::InitialDropdownValues",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getInitialProvisioningValues",serviceName:"provisioning"})}),n=(0,r.registerQuery)({cacheOptions:{scope:"view"},name:"Shell::ProvisioningContext",query:async()=>{const r=await e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getProvisioningContext",serviceName:"provisioning"});if(!r)throw new Error("Provisioning context not set. The doesProvisioning flag must be set to true in ViewMetadata for this view.");return r}});return{initialProvisioningValuesQuery:s,provisioningContextQuery:n,...i,deployCustom:async e=>i.startCustomDeploy().then((r=>(e.provisioningPromise.then((()=>i.endCustomDeploy(r))),e.provisioningPromise)))}}})),
define("@azure/portal-internal-services/lib/services/ResourceGroupService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createResourceGroupService=function(e,t){return{resourceGroupsQuery:(0,r.registerQuery)({cacheOptions:{scope:"view"},name:"Shell::ResourceGroups",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getResourceGroups",serviceName:"resourceGroup"})}),...t(e,"resourceGroup",["validateResourceGroup"])}}})),
define("@azure/portal-internal-services/lib/services/ArmId",["exports"],(function(e){"use strict";e.getArmIdApis=function(e){const i=(e,r,i)=>(e.armId.resourceTypeNames.push(r),e.armId.resourceNames.push(i),e.currentResourceTypes&&e.currentResourceTypes.resourceTypes.push(r),t.Resource),s=(e,r,i)=>(e.armId.provider=i,e.currentResourceTypes&&(e.currentResourceTypes.provider=i),t.Provider),n=(e,r,i)=>(e.armId.provider="Microsoft.Resources",e.currentResourceTypes&&(e.currentResourceTypes.provider="Microsoft.Resources",e.currentResourceTypes.resourceTypes.push("deployments")),e.armId.resourceTypeNames.push("deployments"),e.armId.resourceNames.push(i),t.Resource),o=(e,r)=>(t,i,s)=>(t.armId[e]=s,r),a={[t.NestedProvider]:{"":i},[t.Provider]:{"":i},[t.Resource]:{"":i,providers:(e,r,s,n)=>n?(e.armId.isNestedResourceType=!0,e.armId.nestedResourceTypes&&e.currentResourceTypes&&e.armId.nestedResourceTypes.push(e.currentResourceTypes),e.currentResourceTypes={provider:s,resourceTypes:[]},t.NestedProvider):i(e,r,s)},[t.ResourceGroup]:{deployments:n,providers:s},[t.Start]:{providers:s,subscriptions:o("subscription",t.Subscription)},[t.Subscription]:{deployments:n,locations:o("location",t.Location),providers:s,resourceGroups:o("resourceGroup",t.ResourceGroup),resourcegroups:o("resourceGroup",t.ResourceGroup),tagNames:o("tagName",t.TagName),tagnames:o("tagName",t.TagName)},[t.TagName]:{tagValues:o("tagValue",t.TagValue),tagvalues:o("tagValue",t.TagValue)}},c={ResourceGroups:"microsoft.resources/subscriptions/resourcegroups",Subscriptions:"microsoft.resources/subscriptions"},u=e=>{const t={isNestedResourceType:!1,kind:r.Invalid,location:"",nestedResourceTypes:[],provider:"",resourceGroup:"",resourceName:"",resourceType:"",subscription:"",tagName:"",tagValue:""};return e?.excludeNested&&delete t.nestedResourceTypes,e?.excludeNested&&delete t.isNestedResourceType,t},l=u({excludeNested:!0}),d=u(),p=(e,r)=>{return{kindTransition:m,machineData:{armId:{...u(t),resourceNames:[],resourceTypeNames:[]},currentResourceTypes:{provider:"",resourceTypes:[]}},machineState:r,processorMap:a};var t},m={[r.Invalid]:{[t.Provider]:r.TenantProvider,[t.Subscription]:r.Subscription},[r.Location]:{},[r.Provider]:{[t.Resource]:r.Resource},[r.Resource]:{[t.NestedProvider]:r.Provider,[t.Resource]:r.Resource},[r.ResourceGroup]:{[t.Provider]:r.Provider,[t.Resource]:r.Resource},[r.Subscription]:{[t.Location]:r.Location,[t.Provider]:r.SubscriptionProvider,[t.Resource]:r.SubscriptionResource,[t.ResourceGroup]:r.ResourceGroup,[t.TagName]:r.SubscriptionTag},[r.SubscriptionProvider]:{[t.Resource]:r.SubscriptionResource},[r.SubscriptionResource]:{[t.NestedProvider]:r.SubscriptionProvider,[t.Resource]:r.SubscriptionResource},[r.SubscriptionTag]:{[t.TagValue]:r.SubscriptionTagValue},[r.SubscriptionTagValue]:{},[r.TenantProvider]:{[t.Resource]:r.TenantResource},[r.TenantResource]:{[t.NestedProvider]:r.TenantProvider,[t.Resource]:r.TenantResource}};function v(e){if(null===e)return{isValid:!1,reasons:["ARM ID cannot be null"]};if(void 0===e)return{isValid:!1,reasons:["ARM ID cannot be undefined"]};if("string"!=typeof e)return{isValid:!1,reasons:["ARM ID must be a string"]};let t=!1;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(i<32||i>=127&&i<=159){t=!0;break}}if(t)return{isValid:!1,reasons:["ARM ID contains control characters"]};const i=f(e,!1);if(i.kind===r.Invalid)return{isValid:!1,reasons:["ARM ID is invalid or malformed"]};if(i.subscription){if(!/^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-9a-fA-F]{4}-?[0-9a-fA-F]{4}-?[0-9a-fA-F]{12}$/.test(i.subscription.replaceAll("-","")))return{isValid:!1,reasons:["Subscription ID is not a valid GUID format"]}}return{isValid:!0,reasons:[]}}function f(e,i,s){if(s){const r=v(e);if(!r.isValid){return C({...i?d:l,reason:r.reasons[0]})}}return function(e,i){const s=i?d:l;if("string"!=typeof e)return C({...s,reason:"not a string"});e=e.split("?")[0];const n=e.split("/");if(1===n.length||n.length%2!=1||0!==n[0].length)return C({...s,reason:"invalid number of segments"});const o=n.length,a=p(e,t.Start);for(let e=1;e<o;e+=2){const r=a.processorMap[a.machineState];if(!r)return C({...s,reason:"malformed resource ID - no processor map"});const t=n[e],o=n[e+1];if(!t.length||!o.length)return C({...s,reason:"empty segment"});const c=r[t]||r[t.toLowerCase()]||r[""];if(!c)return C({...s,reason:"malformed resource ID - no processor (invalid token segment)"});const u=a.machineData.armId.kind;a.machineState=c(a.machineData,t,o,i),a.machineData.armId.kind=a.kindTransition[u][a.machineState]}const u=a.machineData.armId;if(void 0===u.kind||u.kind===r.Invalid)return C({...s,reason:"invalid at conclusion"});const m=u.resourceNames,v=u.resourceTypeNames,f={kind:u.kind,location:u.location,provider:u.provider,resourceGroup:u.resourceGroup,resourceName:"",resourceType:"",subscription:u.subscription,tagName:u.tagName,tagValue:u.tagValue};u.kind===r.Subscription?f.resourceType=c.Subscriptions:u.kind===r.ResourceGroup?f.resourceType=c.ResourceGroups:u.kind===r.Location?f.resourceName=f.location:v.length&&(i?a.machineData.currentResourceTypes?.provider&&(u.nestedResourceTypes?.push(a.machineData.currentResourceTypes),a.machineData.currentResourceTypes.resourceTypes.length&&u.nestedResourceTypes&&(f.resourceType=u.nestedResourceTypes.map((e=>e.provider+"/"+e.resourceTypes.join("/"))).join("/")),f.resourceName=m.join("/")):u.provider&&(f.resourceType=u.provider+"/"+v.join("/"),f.resourceName=m.join("/")));i&&(f.isNestedResourceType=u.isNestedResourceType,f.nestedResourceTypes=u.nestedResourceTypes);return C(f)}(e,i)}const h=e=>e.resourceName&&e.resourceName.split("/")||[],y=r=>{const t=h(r),i=function(r){if(!r.resourceType)return e({area:"PortalInternalShared.ArmId.getResourceTypesWithFallback",level:"warning",message:"Source ArmId is missing the resourceType, this is an invalid ArmId: "+JSON.stringify(r),timestamp:Date.now()}),[];const t=r.resourceType.split("/");return t[0].toLowerCase()!==r.provider?.toLowerCase()?(e({area:"PortalInternalShared.ArmId.getResourceTypesWithFallback",level:"error",message:"Source ArmId had a resourceType where the provider was not the first segment, this is an invalid ArmId: "+JSON.stringify(r),timestamp:Date.now()}),[]):t.slice(1)}(r);return i.map(((e,r)=>e+"/"+t[r])).join("/")},g=e=>{const r=h(e);let t=0;return e.nestedResourceTypes?.map((e=>`/providers/${e.provider}`+(e.resourceTypes.length?"/"+e.resourceTypes.map((e=>e+"/"+r[t++])).join("/"):""))).join("")||""},S=e=>{const r=h(e);let t=0;return e.nestedResourceTypes?.map((e=>`/providers/${e.provider}/`+e.resourceTypes.map((e=>e+"/"+r[t++])).join("/"))).join("")||""},b=e=>`/subscriptions/${e.subscription}`,R=e=>b(e)+`/resourceGroups/${e.resourceGroup}`,w=e=>`${b(e)}/tagNames/${e.tagName}`,x={[r.Location]:{builder:e=>b(e)+`/locations/${e.location}`,sourceMap:{[r.Location]:!0}},[r.Provider]:{builder:e=>R(e)+(e.isNestedResourceType?g(e):`/providers/${e.provider}`),sourceMap:{[r.Provider]:!0,[r.Resource]:!0}},[r.Resource]:{builder:e=>R(e)+(e.isNestedResourceType?S(e):`/providers/${e.provider}/`+y(e)),sourceMap:{[r.Resource]:!0}},[r.ResourceGroup]:{builder:R,sourceMap:{[r.Provider]:!0,[r.Resource]:!0,[r.ResourceGroup]:!0}},[r.Subscription]:{builder:b,sourceMap:{[r.Location]:!0,[r.Provider]:!0,[r.Resource]:!0,[r.ResourceGroup]:!0,[r.Subscription]:!0,[r.SubscriptionProvider]:!0,[r.SubscriptionResource]:!0,[r.SubscriptionTag]:!0,[r.SubscriptionTagValue]:!0}},[r.SubscriptionProvider]:{builder:e=>b(e)+(e.isNestedResourceType?g(e):`/providers/${e.provider}`),sourceMap:{[r.SubscriptionProvider]:!0,[r.SubscriptionResource]:!0}},[r.SubscriptionResource]:{builder:e=>b(e)+(e.isNestedResourceType?S(e):`/providers/${e.provider}/`+y(e)),sourceMap:{[r.SubscriptionResource]:!0}},[r.SubscriptionTag]:{builder:w,sourceMap:{[r.SubscriptionTag]:!0,[r.SubscriptionTagValue]:!0}},[r.SubscriptionTagValue]:{builder:e=>`${w(e)}/tagValues/${e.tagValue}`,sourceMap:{[r.SubscriptionTagValue]:!0}},[r.TenantProvider]:{builder:e=>e.isNestedResourceType?g(e):`/providers/${e.provider}`,sourceMap:{[r.TenantProvider]:!0,[r.TenantResource]:!0}},[r.TenantResource]:{builder:e=>e.isNestedResourceType?S(e):`/providers/${e.provider}/`+y(e),sourceMap:{[r.TenantResource]:!0}}};function T(e){return e.map((e=>({provider:e.provider,resourceTypes:e.resourceTypes?.slice()})))}function N(e){return[r.Resource,r.SubscriptionResource,r.TenantResource].includes(e?.kind)}function A(e){return!!N(e)&&z(e).length>1}function D(e){if(A(e)){let r={};if(e.nestedResourceTypes?.length){const t=e.nestedResourceTypes.length-1;if(e.nestedResourceTypes[t].resourceTypes?.length>1){const i=T(e.nestedResourceTypes);i[t].resourceTypes=i[t].resourceTypes.slice(0,-1),r={isNestedResourceType:e.isNestedResourceType,nestedResourceTypes:i}}else{const t=T(e.nestedResourceTypes).slice(0,-1);r={isNestedResourceType:t.length>1,nestedResourceTypes:t}}}const t=z(e,!0).slice(0,-1),i=E(e).slice(0,-1);return C({...e,...r,resourceName:i.join("/"),resourceType:t.join("/")})}}function P(e){if(A(e)){let r={};if(e.nestedResourceTypes?.length){const t=T(e.nestedResourceTypes).slice(0,1);t[0].resourceTypes=t[0].resourceTypes.slice(0,1),r={isNestedResourceType:!1,nestedResourceTypes:t}}const t=z(e,!0).slice(0,2),i=E(e).slice(0,1);return C({...e,...r,resourceName:i.join("/"),resourceType:t.join("/")})}}function z(e,r){if(!N(e))return[];const t=e.resourceType.split("/");return r?t:t.splice(1)}function E(e){return N(e)?e.resourceName.split("/"):[]}function I(e,r){if(!e)return"";const t=r||e.kind;if(t){const r=x[t];return r?.sourceMap[e.kind||""]?r.builder({...e,kind:t}):""}return""}function C(e){return{...e,getParentResourceArmId:()=>D(e),getParentResourceId:()=>function(e){const r=D(e);return r&&I(r)||""}(e),getResourceNames:()=>E(e),getResourceTypes:r=>z(e,r),getResourceTypeWithoutProvider:r=>z(e,r).join("/"),getRootResourceArmId:()=>P(e),getRootResourceId:()=>function(e){const r=P(e);return r&&I(r)||""}(e),hasParentResourceId:()=>A(e),stringify:r=>I(e,r)}}return{parseArmId:function(e){let r,t;const i=()=>{r={},t=0};return i(),(s,n,o)=>{let a=r[s];void 0===a&&(a={},r[s]=a);const c=`${n?1:0}_${o?1:0}`;let u=a[c];return void 0===u&&(u=e(s,n,o),1e3==t++&&i(),a[c]=u),u}}(((e,r,t)=>f(e,r,t))),stringifyArmId:I,validateArmId:v}};const r={Invalid:"Invalid",Location:"Location",Provider:"Provider",Resource:"Resource",ResourceGroup:"ResourceGroup",Subscription:"Subscription",SubscriptionProvider:"SubscriptionProvider",SubscriptionResource:"SubscriptionResource",SubscriptionTag:"SubscriptionTag",SubscriptionTagValue:"SubscriptionTagValue",TenantProvider:"TenantProvider",TenantResource:"TenantResource"},t={Location:"Location",NestedProvider:"NestedProvider",Provider:"Provider",Resource:"Resource",ResourceGroup:"ResourceGroup",Start:"Start",Subscription:"Subscription",TagName:"TagName",TagValue:"TagValue"}})),
define("@azure/portalfx-internal-services/lib/utilities/createEventHandler",["exports"],(function(e){"use strict";e.createEventHandler=function(){let e=[];return{fireEvent:r=>{e.forEach((e=>e(r)))},subscribe:r=>(e.push(r),()=>{e=e.filter((e=>e!==r))})}}})),
define("@azure/portal-internal-services/lib/services/ResourceService",["exports","@azure/portal-core/lib/services/registerQuery","@azure/portalfx-internal-services/lib/utilities/createEventHandler","@azure/portal-internal-services/lib/services/ArmId"],(function(e,r,t,i){"use strict";e.createResourceService=function(e,c,u){const l=u.get("diagnostic"),d=(0,t.createEventHandler)(),p=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Shell::EssentialsResourceInfo",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getEssentialsResourceInfo",serviceName:"resource"})}),m=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Shell::GlobalResourceFilterName",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getGlobalResourceFilterName",serviceName:"resource"})}),v=(0,r.registerQuery)({name:"Fx::HasResourcePermission",query:async(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"hasPermission",serviceName:"resource"})}),f=(0,r.registerQuery)({name:"Fx::SoftDeleteInfo",query:async({serviceRegistry:e},r)=>{const t=await e.get("armFetch").armFetch({httpMethod:"GET",telemetryCommandName:"softDeleteInfoQuery",url:`${r}/providers/Microsoft.Resources/deleteOptions/default?api-version=2024-10-01-preview`});return 404===t.httpStatusCode?{softDeleteEnabled:!1}:{retentionTime:t.content.properties.retentionTime,softDeleteEnabled:!!t.content.properties.retentionTime}}}),h=(0,r.registerQuery)({cacheOptions:{scope:"view"},name:"Shell::LocalizedResourceTypes",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getLocalizedResourceTypes",serviceName:"resource"})}),y=(0,r.registerQuery)({cacheOptions:{scope:"view"},name:"Fx::ResourceViewReference",query:(r,t,i)=>e.invokeProxiedServiceMethod({methodArgs:[t,i],methodName:"getResourceViewReference",serviceName:"resource"})}),g=(0,r.registerQuery)({cacheOptions:{scope:"view"},name:"Fx::RecentResources",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getRecentResources",serviceName:"resource"})}),S=(0,i.getArmIdApis)(l.log);return{...c(e,"resource",["addRecentResource","getLatestApiVersionForResource","notifyResourceDeleted","setResourceTags","setSoftDeleteInfo"]),...S,essentialsResourceInfoQuery:p,getResourceId:a,globalResourceFilterNameQuery:m,handleEvents:{armEvent:e=>{d.fireEvent(e)}},hasPermissionQuery:v,localizedResourceTypesQuery:h,onArmEvent:d.subscribe,parseResourceMetadata:(e,r)=>{const t=a(e),i=S.parseArmId(t,!0),c=function(e,r){if("Resource"===r.kind){const t=e;let i=t.name||r.resourceName||"";const s=t.tags?.["hidden-title"],n=i.split("/");return n.length>1&&(i=`${n[n.length-1]} (${i})`),s&&`${i} (${s})`||i}if("ResourceGroup"===r.kind){const t=e,i=t.name||r.resourceGroup||"",s=t.tags?.["hidden-title"];return s&&`${i} (${s})`||i}if("Subscription"===r.kind){const t=e;return t.uniqueDisplayName||t.displayName||r.subscription}return null}(e,i);if("Resource"===i.kind||"SubscriptionResource"===i.kind||"TenantResource"===i.kind){const a=e;let u=n(r,i.resourceType.toLowerCase());if(!u&&(u=n(r,S.parseArmId(t).resourceType.toLowerCase()),u||(u=function(e,r){let t;return e.some((e=>{if(e.lowerCaseResourceType&&r.endsWith(e.lowerCaseResourceType))return t=e,!0})),t}(r,i.resourceType.toLowerCase())),!u))return o(i,c);const l=a.kind?.toLowerCase()||u.defaultKind,d=u.kindMap&&(l&&u.kindMap[l]||u.defaultKind&&u.kindMap[u.defaultKind])||void 0,p=(d&&d.options||u.options)?.includes("HideInstances")||!1;return{armId:i,assetType:u,assetTypeKind:d,compositeDisplayName:{lowerPlural:d&&d.lowerPluralDisplayName||u.compositeDisplayName?.lowerPlural||i.resourceType,lowerSingular:d&&d.lowerSingularDisplayName||u.compositeDisplayName?.lowerSingular||i.resourceType,plural:d&&d.pluralDisplayName||u.compositeDisplayName?.plural||i.resourceType,service:d&&d.serviceDisplayName||u.compositeDisplayName?.service||i.resourceType,singular:d&&d.singularDisplayName||u.compositeDisplayName?.singular||i.resourceType},hiddenResource:p,icon:d&&d.icon||u.icon||s,resourceLocation:a.location,resourceName:c}}if("ResourceGroup"===i.kind){const e=n(r,"microsoft.resources/subscriptions/resourcegroups");if(!e)return o(i,c);const t=e.options?.includes("HideInstances")||!1;return{armId:i,assetType:e,compositeDisplayName:{lowerPlural:e.compositeDisplayName?.lowerPlural||i.resourceType,lowerSingular:e.compositeDisplayName?.lowerSingular||i.resourceType,plural:e.compositeDisplayName?.plural||i.resourceType,service:e.compositeDisplayName?.service||i.resourceType,singular:e.compositeDisplayName?.singular||i.resourceType},hiddenResource:t,icon:e.icon||s,resourceName:c}}if("Subscription"===i.kind){const e=n(r,"microsoft.resources/subscriptions");if(!e)return o(i,c);const t=e.options?.includes("HideInstances")||!1;return{armId:i,assetType:e,compositeDisplayName:{lowerPlural:e.compositeDisplayName?.lowerPlural||i.resourceType,lowerSingular:e.compositeDisplayName?.lowerSingular||i.resourceType,plural:e.compositeDisplayName?.plural||i.resourceType,service:e.compositeDisplayName?.service||i.resourceType,singular:e.compositeDisplayName?.singular||i.resourceType},hiddenResource:t,icon:e.icon||s,resourceName:c}}},recentResourcesQuery:g,resourceViewReferenceQuery:y,softDeleteInfoQuery:f}};const s={type:"PolyResourceDefault"};function n(e,r){let t;return e.some((e=>{if(e.lowerCaseResourceType===r)return t=e,!0})),t}function o(e,r){return{armId:e,compositeDisplayName:{lowerPlural:e.resourceType,lowerSingular:e.resourceType,plural:e.resourceType,service:e.resourceType,singular:e.resourceType},hiddenResource:!0,icon:s,resourceName:r}}function a(e){return e.id||e.subscriptionId&&"/subscriptions/"+e.subscriptionId}})),
define("@azure/portal-internal-services/lib/services/SubscriptionService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createSubscriptionService=function(e,t){const i=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Shell::GlobalSubscriptions",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getGlobalSubscriptions",serviceName:"subscription"})}),s=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Shell::SelectedSubscriptions",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getSelectedSubscriptions",serviceName:"subscription"})}),n=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Shell::Subscription",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getSubscription",serviceName:"subscription"})});return{...t(e,"subscription",["canRegisterSubscriptionWithRPs","getSubscriptionsIsPartialSet","setSelectedSubscriptions"]),globalSubscriptionsQuery:i,selectedSubscriptionsQuery:s,subscriptionQuery:n}}})),
define("@azure/portal-internal-services/lib/services/TenantService",["exports","@azure/portal-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createTenantService=function(e){return{tenantsQuery:(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Shell::Tenants",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getTenants",serviceName:"tenant"})})}}})),
define("@azure/portalfx-internal-services/lib/services/AuthenticationService",["exports","@azure/portalfx-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createAuthenticationService=function(e,t,i){const s=(0,r.registerQuery)({cacheOptions:{expires:e=>Math.max(e?.expiresAt?e.expiresAt-3e5:0,Date.now()+1e4),scope:"session",staleAfter:e=>e?.expiresAt?e.expiresAt-6e5:0},getKey:e=>JSON.stringify([{resourceName:"",...e}]),name:"Shell::AuthToken",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getAuthorizationToken",serviceName:"authentication"})});return{...t(e,"authentication",["forceSignIn","getOAuthTokenCallbackURL"]),authorizationTokenQuery:s,getAuthorizationToken:e=>s.bind(i,e).get()}}})),
define("@azure/portalfx-internal-services/lib/utilities/applyStructuralSharing",["exports"],(function(e){"use strict";function r(e,r){return t(e,r)}function t(e,i){if(e===i)return e;if(null==e||null==i)return i;if(Array.isArray(e)!==Array.isArray(i)||typeof e!=typeof i)return i;if(Array.isArray(e)){if(e.length===i.length){const r=[];let s=!0;for(let n=0;n<i.length;n++)r[n]=t(e[n],i[n]),r[n]!==e[n]&&(s=!1);return s?e:r}}else if("object"==typeof e){const t={};let s=!0;for(const n of Object.keys(i))t[n]=r(e[n],i[n]),t[n]!==e[n]&&(s=!1);return s&&Object.keys(e).length===Object.keys(i).length?e:t}return i}e.applyStructuralSharing=r})),
define("@azure/portalfx-internal-services/lib/services/CacheService",["exports","@azure/portalfx-core/lib/utilities/ensureSerializable","@azure/portalfx-internal-services/lib/utilities/applyStructuralSharing"],(function(e,r,t){"use strict";e.createCacheService=function(e,n){let o=0;const a={},c={};let u=e.cacheEntries;function l(e){let r=a[e];return r||(r=a[e]={cacheEntry:{...s},pendingRequests:[]}),r}function d(r,t,s,a){const{expires:c,scope:u="session",sharedWith:l,skipStructuralSharing:d,staleAfter:m=i,useJsonSerialization:v=!1}=s,f=Date.now(),h=a||f,y="unset"===t.state||void 0===c?Number.MAX_SAFE_INTEGER:"function"==typeof c?c("data"in t?t.data:void 0):f+1e3*c,g="unset"===t.state?0:"function"==typeof m?m("data"in t?t.data:void 0):f+1e3*m,S={...t,completed:f,expires:y,sequenceId:o++,skipStructuralSharing:d,staleAfter:g,started:h};if(p(r,S),"session"===u)try{e.invokeProxiedServiceMethod({methodArgs:[{entry:S,id:r,scope:u,sharedWith:l}],methodName:"updateEntry",serviceName:"cache",useJsonSerialization:v})}catch(e){n.get("diagnostic").log({area:"cache",args:[{cacheId:r},e.message],level:"error",message:`Failed to serialize cache entry to shell. When using the cache service (including queries or DataCache) with session scope, the object being cached must be serializable. Details: ${e.message}`})}}function p(e,r){const i=l(e);r.skipStructuralSharing||"resolved"!==r.state||"resolved"!==i.cacheEntry.state||(r.data=(0,t.applyStructuralSharing)(i.cacheEntry.data,r.data)),i.cacheEntry=r,i.pendingRequests=i.pendingRequests.filter((e=>e.requestStarted>r.started));const s=c[e];if(s?.length&&!v(i)){const e=m(i);s.forEach((r=>r(e)))}}function m(e){const r=e.cacheEntry,t=Date.now(),i=r.expires<t,s=i||r.staleAfter<t;return{completed:r.completed,error:"rejected"===r.state?r.error:void 0,expired:i,expires:r.expires,stale:s,staleAfter:r.staleAfter,started:r.started,state:r.state,updating:e.pendingRequests.length>0,value:"resolved"===r.state?r.data:void 0}}function v(e){return Boolean(e.cacheEntry.sharedBy&&!e.sharedWith?.has(e.cacheEntry.sharedBy))}const f=e=>{let r=l(e);return v(r)&&(r={...r,cacheEntry:s}),m(r)},h=(e,t,i={},s={})=>{const{forceNewRequest:n}=s,o=l(e);if(n||0===o.pendingRequests.length){const s={promise:t().then((e=>({data:e,state:"resolved"})),(e=>({error:(0,r.ensureSerializable)(e),state:"rejected"}))).then((r=>{if(o.pendingRequests.some((e=>e===s))&&(o.pendingRequests=o.pendingRequests.filter((e=>e!==s)),d(e,r,i,s.requestStarted)),"rejected"===r.state)throw r.error;return r.data})),requestStarted:Date.now()};o.pendingRequests.push(s)}return o.pendingRequests[o.pendingRequests.length-1].promise},y=e=>{const{entry:r,id:t}=e,i=l(t),s=i.cacheEntry;(r.started>s.started||r.started===s.started&&r.sequenceId>s.sequenceId)&&(r.sharedBy&&i.sharedWith&&!i.sharedWith.has(r.sharedBy)||p(t,r))};return u?.then((e=>{u=void 0;for(const[r,t]of Object.entries(e))p(r,t)})),{clear:(e,r={})=>{d(e,{state:"unset"},r)},get:f,getAllEntryIds:()=>Object.keys(a),getAsync:async(e,r,t)=>{const i=f(e);if("resolved"===i.state&&!i.expired)return i.value;return h(e,r,t)},handleEvents:{entryUpdated:e=>{u?u.then((()=>y(e))):y(e)}},setAsync:h,setError:(e,t,i={})=>{d(e,{error:(0,r.ensureSerializable)(t),state:"rejected"},i)},setSharedExtensions:(e,r)=>{l(e).sharedWith=r},setValue:(e,r,t={})=>{d(e,{data:r,state:"resolved"},t)},subscribe:(e,r)=>{l(e),c[e]||(c[e]=[]);return c[e].push(r),()=>{c[e]=c[e].filter((e=>e!==r))}}}};const i=5;const s={completed:0,expires:Number.MAX_SAFE_INTEGER,sequenceId:0,staleAfter:0,started:0,state:"unset"}})),
define("@azure/portalfx-internal-services/lib/services/DiagnosticService",["exports","@azure/portalfx-core/lib/utilities/ensureSerializable"],(function(e,r){"use strict";e.createDiagnosticService=function(e){return{log:(...t)=>{if(t.length){const i=Date.now();e.log(t.map((e=>({...(0,r.ensureSerializable)(e),timestamp:e.timestamp??i}))))}},recordMetric:t=>{e.recordMetric({...(0,r.ensureSerializable)(t),timestamp:t.timestamp??Date.now()})},trace:(...t)=>{if(t.length){const i=Date.now();e.trace(t.map((e=>({...(0,r.ensureSerializable)(e),timestamp:e.timestamp??i}))))}}}}})),
define("@azure/portalfx-internal-services/lib/services/EnvironmentService",["exports"],(function(e){"use strict";e.createEnvironmentService=function(e){let r={};e.parameters.then((e=>{r=e}));const t=r=>e.features[r.toLowerCase()]?.toString();return{getBrowserTabId:()=>e.browserTabId,getEnvironmentValue:r=>e.environment[r],getExtensionContentRootUrl:()=>e.extensionContentRoot,getExtensionName:()=>e.extensionName,getFeatureValue:t,getPortalUrl:()=>e.location.portalUrl,getSessionId:()=>e.sessionId,getViewName:()=>e.viewName,getViewParameters:()=>r,isFeatureEnabled:e=>{const r=t(e);return!!r&&"false"!==r.toLowerCase()}}}})),
define("@azure/portal-internal-shared/lib/ExperimentationProvider",["exports"],(function(e){"use strict";var r;e.ExperimentationProvider=void 0,e.union=o,function(e){e.DefaultVariableNamespace="azureportal_",e.ExperimentationFeature="experimentation",e.FlightsFeature="experimentationflights"}(r||(r={}));const t=/^\w[\w-]*$/,i="ReactView/Experimentation",s="complete",n="cancel";function o(e,r){return[...e,...r].filter(((e,r,t)=>t.indexOf(e)===r))}function a(e){return null==e}e.ExperimentationProvider=class{_firstAccessTraced;_getValueMemoizeMap=new Map;_hasFlightMemoizeMap=new Map;_timer;_trace;_traceFirstAccess;_waitTimeout;_whenAvailable=function(){const e={};return e.promise=new Promise(((r,t)=>{e.reject=t,e.resolve=r})),e}();data={assignmentContext:"",flights:[],variables:Object.create(null)};isAvailable=!1;constructor(e){this._trace=e.trace||(()=>{}),this._traceFirstAccess=e.traceFirstAccess,this._waitTimeout=e.waitTimeout}_getValue(e,r,t){this.markTelemetry();const o=function(e,r){e=(e||"").toLowerCase(),e.startsWith("azureportal_")||(e=(r=r?.toLowerCase()||"azureportal")+"_"+e);return e}(e,r),c=this._getValueMemoizeMap,u=e=>a(e)?e:t(e);if(c.has(o))return u(c.get(o));const l=this.data.variables?.[o],d=u(l),p=this.isAvailable;return c.set(o,l),p&&a(l)||this._trace({action:"GetValue",actionModifier:p?s:n,data:{value:d},name:o,source:i}),d}_normalizeAssignments(e,i){const s=(i.flightsFeature||"").toLowerCase().split(";").filter((e=>t.test(e))),n=i?.fromQuery||{},a=Object.keys(n).filter((e=>{return r="exp.",e.startsWith(r);var r})).reduce(((e,t)=>(e[function(e){(e=e.toLowerCase()).includes("_")||(e=r.DefaultVariableNamespace+e);return e}(t.substring(4))]=n[t],e)),Object.create(null)),c=o((e=e||{}).flights||[],s).sort(),u=Object.create(null);var l,d;l=e.variables||{},d=(e,r)=>{u[e.toLowerCase()]=r},l&&Object.keys(l).forEach((e=>{d(e,l[e])})),function(e,r){for(const t in r)e[t]=r[t]}(u,a);return{assignmentContext:!s.length&&!Object.keys(a).length&&e.assignmentContext||"",flights:c,variables:u}}_startTelemetry(){!this._traceFirstAccess||this._firstAccessTraced||this.isAvailable||this._timer||(this._timer=function(){const e=Date.now();return()=>Date.now()-e}())}__setAssignments(e,r){this.data=this._normalizeAssignments(e,r),this.isAvailable=!0,this._whenAvailable.resolve()}getBooleanValue(e,r){return this._getValue(e,r,(e=>"boolean"==typeof e?e:"string"==typeof e?4===e.length&&"true"===e.toLowerCase():null))}getNumberValue(e,r){return this._getValue(e,r,(e=>{const r=parseFloat(e);return isNaN(r)?null:r}))}getStringValue(e,r){return this._getValue(e,r,(e=>String(e)))}hasFlight(e){this.markTelemetry();const r=e.toLowerCase(),t=this._hasFlightMemoizeMap;if(t.has(r))return!!t.get(r);const o=this.isAvailable,a=o&&!!~this.data.flights.indexOf(r);return t.set(r,a),this._trace({action:"HasFlight",actionModifier:o?s:n,data:a,name:r,source:i}),a}markTelemetry(){const e=this.isAvailable;if(this._traceFirstAccess&&this._firstAccessTraced!==e){const r=this._timer?.()||0,t=e?0===r?"Experimentation-FlightsAlreadyAvailable":"Experimentation-ExtensionWaitedForFlights":"Experimentation-ExtensionTimeout";let o={assignmentContext:this.data.assignmentContext};e&&(this._hasFlightMemoizeMap.size||this._getValueMemoizeMap.size)&&(this.data.flights.filter((e=>this._hasFlightMemoizeMap.has(e))).length||Object.keys(this.data.variables).filter((e=>this._getValueMemoizeMap.has(e))).length)&&(o={assignmentContext:""}),this._firstAccessTraced=e,this._trace({action:t,actionModifier:e?s:n,data:o,duration:r,source:i})}}async whenAvailable(e){return this._startTelemetry(),this.isAvailable||await function(e,r){return Promise.race([e,new Promise(((e,t)=>setTimeout((()=>e()),r)))])}(this._whenAvailable.promise,e??this._waitTimeout),this}}})),
define("@azure/portalfx-internal-services/lib/services/ExperimentationService",["exports","@azure/portal-internal-shared/lib/ExperimentationProvider"],(function(e,r){"use strict";e.createExperimentationService=function(e,s){const n=s.get("cache"),o=new r.ExperimentationProvider({trace:e=>s.get("diagnostic").trace({...e,timestamp:Date.now()}),traceFirstAccess:!1,waitTimeout:1e4}),a=new r.ExperimentationProvider({trace:e=>s.get("diagnostic").trace({...e,timestamp:Date.now()}),traceFirstAccess:!0,waitTimeout:300});return n.subscribe(t,(r=>{void 0!==r.value&&o.__setAssignments(r.value,e.queryStringAssignments)})),n.subscribe(i(e.extensionName),(r=>{void 0!==r.value&&a.__setAssignments(r.value,e.queryStringAssignments)})),{extensionAssignments:a,shellAssignments:o}},e.extensionExperimentationAssignmentsQueryId=e.experimentationShellAssignmentsQueryId=void 0;const t=e.experimentationShellAssignmentsQueryId=":query:Shell::ExperimentationShellAssignments:[]",i=e=>`:query:Shell::ExtensionExperimentationAssignments:${JSON.stringify([e])}`;e.extensionExperimentationAssignmentsQueryId=i})),
define("@azure/portalfx-internal-services/lib/services/FetchService",["exports","@azure/portalfx-core/lib/services/registerQuery","@azure/portalfx-internal-services/lib/utilities/fetchWithRetry"],(function(e,r,t){"use strict";e.createFetchService=function(e,i,s){const n=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Fx::ClientIpv4Address",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getClientIPv4Address",serviceName:"fetch"})}),o=(0,r.registerQuery)({cacheOptions:{scope:"session"},name:"Fx::ClientIpv6Address",query:()=>e.invokeProxiedServiceMethod({methodArgs:[],methodName:"getClientIPv6Address",serviceName:"fetch"})});return{...i(e,"fetch",["corsFetch"]),clientIPv4AddressQuery:n,clientIPv6AddressQuery:o,fetch:(e,r,i)=>(0,t.fetchWithRetry)(e,s.get("diagnostic"),i?.retry??!1,"FetchService - fetch with retry",r)}}})),
define("@azure/portalfx-internal-services/lib/services/GlobalizationService",["exports"],(function(e){"use strict";e.createGlobalizationService=function(e){const r=e.effectiveLocale.split("."),t=r[0],i=r[1]||r[0];return{displayLanguage:t,formatCulture:i,getDateTimeFormat:e=>new Intl.DateTimeFormat(i,e),getNumberFormat:e=>new Intl.NumberFormat(i,e)}}})),
define("@azure/portalfx-internal-services/lib/services/IconService",["exports","@azure/portalfx-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createIconService=function(e){return{frameworkIconQuery:(0,r.registerQuery)({cacheOptions:{scope:"session",staleAfter:Number.MAX_SAFE_INTEGER},name:"Fx::FrameworkIcon",query:(r,t)=>e.invokeProxiedServiceMethod({methodArgs:[t],methodName:"getFrameworkIcon",serviceName:"icon"})})}}})),
define("@azure/portal-internal-shared/lib/UriScrubber",["exports"],(function(e){"use strict";e.localizedSanitizers=void 0,e.runRules=n,e.sanitizeUriComponent=s,e.scrubUri=function(e,t){if(!e)return e;try{return function(e){const t=new URL(e,r),i=s(decodeURIComponent(t.hostname)).replace(/^\/+/,""),n=s(decodeURIComponent(t.pathname)).replace(/^\/+/,""),o=`${t.protocol.replace(/\/+$/,"")}//${i}${t.port?`:${t.port}`:""}/${n}`;return o.startsWith(r)?o.substring(r.length):o}(e)}catch(r){return t(`'scrubUri' caught an exception scrubbing invalid URI '${e}'`,r),null}},e.setObjectIdToScrub=function(e){e&&(t[0]=new RegExp(e.replace(/[\-[\]/{}()*+?.\\^$|]/g,"\\$&"),"gi"),t[1]="_REDACTED_CURRENT_USER_OBJECTID_")};const r="https://test.test",t=[null,null],i=[...e.localizedSanitizers=[[/([?&;])sig=[\w%-]+/gi,"$1sig=_REDACTED_SAS_TOKEN_SIG_"],[/([?&;])code=[\w%+/=-]+/gi,"$1code=_REDACTED_CODE_"],[/([?&/]|%2F)(SourceKey|DestKey)(=|%3A|%3D|:)(?:[\w/-]|%2F)+(?:==|%3D%3D)/gi,"$1$2$3_REDACTED_AZCOPY_TOKEN_"],[/(\W)[\w+/-]{86}==(\W)/g,"$1_REDACTED_ACCESS_KEY_$2"],[/(?:eyJ0eXAi|eyJhbGci)[\w\-.~+/%]*/gi,"_REDACTED_JWT_TOKEN_"],[/("|'|%22)(bearer |bearer%20)[\w\-.~+/]{100,}("|'|%22)/gi,"$1$2_REDACTED_BEARER_TOKEN_$3"],[/("|')(ssh-rsa )AAAA[\w\-.~+/]{100,}("|')/gi,"$1$2_REDACTED_SSH_KEY_$3"],[/\b[\w.%#+-]+(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_$1$2"],t,[/\/users\/[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}\b/gi,"/users/_REDACTED_OBJECTID_"]],[/\b_REDACTED_EMAIL_(%40|@)([a-z0-9.-]*\.[a-z]{2,})\b/gi,"_REDACTED_EMAIL_"],[/([0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12})\b/gi,"_REDACTED_GUID_"]];function s(e){return e=n(e,i)}function n(e,r){return r.forEach((r=>r[0]&&r[1]&&(e=e.replace(r[0],r[1])))),e}})),
define("@azure/portal-internal-shared/lib/LinkSanitizer",["exports","@azure/portal-internal-shared/lib/DomainValidator","@azure/portal-internal-shared/lib/UriScrubber"],(function(e,r,t){"use strict";e.getLinkSanitizer=function({domainValidatorLoggingOptions:e,experimentation:n,extensionName:o,linkedDomainMap:a,logError:c,portalUri:u,shellTrustedLinkedDomains:l,trustedLinkedDomains:d}){const p=new URL("verifyLink",new URL(u+"/")).href,m=new URL(u).origin,v=[...new Set([m,...l])],f=a||{},h=Object.keys(f).map((e=>[new RegExp(`^(\\w+:|)//(${e.replaceAll(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})\\b`,"i"),`$1//${f[e]}`])),y={...e,fxTrustedDomains:[]},g=n.verifyTopLevelDomainsFeature()&&[...new Set(Object.keys(f).map((e=>f[e])).map((e=>e.substring(e.indexOf(".")+1)))),m],S=new Map;function b(e,r){const t=S.get(r);return!!t&&t(e)}function R(e,t){let i=S.get(e);if(void 0===i){if(Array.isArray(t)&&t.length){const r=[];t=t.filter((e=>!s.some((r=>e.toLowerCase().includes(r)))||(r.push(e),!1))),r.length>0&&c({domains:r.join(", "),extension:e},`The following domains are not allowed in the trusted linked domains: ${r.join(", ")}.`)}i=(0,r.getDomainValidator)({...y,extensionTrustedDomains:"fx"!==e&&t?t:[],fxTrustedDomains:v}).validateDomain,S.set(e,i)}}return R(o,d),{getSafeLink:function(e,r,s){if(e&&(e.includes("://")||e.startsWith("//"))){if(s||(e=e.replace(i,((e,t,i,s,n)=>{let o="https://learn.microsoft.com/"+n;return-1===n.toLowerCase().indexOf("wt.mc_id=")&&(o+=(n.includes("?")?"&":"?")+"WT.mc_id=Portal-"+encodeURIComponent(r||"fx")),o})),h.forEach((r=>{e=e.replace(r[0],r[1])}))),g&&!g.some((r=>e.includes(r)))){const i=(0,t.scrubUri)(e,c);c({extension:r,uri:i},`"${i}" does not pass top level domain validation.`)}if((n.verifyExternalLinksFeature()||n.verifyExternalLinksExperiment())&&!b(e,r))return`${p}?href=${encodeURIComponent(e)}&id=${r??"null"}`}return e},isTrustedDomainLink:b,processTrustedLinkedDomains:R}};const i=/^https?:\/\/(www\.)?(docs|learn)\.microsoft\.com(\/en-us)?\/([^#]*)/i,s=["aka.ms","go.microsoft.com","bit.ly","tinyurl.com","portal.azure.com"]})),
define("@azure/portal-internal-shared/lib/LinkUtils",["exports"],(function(e){"use strict";function r(e,r){let t,n,o="";return e&&Object.entries(e).forEach((([e,a])=>{if("editScopeId"!==e)if(r){if(e.endsWith(i.JSON))return t=s.UnableToSerializeInputKey,void(n=e);let r,c;const u=function(e){let r=typeof e;"object"===r&&(null===e?r="null":Array.isArray(e)?r="array":e instanceof Date?r="date":e instanceof RegExp&&(r="regexp"));return r}(a);switch(u){case"array":case"boolean":case"null":case"number":case"object":c=i.JSON;try{r=JSON.stringify(a)}catch(e){t=s.UnableToSerializeInputJSONStringifyFailed,n=JSON.stringify(e.message)}break;case"date":t=s.UnableToSerializeInputTypeDate,n="The input model contains a Date object which cannot be serialized in a roundtrippable way from Fx. A future upgrade will JSON stringify this input and the resulting deep link may not be navigable reliably. If using Date object to navigate to content, serialize the Date as part of the input model using the `toISOString()` method and parse this value on the initialization phase of the content.";break;case"string":c=i.Plain,r=a;break;case"undefined":break;default:t=s.UnableToSerializeInputTypeOther,n=u}void 0!==r&&void 0!==c&&(o+=`/${encodeURIComponent(e)}${c}/${encodeURIComponent(r)}`)}else a&&"object"==typeof a&&(a=JSON.stringify(a)),void 0!==a&&(0===a&&(a="0"),o+=`/${encodeURIComponent(e)}/${encodeURIComponent(a||"")}`)})),{lastFoundUnableToSerializeInputDetails:n,lastFoundUnableToSerializeInputReason:t,serializedInputs:o}}e.ReasonNotDeepLinkable=e.DeepLinkV2TypeMarker=void 0,e.getViewDeepLink=function(e){const{extensionName:n,hashQuery:o,portalUri:a,selectedMenuItemId:c,setDeepLinkContext:u,v2DeepLink:l,viewName:d,viewParameters:p}=e,m=a?new URL(a):void 0,{lastFoundUnableToSerializeInputDetails:v,lastFoundUnableToSerializeInputReason:f,serializedInputs:h}=r(p,l);if(f)return u&&u(m?.toString()||"",!1,f,v),"";let y=h;c&&(y=(l?`/${i.MenuBlade}/`:"/")+c+y);const g=`#${l?"view":"blade"}/${n}/${d}${y}${o}`;m&&(m.hash=g);if(g.length>t)return u&&u(m?.toString()||g,!1,s.InputsExceedURILength),"";return u&&u(m?.toString()||g,!0),m?m.toString():g},e.maxUrlLength=void 0,e.serializeViewInputs=r;const t=e.maxUrlLength=1e6,i=e.DeepLinkV2TypeMarker={JSON:"~",MenuBlade:"~",Plain:""};var s;!function(e){e.BladeHasOutputs="BladeHasOutputs",e.BladeNotPinnableCannotUpgrade_NestedTooDeep="BladeNotPinnableCannotUpgrade_NestedTooDeep",e.BladeNotPinnableCannotUpgrade_NestedTooDeepCyclic="BladeNotPinnableCannotUpgrade_NestedTooDeepCyclic",e.BladeNotPinnableCannotUpgrade_UnsupportedArray="BladeNotPinnableCannotUpgrade_UnsupportedArray",e.BladeNotPinnableCannotUpgrade_UnsupportedDate="BladeNotPinnableCannotUpgrade_UnsupportedDate",e.BladeNotPinnableCannotUpgrade_UnsupportedType="BladeNotPinnableCannotUpgrade_UnsupportedType",e.BladeNotPinnableCannotUpgrade_UnsupportedTypeCanBeSupported="BladeNotPinnableCannotUpgrade_UnsupportedTypeCanBeSupported",e.InputsExceedURILength="InputsExceedURILength",e.UnableToSerializeInputJSONStringifyFailed="UnableToSerializeInputJSONStringifyFailed",e.UnableToSerializeInputKey="UnableToSerializeInputKey",e.UnableToSerializeInputTypeDate="UnableToSerializeInputTypeDate",e.UnableToSerializeInputTypeOther="UnableToSerializeInputTypeOther"}(s||(e.ReasonNotDeepLinkable=s={}))})),
define("@azure/portalfx-internal-services/lib/utilities/proxyHelpers",["exports"],(function(e){"use strict";e.getProxyMethodGenerator=function(){return(e,r,t)=>{const i={};for(const s of t)i[s]=(...t)=>e.invokeProxiedServiceMethod({methodArgs:t,methodName:s,serviceName:r});return i}},e.replaceCallbackProperties=function(e,r,t,i){if(e.getProxyServiceCallbackStub){const s={...r};for(const r of t)"function"==typeof s[r]&&(s[r]=e.getProxyServiceCallbackStub(s[r],i));return s}return r}})),
define("@azure/react-utilities/lib/utilities/assert",["exports"],(function(e){"use strict";function r(e,r){if(!e)throw new Error(r)}e.assert=r,e.assertPropertiesAreDefined=function(e,...t){for(const i of t)r(void 0!==e[i],`${i.toString()} must be defined.`)}})),
define("@azure/portalfx-internal-services/lib/services/NavigationService",["exports","@azure/portal-internal-shared/lib/LinkSanitizer","@azure/portal-internal-shared/lib/LinkUtils","@azure/react-utilities/lib/utilities/assert","@azure/portalfx-internal-services/lib/utilities/createEventHandler","@azure/portalfx-internal-services/lib/utilities/proxyHelpers"],(function(e,r,t,i,s,n){"use strict";function o(e,r){let t={...{...r,supplyInitialData:void 0,supplyProviderConfig:void 0},initialData:"supplyInitialData"in r?r.supplyInitialData?.():void 0,providerConfig:"supplyProviderConfig"in r?r.supplyProviderConfig?.():void 0};return t=(0,n.replaceCallbackProperties)(e,t,["onClosed","receiveResult"],{disposeAfterUse:!0}),t}e.createNavigationService=function(e,n,a){const c=(0,s.createEventHandler)();let u=e.initialDeepLink;return{...n(e,"navigation",["closeChildView","closeContextPane","closeCurrentView","getNavigationHistory","navigateToDeepLink"]),getCurrentDeepLink:()=>u,getCurrentViewName:()=>e.viewName,getSafeLink:t=>{const i=a.get("diagnostic");return(0,r.getLinkSanitizer)({domainValidatorLoggingOptions:{effectiveLocale:e.effectiveLocale,logFailures:(e,r,t,s,n)=>{i.log({area:"SharedLinkSanitizer",level:"warning",message:`URI "${e}" (domain "${r}") failed validateDomain; reason: "${t}"; effective locale: "${s}"; trustedDomains: ${n}`,timestamp:Date.now()})}},experimentation:{verifyExternalLinksExperiment:()=>!0,verifyExternalLinksFeature:()=>!1,verifyTopLevelDomainsFeature:()=>a.get("environment").isFeatureEnabled("verifytopleveldomains")},extensionName:e.extensionName,linkedDomainMap:e.linkedDomainMap,logError:(r,t)=>{i.log({area:e.extensionName,level:"error",message:t,timestamp:Date.now()})},portalUri:e.location.portalUrl,shellTrustedLinkedDomains:e.shellTrustedLinkedDomains,trustedLinkedDomains:e.trustedLinkedDomains}).getSafeLink(t,e.extensionName)},getViewUrl:(r,s)=>{(0,i.assert)("provisioning"!==r.referenceType,"Use getAssetUrl instead.");const n={extensionName:r.extensionName,hashQuery:e.location.hashQuery,portalUri:e.location.portalUrl,v2DeepLink:!0,viewName:r.viewName,viewParameters:r.parameters};let o=(0,t.getViewDeepLink)(n);if(s?.includeUrlQueryParams&&e.urlQueryParams){const r=o.indexOf("#"),t=o.substring(0,r),i=o.substring(r);o=t+e.urlQueryParams+i}return o},handleEvents:{currentDeepLinkChanged:e=>{u=e,c.fireEvent(u)}},onDeepLinkChanged:c.subscribe,openView:(r,t)=>{const i=o(e,r);return e.invokeProxiedServiceMethod({methodArgs:[i,t],methodName:"openView",serviceName:"navigation"})}}},e.createProxiedViewReference=o})),
define("@azure/portalfx-internal-services/lib/services/PerformanceService",["exports"],(function(e){"use strict";e.ReactViewLifecycleEvents=void 0,e.createPerformanceService=function(e,i){const s=new Map,n=[];let o,a=!1;const c=e.viewLoadStartTime;let u=!1;const l=i.get("diagnostic"),d=()=>{o||!a||s.size>0||(o=Date.now(),n.push({duration:0,end:o,id:t.Interactive,start:o}))},p=(e,r)=>{u||s.has(e)||s.set(e,r??Date.now())},m=(e,r)=>{if(u)return;const i=s.get(e);void 0!==i&&(s.delete(e),r=r??Date.now(),n.push({duration:r-i,end:r,id:e,start:i}),e===t.RenderNodeIntoRoot&&(a=!0),d())};return e.registerForDispose((()=>{if(u||0===n.length)return void(u=!0);d(),u=!0;let e=n.map((e=>({duration:e.end-e.start,end:e.end-c,id:e.id,start:e.start-c})));const i=new Set(Object.values(t)),s=e.filter((e=>i.has(e.id))),a=e.filter((e=>!i.has(e.id))).filter((e=>0!==e.duration)).slice(0,r);e=[...s,...a].sort(((e,r)=>e.start-r.start));const p=void 0!==o?o-c:o;l.trace({action:"ReactViewInteractive",actionModifier:void 0!==p?"complete":"cancel",data:{events:e,interactiveAt:p},source:"PerformanceService"})})),{logAsyncEnd:m,logAsyncStart:p,logEvent:(e,r,t)=>{if(u)return;n.push({duration:t-r,end:t,id:e,start:r})},registerAsyncWork:e=>{const r=`${e}:${crypto.randomUUID()}`;p(r);const t={cancel:()=>{s.delete(r)},complete:()=>{t.completed=!0,m(r)},completed:!1,id:r};return t}}};const r=50,t=e.ReactViewLifecycleEvents={Interactive:"Shell::ReactViewEvent:Interactive",LoadDataFetcherModules:"Shell::ReactViewEvent:LoadDataFetcherModules",LoadReactViewModules:"Shell::ReactViewEvent:LoadReactViewModules",RenderNodeIntoRoot:"Shell::ReactViewEvent:RenderNodeIntoRoot"}})),
define("@azure/portalfx-internal-services/lib/services/QueryTelemetryService",["exports"],(function(e){"use strict";e.createQueryTelemetryService=function(e,r){let t={};e.registerForDispose((()=>i()));const i=()=>{if(!Object.keys(t).some((e=>t[e].length>0)))return void(t={});const e={};Object.keys(t).forEach((r=>{const i={};let s=-1;e[r]={},t[r].forEach((t=>{let n=i[t.key];n||(n=`args:[${++s}]`,i[t.key]=n),e[r][n]||(e[r][n]={hit:{entryStatus:[],timestamp:[]},miss:{end:[],entryStatus:[],start:[]}});const o=e[r][n];"hit"===t.cacheStatus?o.hit.timestamp.length<30&&(o.hit.entryStatus.push(t.entryStatus),o.hit.timestamp.push(t.timestamp)):(o.miss.end.push(t.end),o.miss.entryStatus.push(t.entryStatus),o.miss.start.push(t.start))}))})),r.get("diagnostic").trace({action:"QueryTelemetry",actionModifier:"complete",data:e,source:"QueryTelemetryService",timestamp:Date.now()}),t={}};return{flush:i,getQueryTelemetry:()=>t,traceQueryTelemetry:(e,r)=>{t[e]||(t[e]=[]),t[e].push(r)}}}})),
define("@azure/portalfx-internal-services/lib/services/SupportService",["exports"],(function(e){"use strict";e.createSupportService=function(e,r){return{...r(e,"support",["openHelpPane"])}}})),
define("@azure/portalfx-internal-services/lib/services/ThemeService",["exports","@azure/portalfx-internal-services/lib/utilities/createEventHandler"],(function(e,r){"use strict";function t(e){return{mode:e}}e.createThemeService=function(e){const i=(0,r.createEventHandler)();let s=t(e.theme);return{getTheme:()=>s,handleEvents:{themeChanged:e=>{s=t(e.mode),i.fireEvent(s)}},onThemeChanged:i.subscribe}}})),
define("@azure/portalfx-internal-services/lib/services/UserService",["exports","@azure/portalfx-core/lib/services/registerQuery"],(function(e,r){"use strict";e.createUserService=function(e){return{userInfoQuery:(0,r.registerQuery)({cacheOptions:{scope:"session",staleAfter:Number.MAX_SAFE_INTEGER},name:"Fx::UserInfo",query:()=>e.userInfo})}}})),
define("@azure/portalfx-internal-services/lib/services/ViewHostService",["exports","@azure/portalfx-internal-services/lib/utilities/createEventHandler","@azure/portalfx-internal-services/lib/services/NavigationService"],(function(e,r,t){"use strict";e.createViewHostService=function(e,i){const s=(0,r.createEventHandler)(),n=(0,r.createEventHandler)(),o=(0,r.createEventHandler)();let a,c=Boolean(e.fullScreenMode),u=e.sideBarLayoutMode,l=e.viewLayoutMode,d=[];const p=()=>{const r=d.filter((e=>!!e.message)).map((e=>e.message)),t=r.length>0?r.join("\n"):void 0;a!==t&&(a=t,e.invokeProxiedServiceMethod({ignoreResponse:!0,methodArgs:[t],methodName:"setAlertOnViewCloseMessage",serviceName:"viewHost"}))};return{...i(e,"viewHost",["setViewIcon","setViewTitle","toggleFullScreenMode","toggleSideBar","setViewLayoutMode"]),getFullScreenMode:()=>c,getSideBarLayoutMode:()=>u,getViewLayoutMode:()=>l,handleEvents:{fullScreenModeChanged:e=>{c=e.active,s.fireEvent(c)},sideBarLayoutModeChanged:e=>{u=e,n.fireEvent(u)},viewLayoutModeChanged:e=>{l=e,o.fireEvent(l)}},hasParentMenu:()=>Boolean(e.hasParentMenu),hasParentMenuItem:r=>e.invokeProxiedServiceMethod({methodArgs:[r],methodName:"hasParentMenuItem",serviceName:"viewHost"}),inContextPane:()=>Boolean(e.inContextPane),onFullScreenModeChanged:s.subscribe,onSideBarLayoutModeChanged:n.subscribe,onViewLayoutModeChanged:o.subscribe,registerAlertOnViewClose:()=>{const e={disable:()=>{e.message=void 0,p()},enable:r=>{e.message=r,p()},message:void 0,unregister:()=>{d=d.filter((r=>r!==e)),p()}};return d.push(e),e},setSelectedParentMenuItem:(r,i)=>e.invokeProxiedServiceMethod({methodArgs:[r,i?(0,t.createProxiedViewReference)(e,i):void 0],methodName:"setSelectedParentMenuItem",serviceName:"viewHost"}),setViewError:r=>{e.invokeProxiedServiceMethod({ignoreResponse:!0,methodArgs:[r],methodName:"setViewError",serviceName:"viewHost"})}}}})),
define("@azure/portalfx-core/lib/utilities/createViewReference",["exports","@azure/react-utilities/lib/utilities/assert"],(function(e,r){"use strict";e.createViewReference=function(e){(0,r.assertPropertiesAreDefined)(e,"extensionName");const t={extensionName:e.extensionName,onClosed:e.onClosed,parameters:e.parameters};let i;void 0!==e.menuId?((0,r.assertPropertiesAreDefined)(e,"viewName"),i={...t,contentViewReference:e.contentViewReference,menuId:e.menuId,referenceType:"menu",viewName:e.viewName}):((0,r.assertPropertiesAreDefined)(e,"viewName"),i={...t,referenceType:"common",viewName:e.viewName});return i}})),
define("@azure/portalfx-internal-services/lib/services/ViewReferenceService",["exports","@azure/portalfx-core/lib/utilities/createViewReference"],(function(e,r){"use strict";e.createViewReferenceService=function(e){return{getExternalViewReference:e=>(0,r.createViewReference)(e),getViewReference:t=>(0,r.createViewReference)({extensionName:e.extensionName,...t})}}})),
define("@azure/service-context/lib/services/ServiceRegistry",["exports"],(function(e){"use strict";e.createServiceRegistry=function(e){const r={...e};return{get:e=>{const t=r[e];if(!t)throw new Error(`No service registered for type: ${String(e)}.`);return t},set:(e,t)=>(r[e]=t,t)}}})),
define("@azure/portalfx-internal-services/lib/createPortalServiceRegistry",["exports","@azure/service-context/lib/services/ServiceRegistry","@azure/portalfx-internal-services/lib/services/AuthenticationService","@azure/portalfx-internal-services/lib/services/CacheService","@azure/portalfx-internal-services/lib/services/DiagnosticService","@azure/portalfx-internal-services/lib/services/EnvironmentService","@azure/portalfx-internal-services/lib/services/ExperimentationService","@azure/portalfx-internal-services/lib/services/FetchService","@azure/portalfx-internal-services/lib/services/GlobalizationService","@azure/portalfx-internal-services/lib/services/IconService","@azure/portalfx-internal-services/lib/services/NavigationService","@azure/portalfx-internal-services/lib/services/PerformanceService","@azure/portalfx-internal-services/lib/services/QueryTelemetryService","@azure/portalfx-internal-services/lib/services/SupportService","@azure/portalfx-internal-services/lib/services/ThemeService","@azure/portalfx-internal-services/lib/services/UserService","@azure/portalfx-internal-services/lib/services/ViewHostService","@azure/portalfx-internal-services/lib/services/ViewReferenceService","@azure/portalfx-internal-services/lib/utilities/proxyHelpers"],(function(e,r,t,i,s,n,o,a,c,u,l,d,p,m,v,f,h,y,g){"use strict";e.createPortalServiceRegistry=function(e){const S=(0,r.createServiceRegistry)(),b=(0,g.getProxyMethodGenerator)(),R=S.set("diagnostic",(0,s.createDiagnosticService)(e)),w=S.set("cache",(0,i.createCacheService)(e,S)),x=S.set("authentication",(0,t.createAuthenticationService)(e,b,S)),T=S.set("environment",(0,n.createEnvironmentService)(e)),N=S.set("experimentation",(0,o.createExperimentationService)(e,S)),A=S.set("fetch",(0,a.createFetchService)(e,b,S)),D=S.set("globalization",(0,c.createGlobalizationService)(e)),P=S.set("icon",(0,u.createIconService)(e)),z=S.set("navigation",(0,l.createNavigationService)(e,b,S)),E=S.set("support",(0,m.createSupportService)(e,b)),I=S.set("theme",(0,v.createThemeService)(e)),C=S.set("user",(0,f.createUserService)(e)),k=S.set("viewHost",(0,h.createViewHostService)(e,b)),L=S.set("viewReference",(0,y.createViewReferenceService)(e)),M=S.set("queryTelemetryInternal",(0,p.createQueryTelemetryService)(e,S)),V=S.set("performance",(0,d.createPerformanceService)(e,S)),_={authentication:x,cache:w,diagnostic:R,environment:T,experimentation:N,fetch:A,globalization:D,icon:P,navigation:z,performance:V,queryTelemetryInternal:M,support:E,theme:I,user:C,viewHost:k,viewReference:L};return{handleServiceEvent:(e,r,t)=>{const i=_[e];i.handleEvents[r]?.(t)},serviceRegistry:S}}})),
define("@azure/portal-internal-services/lib/createAzurePortalServiceRegistry",["exports","@azure/portalfx-internal-services/lib/createPortalServiceRegistry","@azure/portalfx-internal-services/lib/utilities/proxyHelpers","@azure/portal-internal-services/lib/services/ArmFetchService","@azure/portal-internal-services/lib/services/AssetTypeService","@azure/portal-internal-services/lib/services/AssetViewReferenceService","@azure/portal-internal-services/lib/services/AzureEnvironmentService","@azure/portal-internal-services/lib/services/BrowseService","@azure/portal-internal-services/lib/services/CloudShellService","@azure/portal-internal-services/lib/services/LocationService","@azure/portal-internal-services/lib/services/PolicyService","@azure/portal-internal-services/lib/services/ProvisioningService","@azure/portal-internal-services/lib/services/ResourceGroupService","@azure/portal-internal-services/lib/services/ResourceService","@azure/portal-internal-services/lib/services/SubscriptionService","@azure/portal-internal-services/lib/services/TenantService"],(function(e,r,t,i,s,n,o,a,c,u,l,d,p,m,v,f){"use strict";e.createAzurePortalServiceRegistry=function(e){const{handleServiceEvent:h,serviceRegistry:y}=(0,r.createPortalServiceRegistry)(e),g=(0,t.getProxyMethodGenerator)(),S=y.set("armFetch",(0,i.createArmFetchService)(e,y)),b=y.set("assetType",(0,s.createAssetTypeService)(e)),R=y.set("azureEnvironment",(0,o.createAzureEnvironmentService)(e)),w=y.set("assetViewReference",(0,n.createAssetViewReferenceService)(e)),x=y.set("browse",(0,a.createBrowseService)(e)),T=y.set("cloudShell",(0,c.createCloudShellService)(e,g)),N=y.set("location",(0,u.createLocationService)(e)),A=y.set("provisioning",(0,d.createProvisioningService)(e,g)),D=y.set("resource",(0,m.createResourceService)(e,g,y)),P=y.set("policy",(0,l.createPolicyService)(e,y)),z=y.set("resourceGroup",(0,p.createResourceGroupService)(e,g)),E=y.set("subscription",(0,v.createSubscriptionService)(e,g)),I=y.set("tenant",(0,f.createTenantService)(e)),C={armFetch:S,assetType:b,assetViewReference:w,azureEnvironment:R,browse:x,cloudShell:T,location:N,policy:P,provisioning:A,resource:D,resourceGroup:z,subscription:E,tenant:I};return{handleServiceEvent:(e,r,t)=>{if(e in C){const i=C[e];i.handleEvents[r]?.(t)}else h(e,r,t)},serviceRegistry:y}}})),
define("@azure/service-context/lib/services/DefaultServiceRegistry",["exports","@azure/service-context/lib/services/ServiceRegistry"],(function(e,r){"use strict";e.defaultServiceRegistry=void 0;e.defaultServiceRegistry=(0,r.createServiceRegistry)({diagnostic:{log(...e){for(const r of e)console["error"===r.level?"error":"warning"===r.level?"warn":"log"](r)},recordMetric:e=>{console.log("Recording metric:",e)},trace(...e){console.log(e)}},performance:{logAsyncEnd:()=>{},logAsyncStart:()=>{},logEvent:()=>{},registerAsyncWork:()=>({cancel:()=>{},complete:()=>{},completed:!0,id:"default"})}})})),
define("@azure/service-context/lib/provider/ServiceRegistryProvider",["exports","react/jsx-runtime","react","@azure/service-context/lib/services/DefaultServiceRegistry"],(function(e,r,t,i){"use strict";e.ServiceRegistryProvider=void 0,e.useService=function(e){return n().get(e)},e.useServiceRegistry=n;const s=t.createContext(i.defaultServiceRegistry);function n(){return t.useContext(s)}s.displayName="ServiceRegistryContext";const o=e=>{const{registry:t}=e;return(0,r.jsx)(s.Provider,{value:t,children:e.children})};e.ServiceRegistryProvider=o,o.displayName="ServiceRegistryProvider"})),
define("@azure/portal-internal-reactview-frame/lib/bundles/InternalServicesBundle",["exports","@azure/portal-internal-services/lib/createAzurePortalServiceRegistry","@azure/portalfx-core/lib/utilities/EnsureSerializable","@azure/service-context/lib/provider/ServiceRegistryProvider"],(function(e,r,t,i){"use strict";e.default=void 0;e.default={CreateServiceRegistry:r,EnsureSerializable:t,ServiceRegistry:i}}));