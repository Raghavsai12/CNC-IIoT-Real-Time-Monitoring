define("FxInternal/Controls/Splitter",["require","exports","FxInternal/Controls/Base/Base"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0;var a=function(e){function t(t,o){var a=e.call(this,t)||this;o=o||{},a.controlType=21,a.primaryPaneSize=o.primaryPaneSize||300,a.showPanes=MsPortalFx.initObservable(o.showPanes,2),a.vertical=MsPortalFx.initObservable(o.vertical,!1),a.reversed=o.reversed||!1,a.minPaneSizes=o.minPaneSizes||{primaryPaneSize:0,secondaryPaneSize:0};var n=o.ariaLabels||{};return a.ariaLabels={primaryPane:MsPortalFx.initObservable(n.primaryPane),secondaryPane:MsPortalFx.initObservable(n.secondaryPane)},a}return __extends(t,e),t}(o.ViewModel);t.ViewModel=a})),
define("Fx/Controls/Splitter",["require","exports","FxInternal/Controls/Splitter"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var a;return ko.ignoreDependencies((function(){a=new o.ViewModel(e,t)})),a}})),
define("FxInternal/Controls/TreeView",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModel=void 0,t.create=function(e,t){var a;return ko.ignoreDependencies((function(){a=new o(e,t)})),a};var o=function(t){function o(e,o){var a,n,s,i=t.call(this,e)||this,r=o.items,l=(o.selection?1:0)|(o.deferredLoading?2:0)|(o.sequentialLoading?8:0)|(o.contextMenu?4:0);o.selection&&!o.selection.createSelection&&(o.selection.createSelection=function(e,t){return{item:e,path:t}});var d,c=(null===(a=null==o?void 0:o.contextMenu)||void 0===a?void 0:a.supplyCommands)||(null===(n=null==o?void 0:o.selection)||void 0===n?void 0:n.supplyCommands);FxImpl.shellInterface(i,{CurrentCommands:ko.observableArray(),OnItemClicked:null===(s=null==o?void 0:o.selection)||void 0===s?void 0:s.onItemClicked,SupplyCommands:c?function(t){return d&&d.dispose(),d=e.createChildLifetime(),Promise.resolve(c(t,d)).then((function(e){return FxImpl.shellInterface(i).CurrentCommands(e),e}))}:void 0}),i.controlType=57,i.cssClass=MsPortalFx.initObservable(o.cssClass,""),i.padding=ko.observable(16),i.alwaysExpanded=ko.observable(!1),i.ariaLabel=MsPortalFx.initObservable(o.ariaLabel,""),i.toggleNodeCallback=ko.observable(),i._tokenStorage={},i.pathSeparator=o.pathSeparator||"/";var b=o.htmlTemplates||{};if(i.htmlTemplates=Object.keys(b).map((function(e){return{key:e,html:b[e]}})),i.items=MsPortalFx.initObservableArray(r),i.extensions=l||0,i.extensionsOptions=__assign(__assign({},o),{selectable:o.selection,rightClickable:o.contextMenu,onDemandLoadable:o.deferredLoading,loadableByContinuationToken:o.sequentialLoading}),o.sequentialLoading?i.canLoadMoreRootItems=MsPortalFx.initObservable(o.sequentialLoading.canLoadMoreRootItems,!1):i.canLoadMoreRootItems=ko.observable(!1),i._processCallBack=function(e){if(e)for(var t=0,o=e.length;t<o;t++)i._processItem(e[t])},i._processItems(i.items),i._selectableExists){var u=o.selection,p=u.selectionMode||0,m=ko.observableArray(),f=ko.observableArray(),v=ko.observable(),h=ko.observableArray(),y=ko.observable(),x=ko.observableArray();i.selectedItems=m,i.selectedPaths=f,i.selectableData={selectedItem:v,selectedPath:y,selectionMode:p,selectedItems:h,selectedPaths:x};var P=!1;f.subscribe(e,(function(e){if(!P)if(1===p)i.selectableData.selectedPaths((null==e?void 0:e.slice())||[]);else{var t=void 0;(null==e?void 0:e.length)&&(t=e[0]),!t||u.initialPath||i.toggleNodeCallback.peek()||(u.initialPath=t),i.selectableData.selectedPath(t)}}));var k=function(e){if(!P&&!MsPortalFx.arrayEquals(f.peek(),e))try{P=!0,f(e.slice())}finally{P=!1}};i.selectableData.selectedPath.subscribe(i.lifetimeManager,(function(e){k(e?[e]:[]);var t=i.findItemByPath(e);if(t){var o=u.createSelection(t,e);v(o),m([o])}})),i.selectableData.selectedPaths.subscribe(i.lifetimeManager,(function(e){k(e);var t=e.map((function(e){var t=i.findItemByPath(e);return u.createSelection(t,e)}));h(t),m(t.slice())}))}if(i._loadableExists){var g=ko.observable();g.extend({notify:"always"}),g.subscribe(i.lifetimeManager,(function(e){var t=i.findItemByPath(e);t&&i.extensionsOptions.onDemandLoadable.loadItem(t,e)})),i.onDemandLoadableData={loadingPath:g}}return i._selectableExists&&1===i.extensionsOptions.selection.selectionMode&&i.selectableData.selectedPaths.subscribeArrayChanges(i.lifetimeManager,(function(e){i.findItemByPath(e).metadata.selected(!0)}),(function(e){i.findItemByPath(e).metadata.selected(!1)})),i}return __extends(o,t),o.prototype.loadMoreNode=function(e,t){return this.loadMoreChildItems(e,t)},o.prototype.loadMoreChildItems=function(e,t){return this.extensionsOptions.sequentialLoading.loadMoreChildItems?this.extensionsOptions.loadableByContinuationToken.loadMoreChildItems(e,t):Promise.resolve({items:[],continuationToken:null})},o.prototype.loadMoreRootItems=function(){var e=this;return this.extensionsOptions.loadableByContinuationToken.loadMoreRootItems?this.extensionsOptions.loadableByContinuationToken.loadMoreRootItems().then((function(t){t.length&&(e._processCallBack(t),e.items.push.apply(e.items,t))})):Promise.resolve()},o.prototype.syncToken=function(e,t){this._tokenStorage[e]=t},o.prototype.getTokenByPath=function(e){return this._tokenStorage[e]},o.prototype.expandNode=function(e){this.toggleNode(e,!0)},o.prototype.collapseNode=function(e){this.toggleNode(e,!1)},o.prototype.toggleNode=function(e,t){void 0===t&&(t=!e.metadata.expanded());var o=this.toggleNodeCallback();o&&o(e,t)},o.prototype.findItemByPath=function(e){var t,o=this.items;if(e)for(var a=e.split(this.pathSeparator),n=function(e,n){var s=a[e].toLowerCase();if(!(t=MsPortalFx.find(o(),(function(e){return s===e.text().toLowerCase()}))))return"break";o=t.items||ko.observableArray()},s=0,i=a.length;s<i;s++){if("break"===n(s))break}return t},Object.defineProperty(o.prototype,"_selectableExists",{get:function(){return(1&this.extensions)>0&&!!this.extensionsOptions.selection},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_loadableExists",{get:function(){return(2&this.extensions)>0&&!!this.extensionsOptions.onDemandLoadable},enumerable:!1,configurable:!0}),o.prototype._processItems=function(e){this._processCallBack(e()),e.subscribeArrayBulkChanges(this.lifetimeManager,this._processCallBack)},o.prototype._processItem=function(e){var t=e.metadata||(e.metadata={});t.disabled=t.disabled||ko.observable(!1),t.expanded=t.expanded||ko.observable(),this._selectableExists&&(t.selected=t.selected||ko.observable(!1),t.selectable=t.selectable||ko.observable(!0),t.focused=t.focused||ko.observable(!1)),this._loadableExists&&(t.loadable=t.loadable||ko.observable()),e.items=e.items||ko.observableArray(),this._processItems(e.items)},o=__decorate([__metadata("fx:diagnostics",[e,"ViewModel"]),MsPortalFx.Composition.ProxyCompatibilityMode,__metadata("design:paramtypes",[Object,Object])],o)}(MsPortalFx.ViewModels.Controls.Loadable.ViewModel);t.ViewModel=o}));