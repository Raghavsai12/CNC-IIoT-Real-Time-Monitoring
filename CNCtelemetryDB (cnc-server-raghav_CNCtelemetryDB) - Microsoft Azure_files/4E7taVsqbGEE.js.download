define("MsPortalImpl/Services/Services.CopilotMetadata",["require","exports","Fx/DependencyInjection","FxInternal/AsyncLoader","MsPortalImpl/Extension/ExtensionManagerOptions","FxInternal/RpcEndPoints"],(function(t,e,a,o,i,n){"use strict";e.getCopilotMetadata=e.CopilotMetadataProvider=void 0;let r=e.CopilotMetadataProvider=class{constructor(t,e){this._diContainer=t,this._extensionManagerOptions=e}getCopilotMetadata(t){let e;try{e=this._extensionManagerOptions.getNormalizedMetadata("Microsoft_Azure_CopilotMetadata",!0)}catch{return Promise.resolve("")}const a=(0,o.get)("MsPortalImpl/Extension/CopilotMetadataCache","getCopilotMetadata").then((a=>a(this._diContainer,e,t)));return a.then((t=>t))}};e.CopilotMetadataProvider=r=__decorate([__metadata("fx:diagnostics",[t,"CopilotMetadataProvider"]),a.Class(),__metadata("design:paramtypes",[a.Container,i.ExtensionManagerOptions])],r);e.getCopilotMetadata=(0,o.defineHandler)(n.copilotMetadataEndpoint,(t=>t.diContainer.get(r).getCopilotMetadata(t.messageArg.manifestName)))}));