define("MsPortalImpl/Services/SearchInterfaces",["require","exports","MsPortalImpl/Resources/ImplScriptResources"],(function(e,t,s){"use strict";t.SectionStringToEnumValue=void 0;t.SectionStringToEnumValue={[s.Search.allCategory.toLocaleLowerCase()]:"All",[s.Search.servicesCategory.toLocaleLowerCase()]:"Services",[s.Search.resourcesCategory.toLocaleLowerCase()]:"Resources",[s.Search.resourceGroupsCategory.toLocaleLowerCase()]:"ResourceGroups",[s.Search.marketplace.toLocaleLowerCase()]:"Marketplace",[s.Search.documentation.toLocaleLowerCase()]:"Documentation",[s.Search.aadCategory.toLocaleLowerCase()]:"AzureActiveDirectory"}})),
define("MsPortalImpl/Widgets/SearchSectionRenderer",["require","exports","MsPortalImpl/Resources/ImplScriptResources"],(function(e,t,s){"use strict";t.SearchSectionRenderer=void 0;var a=MsPortalFx.Base.Diagnostics.Telemetry;const r=s.Search.allCategory.toLocaleLowerCase();t.SearchSectionRenderer=class{constructor(e){this._logData={},this._vm=e}startRendering(){this._currentLifetime&&(this._currentLifetime.dispose(),this._currentLifetime=null),this._currentLifetime=new FxImpl.TriggerableLifetimeManager,this._currentLifetime.registerForDispose((()=>{const e=this._vm.resultsPanel();Object.keys(this._logData).length===e.length&&a.trace({source:"SearchSectionRenderer",action:"SectionRenderingComplete",data:{...this._logData}}),Object.keys(this._logData).forEach((e=>{delete this._logData[e]}))}));const e=this._vm,t=e.currentPill()?.toLocaleLowerCase();t&&t!==r?e.resultsPanel().forEach((e=>{e.startRendering(!0)})):(e.resultsPanel().forEach((e=>{e.startRendering(!1),e.isLoading(!0)})),this.renderSection(0,this._currentLifetime))}renderSection(e,t){if(!t)return;const s=this._vm.resultsPanel();if(e>=s.length)return void t.dispose();const a=Date.now(),r=this._logData[e-1]?.renderTime;this._logData[e]={sectionName:s[e].displayName,renderTime:a,deltaFromPreviousSection:void 0!==r?a-r:0};const o=s[e];if(o.startRendering(!0),!o.isLoading())return void this.renderSection(e+1,t);const i=setTimeout((()=>{this.renderSection(e+1,t)}),2e3);o.isLoading.subscribe(t,(s=>{s||(clearTimeout(i),this.renderSection(e+1,t))}))}}})),
define("_generated/Less/MsPortalImpl/Widgets/Widgets.AsyncSearchDeferred.css",["module"],(function(e){"use strict";return{css:".fxs-search-menu{border-radius:2px}.fxs-search-menu img,.fxs-search-menu svg{height:14px;width:14px;vertical-align:middle}.fxs-search-menu strong{font-weight:600}.fxs-search-menu-content{display:flex;flex-wrap:wrap;padding:5px 30px!important}.fxs-menu-mru-title{font-weight:600;padding:5px 30px 0;font-size:10px;text-transform:uppercase}.fxs-menu-no-results{text-align:center;padding-bottom:10px}.fxs-search-menu-error{padding-left:17px}.fxs-menu-mru{padding-bottom:8px!important}.fxs-menu-divider{padding-top:6px}.fxs-menu-more-type{font-weight:600;padding-left:4px}.fxs-menu-result-details{display:flex;flex-wrap:nowrap;align-items:center;height:100%;width:100%}.fxs-menu-result-icon{margin-right:5px}.fxs-menu-result-externalcolumn{padding-left:7px;min-width:14px}.fxs-menu-result-name{flex:1 1 auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxs-menu-result-subName{width:100%;padding-left:19px;font-size:13px;line-height:1.385;opacity:.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxs-menu-result-type{flex:0 0 auto;margin-left:5px;font-size:10px;align-self:center}.fxs-menu-subscription-summary{display:flex;font-size:13px;line-height:1.385;padding:5px 16px}.fxs-menu-subscription-summary div{flex:0 0 auto}.fxs-menu-subscription-summary a{flex:0 0 auto;padding-left:4px}.fxs-menu-result-area{overflow-y:auto;width:400px;padding-top:5px;padding-bottom:9px;min-height:150px}.fxs-menu-result-area:nth-child(3){padding-left:16px}.fxs-async-searchmenu-result-category{padding:8px 0;margin-bottom:1px;height:24px;display:flex;flex-wrap:nowrap;align-items:center}.fxs-async-searchmenu-result-category-title{font-weight:600;font-size:13px;text-transform:inherit}.fxs-async-search-menu-results{width:auto}.fxs-async-searchmenu-result-category-line{flex:1 2 auto;border-bottom-width:1px;border-bottom-style:solid;height:0;margin-left:10px;border-color:rgba(204,204,204,.8)}.fxs-menu-recent-more-link{display:flex;align-items:center;font-size:11px;width:auto}.fxs-menu-history-removeall-link:hover{cursor:pointer;text-decoration:underline}.fxs-menu-result-category-more-link{display:flex;align-items:center;font-size:11px;width:auto}.fxs-menu-result-category-more-link:hover{cursor:pointer;text-decoration:underline}.fxs-menu-search-marketplace{font-size:10px}.fxs-menu-result-text{flex:1 1 auto;max-width:calc(100% - 18px - 5px)}.fxs-menu-result-text-noicon{max-width:100%}.fxs-menu-result-text-primary{display:flex;justify-content:center}.fxs-menu-result-text-secondary{font-size:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxs-global-search .fxs-search-menu-content{padding:5px 0!important}.fxs-global-search .fxs-search-menu-recent-content{padding:12px 4px!important}.fxs-global-search img,.fxs-global-search svg{height:18px;width:18px;display:flex}.fxs-global-search .fxs-menu-result-name{font-size:13px}.fxs-global-search .fxs-menu-result-subName{font-size:10px}.fxs-global-search .fxs-search-menu-providers{border-top-width:1px;border-top-style:solid;padding:5px 16px}.fxs-global-search .fxs-search-menu-border-reset{border:0!important}.fxs-global-search .fxs-search-menu-providers-hint{font-size:10px;line-height:32px}.fxs-global-search .fxs-menu-subscription-summary{font-size:10px;height:18px;align-items:center;border-top-width:1px;border-top-style:solid}.fxs-global-search .fxs-search-menu-feedback{margin-left:auto;cursor:pointer;display:flex}.fxs-global-search .fxs-search-menu-feedback svg{height:12px;width:12px;fill:#0078d4}.fxs-globalsearch-with-pills .fxs-menu-item{width:400px}.fxs-globalsearch-with-pills .fxs-search-menu-content{padding:8px 0!important}.fxs-globalsearch-with-pills .fxs-globalsearch-selected-pill{font-weight:700}.fxs-globalsearch-with-pills .fxs-search-menu-filter-pill{margin-left:-5px;padding-top:16px}.fxs-globalsearch-with-pills .fxs-search-menu-filter-pill svg{height:12px;width:12px}.fxs-globalsearch-with-pills .fxs-menu-result-item{margin-right:25px;height:34px;display:flex;-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid;column-span:initial}.fxs-globalsearch-with-pills .fxs-menu-result-area{overflow-y:auto;width:850px;min-height:inherit;padding-top:5px;padding-bottom:9px;padding-left:0}.fxs-globalsearch-with-pills .fxs-menu-results{position:relative;padding-left:0;padding-top:10px;overflow-y:auto;overflow-x:hidden;column-count:2}.fxs-globalsearch-with-pills .fxs-global-search.fxs-search-onecolumn{min-width:364px;max-width:520px}.fxs-globalsearch-with-pills .fxs-global-search.fxs-search-onecolumn .fxs-menu-results{column-count:1}.fxs-globalsearch-with-pills .fxs-global-search.fxs-search-onecolumn .fxs-menu-item.fxs-search-menu-content{width:100%}.fxs-globalsearch-with-pills .fxs-global-search.fxs-search-onecolumn .fxs-menu-result-item{margin-right:0}.fxs-globalsearch-with-pills .fxs-global-search.fxs-search-onecolumn .fxs-menu-result-area{width:100%}.fxs-globalsearch-with-pills .fxs-search-wrapper.fxs-search-onecolumn{min-width:364px;max-width:520px}.fxs-globalsearch-with-pills .fxs-search-menu.fxs-search-onecolumn{min-width:364px;max-width:520px;width:100%}.fxs-globalsearch-with-pills .fxs-menu-search-history-item{flex-grow:1}.fxs-globalsearch-with-pills .fxs-search-menu-container{display:block;overflow:auto;max-height:calc(85vh - 40px - 18px);padding:0 16px}.fxs-globalsearch-with-pills .fxs-search-warning-message{justify-content:center;display:flex}.fxs-globalsearch-with-pills .fxs-search-menu-noresults{margin:auto;display:flex;justify-content:center;flex-direction:column}.fxs-globalsearch-with-pills .fxs-search-menu-azure-copilot-link-section{width:100%;display:flex;cursor:pointer;padding:10px 16px;border-bottom-width:1px;border-bottom-style:solid}.fxs-globalsearch-with-pills .fxs-search-menu-azure-copilot-link-section svg{fill:#106ebe!important}.fxs-globalsearch-with-pills .fxs-search-menu-azure-copilot-icon svg{height:24px;width:24px}.fxs-globalsearch-with-pills .fxs-search-menu-azure-copilot-link{margin-left:10px;font-size:13px;line-height:24px;font-weight:600}.fxs-globalsearch-with-pills .fxs-search-menu-azure-copilot-link .ext-search-menu-azure-copilot-link-search-term{font-weight:700}.fxs-globalsearch-with-pills .fxs-search-menu-noresultsicon{align-self:center}.fxs-globalsearch-with-pills .fxs-search-menu-noresultsicon svg{height:85px;width:85px}.fxs-globalsearch-with-pills .fxs-search-menu-noresults-text{align-self:center;font-size:14px;line-height:20px;font-weight:600}.fxs-globalsearch-with-pills .fxs-search-menu-noresults-text-details{align-items:center;justify-content:center;padding-bottom:20px}.fxs-globalsearch-with-pills .fxs-search-external{flex:0 0 12px;margin:0 10px;padding-top:3px;width:12px;fill:#bbb}.fxs-globalsearch-with-pills .fxs-search-external svg{height:12px;width:12px}.fxs-globalsearch-with-pills .fxs-search-menu-disabled-tag{border:1px #a19f9d;fill:solid;border-radius:2px;background-color:#f3f2f1;color:#a19f9d;padding:2px 6px;margin-right:5px}.fxs-globalsearch-with-pills .fxs-search-menu-commands{display:flex}.fxs-globalsearch-with-pills .fxs-search-menu-commands svg{height:14px;width:14px;margin-left:5px}.fxs-globalsearch-with-pills .fxs-search-menu-commands .azc-toolbarButton{height:34px}.fxs-globalsearch-with-pills .fxs-search-menu-commands .azc-toolbar-item>.azc-toolbarButton-container{height:34px}.fxs-globalsearch-with-pills .fxs-search-menu-commands .azc-toolbar-item>.azc-toolbarButton-container:hover{background-color:#faf9f8}.fxs-globalsearch-with-pills .fxs-search-menu-star{flex:0 0 auto;display:flex;align-items:center;justify-content:center;align-self:center;height:30px;width:30px;cursor:pointer}.fxs-globalsearch-with-pills .fxs-search-menu-star svg{height:14px;width:14px;opacity:.6;fill:#0078d4}.fxs-globalsearch-with-pills .fxs-search-menu-star.fxs-is-favorite svg{opacity:1}.fxs-globalsearch-with-pills .fxs-search-menu-history{display:flex;align-items:center}.fxs-globalsearch-with-pills .fxs-search-menu-history svg{height:14px;width:14px;fill:#0078d4}.fxs-globalsearch-with-pills .fxs-menu-history-clear-icon{margin-left:auto;cursor:pointer;padding-right:5px}.fxs-menu-result-link{padding-left:2px;display:flex}.fxs-menu-result-link svg{height:8px;width:8px}.fxs-search-section-loading{justify-content:center;display:flex;align-items:center;position:relative}.fxs-search-menu-container{display:flex;overflow:auto;overflow-y:auto;max-height:calc(85vh - 40px - 18px);padding:0 16px}.fxs-menu-recent-services{list-style:none;display:flex;margin-bottom:15px;flex-wrap:wrap;padding-bottom:15px!important}.fxs-menu-recent-services-item{height:96px;width:96px;flex:0 0 auto;box-sizing:border-box;cursor:pointer}.fxs-menu-recent-services-item:hover{background-color:#f3f2f1;border-color:rgba(204,204,204,.8)}.fxs-menu-recent-services-item:focus-visible{border:#605e5c 1px solid!important}.fxs-menu-recent-services-details{height:100%;width:100%;display:flex;align-items:center;flex-direction:column;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}.fxs-menu-recent-services-details:hover{text-decoration:none!important}.fxs-menu-recent-services-icon{height:32px;width:32px;flex:0 0 auto;margin-bottom:6px}.fxs-menu-recent-services-icon svg{height:32px;width:32px}.fxs-menu-recent-services-title{text-align:center;width:100%;display:block;display:-webkit-box;line-height:18px;max-height:36px;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:38px;white-space:normal!important}@media all and (max-width:1100px){.fxs-search-menu-container{flex-wrap:wrap}.fxs-menu-result-area:nth-child(3){padding-left:0}.fxs-async-search-menu-results{width:100%}.fxs-globalsearch-with-pills .fxs-menu-results{column-count:1}.fxs-globalsearch-with-pills .fxs-menu-result-area{width:auto}.fxs-globalsearch-with-pills .fxs-menu-item{width:350px}}@media all and (max-width:908px){.fxs-menu-result-area{width:468px}}",moduleId:e.id}})),
define("_generated/MsPortalImpl/Svg/Internal/CopilotInAzure.svg",["require","exports"],(function(e,t){"use strict";t.type=t.data=void 0;t.type=1,t.data="<svg viewBox='0 0 17 16' class='msportalfx-svg-placeholder' role='presentation' focusable='false' xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><title></title><path d='M12.17 1.99A1.46 1.46 0 0 0 10.788 1h-.9c-.701 0-1.303.499-1.433 1.188l-.931 4.945.463-1.584a1.458 1.458 0 0 1 1.4-1.049h2.878l1.244 1.629L14.617 4.5h-.552c-.624 0-1.18-.398-1.38-.99l-.516-1.52Z' fill='url(#6bec5182-a0f8-4b54-9e9c-51d8baf9c0cd)'/><path d='M5.003 14.004c.199.595.756.996 1.383.996h1.466c.796 0 1.445-.638 1.458-1.434l.073-4.431-.385 1.317a1.458 1.458 0 0 1-1.4 1.048h-2.89l-1.23-1.085L2.57 11.5h.547c.628 0 1.184.401 1.383.996l.503 1.508Z' fill='url(#63b04162-634b-45ed-970d-5df586919fc7)'/><path d='M10.5 1H4.668C3 1 2 3.202 1.334 5.405c-.79 2.609-1.823 6.099 1.167 6.099h2.69c.65 0 1.223-.431 1.402-1.058a769.97 769.97 0 0 1 1.855-6.402c.306-1.034.561-1.922.953-2.474.22-.31.585-.57 1.1-.57Z' fill='url(#4486922b-57c9-4881-9168-adbac2066bf1)'/><path d='M10.5 1H4.668C3 1 2 3.202 1.334 5.405c-.79 2.609-1.823 6.099 1.167 6.099h2.69c.65 0 1.223-.431 1.402-1.058a769.97 769.97 0 0 1 1.855-6.402c.306-1.034.561-1.922.953-2.474.22-.31.585-.57 1.1-.57Z' fill='url(#9a514745-6a44-466d-931a-771ca66f2dad)'/><path d='M6.5 15h5.832C14 15 15 12.798 15.665 10.596c.79-2.61 1.824-6.098-1.166-6.098h-2.69c-.651 0-1.223.43-1.402 1.057a771.726 771.726 0 0 1-1.855 6.401c-.306 1.034-.561 1.922-.953 2.475-.22.31-.586.569-1.1.569Z' fill='url(#5d50bf2c-0c50-40b4-b4cc-4270eeb39cbb)'/><path d='M6.5 15h5.832C14 15 15 12.798 15.665 10.596c.79-2.61 1.824-6.098-1.166-6.098h-2.69c-.651 0-1.223.43-1.402 1.057a771.726 771.726 0 0 1-1.855 6.401c-.306 1.034-.561 1.922-.953 2.475-.22.31-.586.569-1.1.569Z' fill='url(#62856f23-851e-41b2-bccb-1198c3aadf68)'/><defs><radialGradient id='6bec5182-a0f8-4b54-9e9c-51d8baf9c0cd' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='rotate(-128.772 8.512 .33) scale(6.41931 6.01261)'><stop offset='.096' stop-color='#00AEFF'/><stop offset='.773' stop-color='#2253CE'/><stop offset='1' stop-color='#0736C4'/></radialGradient><radialGradient id='63b04162-634b-45ed-970d-5df586919fc7' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='matrix(3.56223 4.4232 -4.3144 3.4746 3.806 11.066)'><stop stop-color='#FFB657'/><stop offset='.634' stop-color='#FF5F3D'/><stop offset='.923' stop-color='#C02B3C'/></radialGradient><radialGradient id='5d50bf2c-0c50-40b4-b4cc-4270eeb39cbb' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='matrix(-4.6081 13.17265 -15.78492 -5.52192 14.799 3.47)'><stop offset='.066' stop-color='#8C48FF'/><stop offset='.5' stop-color='#F2598A'/><stop offset='.896' stop-color='#FFB152'/></radialGradient><linearGradient id='4486922b-57c9-4881-9168-adbac2066bf1' x1='4.318' y1='2.273' x2='5.151' y2='11.9' gradientUnits='userSpaceOnUse'><stop offset='.156' stop-color='#0D91E1'/><stop offset='.487' stop-color='#52B471'/><stop offset='.652' stop-color='#98BD42'/><stop offset='.937' stop-color='#FFC800'/></linearGradient><linearGradient id='9a514745-6a44-466d-931a-771ca66f2dad' x1='5.046' y1='1' x2='5.5' y2='11.504' gradientUnits='userSpaceOnUse'><stop stop-color='#3DCBFF'/><stop offset='.247' stop-color='#0588F7' stop-opacity='0'/></linearGradient><linearGradient id='62856f23-851e-41b2-bccb-1198c3aadf68' x1='15.259' y1='3.856' x2='15.253' y2='6.717' gradientUnits='userSpaceOnUse'><stop offset='.058' stop-color='#F8ADFA'/><stop offset='.708' stop-color='#A86EDD' stop-opacity='0'/></linearGradient></defs></g></svg>"})),
define("_generated/MsPortalImpl/Svg/Internal/EmptySearch.svg",["require","exports"],(function(e,t){"use strict";t.type=t.data=void 0;t.type=1,t.data="<svg viewBox='0 0 200 180' class='msportalfx-svg-placeholder' role='presentation' focusable='false' xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><title></title><path d='m53.708 35.78 11.721-6.742c5.636-3.259 13.187-3.483 21.753-.112L75.46 35.667c-8.566-3.37-16.117-3.146-21.752.113Zm129.501 120.229-11.722 6.741c5.41-3.146 8.791-9.663 8.791-18.989.113-17.304-11.383-38.316-26.599-50.002l11.722-6.742C180.617 98.703 192 119.715 192 137.02c0 9.326-3.269 15.843-8.791 18.99Z' fill='#AAA'/><path d='m84.59 24.431 11.721-6.742c7.326-4.27 17.808-3.595 29.304 3.034 21.978 12.697 39.673 42.249 39.786 66.407l-11.721 6.742c-.113-24.046-17.808-53.71-39.786-66.407-11.496-6.63-21.978-7.304-29.304-3.034Z' fill='#AAA'/><path d='M153.679 93.76c-.112-24.047-17.807-53.71-39.785-66.408-17.808-10.224-33.136-6.292-38.32 8.203-18.372-7.191-32.123 2.135-32.235 22.922-.113 23.147 17.131 51.8 38.433 64.047 1.127.674 2.254 1.236 3.381 1.798l62.44 36.069a6.027 6.027 0 0 0 1.578.674c17.244 9.101 30.995 1.573 30.995-17.192.225-17.416-11.271-38.428-26.487-50.114Z' fill='url(#4ed02ea1-2d39-45b3-80ec-f0bfbf055138)'/><path d='M47.923 157.357v-37.133H35.009v37.133c0 .958.664 1.916 1.919 2.652 2.509 1.474 6.641 1.474 9.15 0 1.255-.736 1.845-1.694 1.845-2.652Z' fill='#DCDCDC'/><path d='M46.078 117.572c2.51 1.474 2.51 3.831 0 5.305-2.509 1.473-6.641 1.473-9.15 0-2.51-1.474-2.583-3.831 0-5.305 2.509-1.473 6.567-1.473 9.15 0Z' fill='#787878'/><path d='M44.307 106.963c-1.55-.884-4.133-.884-5.682 0-.812.442-1.18 1.031-1.18 1.621v10.83c0 .589.368 1.179 1.18 1.621 1.55.884 4.132.884 5.682 0 .812-.442 1.18-1.032 1.18-1.621v-10.83c0-.59-.368-1.179-1.18-1.621Z' fill='#AAA'/><path d='M46.89 97.459c-12.62-7.294-22.803-24.903-22.803-39.417 0-7.22 2.583-12.23 6.642-14.661l-10.7 6.262c-4.133 2.358-6.642 7.441-6.642 14.662-.074 14.514 10.11 32.122 22.729 39.416 6.346 3.684 12.102 3.979 16.234 1.621l10.7-6.262c-4.058 2.431-9.814 2.063-16.16-1.621Z' fill='#787878'/><path opacity='.4' d='M39.29 101.806c12.618 7.293 22.875 1.473 22.949-13.041.074-14.514-10.184-32.123-22.802-39.417-12.62-7.294-22.876-1.473-22.95 13.041-.074 14.44 10.183 32.123 22.802 39.417Z' class='msportalfx-svg-c01'/><path d='M36.337 45.075c15.57 8.989 28.19 30.797 28.19 48.7-.074 17.903-12.767 25.123-28.337 16.135C20.545 100.921 7.927 79.113 8 61.21c.074-17.903 12.767-25.123 28.337-16.135Zm-.221 58.572c12.619 7.294 22.876 1.474 22.95-13.04.074-14.514-10.184-32.123-22.803-39.417-12.618-7.294-22.876-1.473-22.95 13.04-.073 14.515 10.184 32.197 22.803 39.417Z' fill='#DCDCDC'/><path d='M46.964 38.96c-7.896-4.494-14.98-4.936-20.146-1.916l-10.7 6.19c5.165-2.948 12.25-2.58 20.072 1.988 15.57 8.989 28.189 30.797 28.189 48.7 0 8.915-3.173 15.177-8.265 18.124l10.7-6.262c5.092-2.947 8.191-9.21 8.265-18.124.074-17.83-12.545-39.638-28.115-48.7Z' fill='#AAA'/><defs><linearGradient id='4ed02ea1-2d39-45b3-80ec-f0bfbf055138' x1='103.306' y1='43.913' x2='79.747' y2='180.982' gradientUnits='userSpaceOnUse'><stop stop-color='#F4F4F4'/><stop offset='1' stop-color='#C9C9C9'/></linearGradient></defs></g></svg>"})),
define("MsPortalImpl/Widgets/Widgets.AsyncSearchDeferred",["require","exports","MsPortalImpl/TsxStringMode/Tsx","MsPortalImpl/Base/Base.KeyboardHelper","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Services/SearchInterfaces","_generated/MsPortalImpl/Svg/Internal/EmptySearch.svg","MsPortalImpl/Base/Base.SvgHelper","MsPortalImpl/Base/Base.Router","MsPortalImpl/Widgets/Widgets.Common","MsPortalImpl/UI/Hubs/UI.FavoritesManagerDeferred","_generated/Less/MsPortalImpl/Widgets/Widgets.AsyncSearchDeferred.css","Fx/Controls/PillCollection","Fx/Controls/Pill","FxHubs/RpcEndPoints","MsPortalImpl/Base/Base.DeepLink","MsPortalImpl/Services/Services.GeneralSettings","MsPortalImpl/Services/Services.Subscriptions","MsPortalImpl/Services/Services.AssetTypes","MsPortalImpl/Services/Services.Recents","FxInternal/Css","MsPortalImpl/UI/UI.BladeOpener","Fx/Composition/Selectable","Fx/Experimentation","MsPortalImpl/Interactions/Interactions.PortalReader","MsPortalImpl/Services/GlobalSearchProviders/SearchProviderUtils","MsPortalImpl/Base/Base.BrowserDetection","_generated/MsPortalImpl/Svg/Internal/CopilotInAzure.svg","MsPortalImpl/Services/Services.Copilot","MsPortalImpl/Widgets/Widgets.AllServicesMenu","MsPortalImpl/UI/Hubs/UI.FavoritesManager","MsPortalImpl/Services/Services.Tenants","Fx","MsPortalImpl/Services/GlobalSearchProviders/ResourceAndResourceGroupsProvider","MsPortalImpl/Widgets/SearchSectionRenderer"],(function(e,t,s,a,r,o,i,n,l,c,d,u,p,x,f,h,m,g,b,v,y,w,S,C,k,M,I,R,T,A,L,P,F,D,B){"use strict";t.getRecentsBlade=t.getMarketplaceBlade=t.getAzureActiveDirectoryBlade=t.getAllResourcesBlade=t.getAllResourceGroupsBlade=t.domainConfigData=void 0,t.initialize=function(e,t,s,n){const u=s.getRootElement(),{showAadSection:b,showMarketplace:y,showDocumentation:R,showResourcesAndResourceGroups:E,showServices:N,pillsFromConfig:G}=he,O=new k.PortalReader(e,{idPrefix:"globalSearch"}),se=u.find(ae);ce=s,se.attr({role:"combobox","aria-controls":s.menuId,"aria-expanded":!0}),se.removeAttr("aria-multiline"),t.get(C.Experimentation).shellAssignments.whenAvailable().then((C=>{const k=MsPortalFx.isFeatureEnabled("showmatcheswithhighlights"),ne=!I.isAndroidOrMobile&&C.getBooleanValue("showservicescommandsonhoveringlobalsearch"),fe=(0,M.getSearchDisplayResultCount)(),he=MsPortalFx.isFeatureEnabled("globalsearchonecolumn"),$e=C.getStringValue("showsearchincopilotoption"),He=new B.SearchSectionRenderer(s);b&&MsPortalFx.isFeatureEnabled("preloadentrasearchrpc")&&MsPortalFx.Services.Rpc.invokeCallback("Microsoft_AAD_IAM","getSearchResults",{searchCriteria:"Thisisalongquery",resultsCount:1}),s.showServicesCommandsOnHover=ne,u.addClass("fxs-globalsearch-with-pills"),c.registerKoTemplate("asyncSearchResultGroup",ve),c.registerKoTemplate("asyncSearchResultsList",be),c.registerKoTemplate("noResultsTemplate",me);const Ke=[];N&&Ke.push(Ee(U.servicesCategory,"Services")),E&&Ke.push(Ee(U.resourcesCategory,"Resources")),E&&Ke.push(Ee(U.resourceGroupsCategory,"ResourceGroups")),s.feedbackButtonClickHandler=()=>{const e=new S.PdlBladeReference("InProductFeedbackBlade","HubsExtension",{parameters:{bladeName:"GlobalSearch",cesQuestion:U.Feedback.cesQuestion,cvaQuestion:U.Feedback.cvaQuestion,extensionName:"Shell",featureName:"GlobalSearchFeedback",surveyId:"GlobalSearch09162021"}});t.get(w.BladeOpener).openBlade(e,{flags:1,telemetryName:"GlobalSearchFeedback"})},s.azureCopilotButtonClickHandler=(e,a)=>{V({source:"Search",action:"CopilotLinkFromGlobalSearchClicked",data:{searchCriteria:n.val()}}),Ce.action="CopilotLinkFromGlobalSearchClicked";const r=n.val();s.showMenu(!1),t.get(T.CopilotService).nudge({prompt:U.Copilot.prompt.format(r),promptId:"GlobalSearch",displayPrompt:r,source:"search"})};G?.length?G.map((e=>({name:U[e.pillTitleResxKey]||e.pillTitleResxKey,pill:e.pillType}))).forEach((e=>{Ke.push(Ee(e.name,e.pill))})):b&&Ke.push(Ee(U.aadCategory,"AzureActiveDirectory")),y&&Ke.push(Ee(U.marketplace,"Marketplace")),R&&Ke.push(Ee(U.documentation,"Documentation")),s.resultsPanel(Ke);const _e=(e,t)=>{ce.currentPill.subscribeAndRun(e,(e=>{const s=je(e),a=s&&"All"!==s?r.Search.seeAll:r.Search.seeMore;t(a)}))},Ue=u.find(`.${J}`);Ue.html(ge);const at=MsPortalFx.require("MsPortalImpl/Services/Services.PillsAsyncSearch");if(at.then((a=>{const r=t.get(a.PillsAsyncSearchService),o={searchResultsCount:fe,showAadSection:b,showHighlightInServicesSection:k,showServicesCommandsOnHover:ne,subscribeAndUpdateSeeMoreText:_e},i=r.initialize(e,Qe,Ke,o),n=function(e,t,s){const a=x.create(e,{getKeyText:()=>t,getValueText:e=>e,value:"",showRemoveButton:!1,createEditor:()=>({onClick:()=>{s(t.toLocaleLowerCase(),!1)}})});return a}(e,U.allCategory,Qe),l=p.create(e,{multipleRows:!he,maxVisibleItems:7,items:[n].concat(i)});de=l.items(),s.pillsCollection(l)})).catch((e=>{throw e})),ko.applyBindingsToDescendants(ko.dataFor(Ue[0])||{data:s,func:s.getWidget(),text:s.text,emptySearchIcon:i},Ue[0]),Ue.attr({role:"listbox",id:s.menuId}),!G?.length){const e=[{id:"AzureActiveDirectory",icon:H.Images.Polychromatic.ActiveDirectory(),deepLink:"#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview/query",title:b?U.continueSearchingInActiveDirectoryText:U.activeDirectorySearchProvider,className:"fxs-search-menu-provider-azureactivedirectory",resultType:"AdditionalSearchProvider"}];s.additionalSearchProviders(e)}const rt=t.get(m.GeneralSettings),ot=t.get(l.Router),{enabled:it}=t.get(T.CopilotService).getConfig(),nt=it&&$e?.length>0;s.showAzureCopilotLink(nt),s.isDropdownInitialized().then((()=>{ko.computed(e,(()=>{if(!s.filter()){O.read(U.recentsMenuLabel);const e=rt.searchHistory();let a;try{a=e.length&&JSON.parse(e)}catch(e){}a&&s.searchHistory(a.slice(0,5));return f.AssetTypes.getRecentResourcesEndPoint.invoke(z.client,"HubsExtension",{limit:10}).then((e=>e.map((e=>MsPortalFx.Azure.getSubscriptionInfo(e.armId.subscription).then((s=>{const a=e.assetTypeInformation,r=(e.resourceKind||a.defaultKind||"").toLowerCase(),o=a.kindMap&&a.kindMap[r],i=o&&o.icon||a.icon||H.Images.Polychromatic.ResourceDefault(),n=o&&o.singularDisplayName||a.compositeDisplayName&&a.compositeDisplayName.singular||a.resourceType,l=e.assetTypeInformation.isPreview?U.previewLabelFmt.format(e.name):e.name;return{id:e.resourceId,armId:e.armId,displayName:l,resultType:"RecentResourceOrResourceGroup",typeName:n,icon:i,toolTip:(0,M.getToolTip)(e.resourceId,e.armId,t,s),deepLink:(0,h.getAssetDeepLink)(t,{extensionName:a.extensionName,assetType:a.assetType,assetId:e.resourceId}),detailsType:0,origDisplayName:l,origAssetType:a.extensionName+"."+a.assetType}})))))).then((e=>Promise.allSettled(e).then((e=>{s.mruItems(e.filter((e=>"fulfilled"===e.status&&e.value)).slice(0,5).map((e=>"fulfilled"===e.status&&e.value)))})))),t.get(d.FavoritesManagerDeferred).updateForRecents(null,8).then((e=>{const t=e&&e.map((e=>{const t=e.assetType?.isPreview?U.previewLabelFmt.format(e.label):e.label;return{displayName:t,id:e.id,icon:e.image,isPreview:e.isPreview,detailsType:1,resultType:"RecentService",deepLink:e.uri,origDisplayName:t,origAssetType:e.id}}));t&&s.recentServices(t)}))}}))})),t.get(g.SubscriptionsUserContext).getInSessionSelectedSubscriptions().then((a=>{a.subscribeAndRun(e,(e=>{s.showResults(!1),Ue.removeClass("fxs-async-search-menu-results"),function(e,t,s){Promise.all([t.get(g.SubscriptionsUserContext).getAllSubscriptionsCount(),t.get(P.TenantsService).getHomeTenantsCount()]).then((([t,a])=>{t=t||{},s=s||[];const{type:r,value:o}=t,i=s.length;let n="",l=!0;o&&(1===r||2===r?n=o===i?U.searchingAllSubs:U.searchingSelectedSubsOfTotal.format(i,o):i&&(n=U.searchingSelectedSubsOnly.format(i)),1===o&&1===r&&1===a&&(l=!1),e.subscriptionSummary(n),e.showChangeSubscriptions(l))}))}(s,t,e)}))})),s.showMenu.subscribeAndRun(e,(e=>{ke(),e?(Ce={version:ye,correlationId:++Se,action:""},we=K.start({source:"Search",action:"SearchSession"}),s.showResults()||s.filter.valueHasMutated()):(Ce.activePill=ue,Ce.pillsDetails=s.pillsCollection().items().map((e=>{const t=e;return`${t.displayText.key()}${t.displayText.value()}`})),K.completeTrace(we,Ce),we=null,le=setTimeout((()=>{s.filter(""),ke()}),_))})),s.performSearch=e=>{if(e.length){e=(e||"").trim(),Ce.queryCount=(Ce.queryCount||0)+1,$e?.length&&("withsearchterm"===$e.toLowerCase()?s.azureCopilotLinkHtml(U.Copilot.withSearchTerm.format(`<span class="ext-search-menu-azure-copilot-link-search-term">${e}</span>`)):s.azureCopilotLinkHtml(U.Copilot.withoutSearchTerm));const a={criteria:e,resultCount:fe};if(he){Ue.find(".fxs-global-search").addClass(Y);u.find(`.${X}`).addClass(Y);u.find(`.${J}`).addClass(Y)}return He?.startRendering(),at.then((e=>t.get(e.PillsAsyncSearchService).search(a,s).then((()=>{const e=s.currentPill()?.toLocaleLowerCase();if(!e){u.find(".fxc-pill").toArray().forEach((e=>{e.classList.contains(ie)&&$(e).removeClass(ie)}));const e=u.find(".fxc-pill").toArray()[0];$(e).addClass(ie)}e&&e!==xe?ce.resultsPanel().forEach((t=>{t.displayName.toLocaleLowerCase()!==e?(t.isVisible(!1),t.showErrorMessage(!1)):(t.isVisible(!0),t.error()&&t.showErrorMessage(!0))})):(ce.resultsPanel().forEach((e=>{e.error()?(e.showErrorMessage(!0),e.isVisible(!0)):e.isVisible(e.totalResultsCount()>0||!!e.warningMessage?.())})),s.currentPill(xe));let t=s.pillsCollection().items();const a=[],r=[];de.forEach((e=>{const s=t.find((t=>t===e));" (0)"===s.value()?a.push(s):r.push(s)})),t=r.concat(a),s.pillsCollection().items(t),O.read(U.resultsMenuLabel),r.length>1?s.showNoResults(!1):s.showNoResults(!0),s.noResultsMessage(U.Pills.noResultsMessage.format(s.filter()))}))))}s.resultsPanel().forEach((e=>e.results([])))},Be(s,s.showMenu(),se),s.showMenu.subscribe(e,(e=>{Be(s,e,se)})),s.currentPill.subscribe(e,(e=>{if(e?.length){if(ue=o.SectionStringToEnumValue[e.toLocaleLowerCase()],e.toLowerCase()===xe)s.resultsPanel().forEach((e=>{e.showAdditionalResults(!1)})),s.resultsPanel().forEach((e=>{e.showAdditionalResults(!1)}));else{const t=s.resultsPanel().find((t=>t.displayName.toLocaleLowerCase()===e));t?.showAdditionalResults(!0)}!function(e,t,s){const a=e.find(".fxs-menu-results:not(.fxs-display-none)").first().find(re).first();Me(e).removeClass(W),a.addClass(W),s.attr("aria-activedescendant",a.attr("id"))}(Ue,0,se)}})),ko.reactor(e,(()=>{const e=s.showSearching();se.attr({"aria-busy":e})})),ko.computed(e,[s.filter],(e=>{s.searchInFilterText(U.searchInFormat.format(e?"<strong>{0}</strong>".format(MsPortalFx.encodeHtml(e)):"")),e?(s.showSearching(!0),s.isSearchComplete(!1),s.performSearch(e).then((()=>{et({searchMenu:Ue,searchBoxTextField:se,vm:s})})),s.filter()===e&&(s.showResults(!0),Ue.addClass("fxs-async-search-menu-results"),Ue.attr({"aria-label":U.resultsMenuLabel}),s.showSearching(!1))):s.showResults()&&(s.showResults(!1),s.currentPill(null),Ue.removeClass("fxs-async-search-menu-results"),Ue.attr({"aria-label":U.recentsMenuLabel}),s.showMenu()&&function(e,t){const s=e.find(re),a=s.length>1&&"LI"!==s[0].tagName?$(s[1]):$(s[0]),r=Me(e);Ie(t,r,a,a,!1)}(Ue,se))})),function(e,t,s,r,o){const i=t.getRootElement(),n=i.find(ae),l=i.find(`.${j}`),c=i.find(`.${J}`),u=o.get(v.RecentServicesManager);t.showServicesCommandsOnHover&&i.on({mouseenter:Le,mouseleave:e=>Pe(e,i.find(ae))},".fxs-menu-result-item");i.on({mouseenter:Fe,mouseleave:e=>De(e,i.find(ae))},".fxs-search-menu-history");const p=(t,s,a,r)=>{t.on(s,a,r),e&&e.registerForDispose((()=>{t.off(s,a,r)}))},x=(e,t,s)=>{const a=e=>{"mousedown"!==e.type&&13!==e.which&&32!==e.which||s(e)};["mousedown","keydown"].forEach((s=>p(e,s,t,a)))};p(i,"focusin",null,(e=>{t.showMenu(!0)})),p(i,"focusout",null,(e=>{const s=setInterval((()=>{qe(t)&&(clearTimeout(a),clearInterval(s))}),50),a=setTimeout((()=>{clearInterval(s),Ce.action||(Ce.action=t.showResults()?"AbandonedResult":"AbandonedRecent"),t.showMenu(!1),pe=!1,et({searchMenu:c,searchBoxTextField:n,vm:t})}),200)})),p(i,"click",null,(e=>{t.setFocus()})),p(i,"dblclick",null,(e=>{t.setFocus()})),x(i,"a."+ee,(e=>{if("mousedown"===e.type&&(!e.which||1===e.which)||"keydown"===e.type){if(a.isCtrlOrCommandOnly(e))return!0;{e.preventDefault();const s=e.currentTarget,a=$(s);Ze(t,e,a.parent("li").index()+1,ko.dataFor(s),r,u,o)}t.isExpanded(!1),t.showMenu(!1)}})),x(i,".fxs-search-menu-star",(e=>{e.preventDefault(),e.stopImmediatePropagation();const t=ko.dataFor(e.currentTarget);(0,A.toggleFavorite)({clickedFavorite:t,favoritesManager:o.get(L.FavoritesManager),favoritesManagerDeferred:o.get(d.FavoritesManagerDeferred),telemetrySource:"GlobalSearch"}),Ce.action="ServiceFavoriteCommandClicked"})),x(i,`.${D.viewSubscriptionLinkClassName}`,(e=>{K.trace({source:"Search",action:"SearchCrossTenantSubscription",actionModifier:"OpenSubscriptionOtherTenant"}),Ce.action="OpenSubscriptionOtherTenant"})),x(i,".fxs-commandBar-item",(e=>{F.delay(150).then((()=>{$(e.currentTarget).find(".fxs-dropmenu-is-open").length?Ce.action="ServiceMenuCommandOpened":(Ce.action="ServiceCommandClicked",t.showMenu(!1),t.isExpanded(!1))})),e.preventDefault(),e.stopImmediatePropagation()})),x(i,".azc-toolbarButton-groupPopup > .azc-toolbarButton-container",(e=>{Ce.action="ServiceCommandClicked",qe(t)||(t.showMenu(!1),t.isExpanded(!1))})),x(i,".fxs-menu-history-clear-icon",(e=>{Ce.action="SearchHistoryRemoved";const t=e.currentTarget;!function(e,t){if(e&&e.length){const s=Ne(t),a=s.indexOf(e);a>=0&&(s.splice(a,1),ze(t,s))}}(ko.dataFor(t),o),e.preventDefault(),e.stopImmediatePropagation()})),x(i,".fxs-menu-history-removeall-link",(e=>{Ce.action="SearchHistoryClearAllClicked",Ge(t,o),e.preventDefault(),e.stopImmediatePropagation()})),x(i,"a."+Q,(e=>{e.preventDefault();const a=e.currentTarget,i=ko.dataFor(a);Oe({evt:e,vm:t,data:i,router:r,recentsManager:u,searchBoxTextField:s,diContainer:o})})),x(i,"a."+q,(e=>{e.preventDefault();const a=Ve(s.val());r.route(a,{openedBy:3}),t.isExpanded(!1),t.showMenu(!1)})),x(i,".fxs-menu-search-history-item",(e=>{e.preventDefault();const a=ko.dataFor(e.target);Ce.isHistoryItem=!0,s.val(a),t.filter(a),t.isExpanded(!0),t.showMenu(!0)})),x(i,".fxs-search-menu-recent-resources",(e=>{Ce.action="RecentResourceOpened",e.preventDefault(),e.stopImmediatePropagation();const s=ko.dataFor(e.currentTarget);r.route(s.deepLink,{openedBy:3}),t.isExpanded(!1),t.showMenu(!1)})),x(i,`.${oe}`,(e=>{("mousedown"!==e.type||e.which&&1!==e.which)&&"keydown"!==e.type||Re(e,c,r,t,u)})),x(i,".fxs-search-menu",(e=>{e.preventDefault(),e.stopImmediatePropagation()})),p(i,"click","a."+te,(e=>{e.preventDefault();const s=We();r.route(s,{openedBy:3}),t.isExpanded(!1),t.showMenu(!1)})),x(i,"a."+Z,(e=>{V({source:"Search",action:"ChangeSubscriptionsLinkClicked",data:MsPortalFx.sanitizeMessage(s.val())}),Ce.action="ChangeSubscriptionsLinkClicked"})),p(l,"click",null,(e=>{e.preventDefault(),s.focus(),t.filter(""),s.val(""),t.showSearching(!1)})),p(s,"keydown",null,(e=>{Je(t)&&(st(t,s,c,n,e,r,u,o),13===e.which?(pe=!0,et({searchMenu:c,searchBoxTextField:n,vm:t})):38!==e.which&&40!==e.which||(pe=!0,et({searchMenu:c,searchBoxTextField:n,vm:t,focusLastItem:38===e.which})),27!==e.which&&s.val().length>0&&t.showMenu(!0))})),p(i,"keydown","."+ie,(e=>{Xe(t)&&st(t,s,c,n,e,r,u,o)})),p(s,"keyup",null,(e=>{Je(t)&&tt(t,s.val())})),p(i,"keyup","."+ie,(e=>{Xe(t)&&tt(t,s.val())})),p(i,"keydown",re,(e=>{0===a.getModifierKeys(e)&&27===e.which?s.focus():Ae(e,c,n,r,t,u,o)})),p(s,"blur",null,(e=>{Ye(t)})),x(i,".fxs-search-menu-provider",(e=>{Te($(e.currentTarget),t,r,o)}))}(e,s,n,ot,t)}))},t.onClickHandler=void 0,t.openRecentService=Re,t.searchWidgetHasFocus=t.searchClearTimeInMillies=t.searchBoxHasFocus=t.openResultItemBlade=void 0,t.textFieldBlurHandler=Ye,t.textFieldKeyDownHandler=st,t.textFieldKeyUpHandler=tt;var E=s,N=r;(0,y.injectCss)(u);var z=FxImpl.Rpc,H=(f.Subscriptions.CountTypeEnum,MsPortalFx.Base),G=H.Constants,K=H.Diagnostics.Telemetry,O=G.ExtensionNames.Marketplace;const _=t.searchClearTimeInMillies=3e5,U=N.Search,V=K.trace,W="fxs-portal-selected",Z="fxs-menu-update-subscription",j="fxs-search-clear",Q="fxs-menu-result-category-more-link",q="fxs-menu-search-marketplace",J="fxs-search-menu",X="fxs-search-wrapper",Y="fxs-search-onecolumn",ee="fxs-menu-item",te="fxs-menu-recent-more-link",se="fxs-search-box",ae=`.${se} input`,re="li.fxs-portal-hover:not(.fxs-display-none) > a.fxs-search-menu-content, .fxs-search-menu-recent-content, .fxs-global-search .fxs-menu-allresources:not(.fxs-display-none),\n.fxs-menu-results:not(.fxs-display-none)>.fxs-menu-result-item, .fxs-menu-update-subscription, .fxs-search-menu-feedback-link",oe="fxs-menu-recent-services-details",ie="fxs-globalsearch-selected-pill",ne="fxs-menu-history-removeall-link";let le,ce,de,ue,pe=!1;const xe=U.allCategory.toLocaleLowerCase(),fe=window.fx.environment.globalSearch,he=t.domainConfigData={showServices:fe&&!fe.hideServices||!fe,showResourcesAndResourceGroups:fe&&!fe.hideResourcesAndResourceGroups||!fe,showDocumentation:fe&&!fe.hideMarketplaceAndDocumentation||!fe,showMarketplace:fe&&!fe.hideMarketplaceAndDocumentation&&!fe.hideMarketplace||!fe,showAadSection:fe&&!fe.hideAzureActiveDirectory||!fe,pillsFromConfig:fe&&fe.pills},me=E.tsx("div",{class:"fxs-menu-result-text-primary"},E.tsx(s.KoIf,{condition:"$root.data.showChangeSubscriptions()"},E.tsx("span",{class:"fxs-search-menu-noresults-text-details fxs-portal-text","data-bind":{html:"$root.data.noResultsChangeSubscriptionsText"}})),E.tsx(s.KoIfNot,{condition:"$root.data.showChangeSubscriptions()"},E.tsx("span",{class:"fxs-search-menu-noresults-text-details fxs-portal-text","data-bind":{text:"$root.data.text.Pills.noResultsMessageDetailsWithoutSubscriptionLink"}}))),ge=E.tsx(s.Root,null,E.tsx("div",{class:"fxs-global-search"},E.tsx(s.KoIf,{condition:"data.showResults() && data.showAzureCopilotLink()"},E.tsx("div",{class:"fxs-search-menu-azure-copilot-link-section fxs-portal-border",tabindex:"0","data-bind":{fxclick:"data.azureCopilotButtonClickHandler",attr:{"aria-label":"data.text.Copilot.withoutSearchTerm",title:"data.text.Copilot.withoutSearchTerm"}}},E.tsx("div",{class:"fxs-portal-svg fxs-search-menu-azure-copilot-icon"},n.getSvgReferenceOrFallBackToData(R).outerHTML),E.tsx("div",{class:"fxs-portal-text fxs-search-menu-azure-copilot-link","data-bind":{sanitizedHtml:"data.azureCopilotLinkHtml"}}))),E.tsx("div",{class:"fxs-search-menu-container"},E.tsx(s.KoIf,{condition:"!data.showResults()"},E.tsx(s.KoIf,{condition:"data.searchHistory().length"},E.tsx("div",{class:"fxs-async-searchmenu-result-category"},E.tsx("div",{class:"fxs-async-searchmenu-result-category-title fxs-portal-text","data-bind":{text:"text.searchHistory"}}),E.tsx("div",{class:"fxs-async-searchmenu-result-category-line"}),E.tsx("a",{tabindex:"-1",role:"button",class:"fxs-menu-history-removeall-link fxs-menu-allresources","data-bind":{text:"data.text.clearAll"}})),E.tsx("ul",{class:"fxs-menu-search-history","data-bind":{foreach:"data.searchHistory",attr:{"aria-label":"data.text.searchHistory"}},role:"group"},E.tsx("li",{class:"fxs-search-menu-history fxs-portal-hover",role:"none"},E.tsx("a",{role:"option",href:"",class:"fxs-search-menu-content fxs-menu-search-history-item","data-bind":{attr:{title:"$data.toolTip",id:"$data","aria-label":"$data"}}},E.tsx("div",{class:"fxs-menu-result-details"},E.tsx("div",{style:"opacity: 0.5",class:"fxs-menu-result-icon","data-bind":{image:"MsPortalFx.Base.Images.History()"}}),E.tsx("div",{class:"fxs-menu-result-name fxs-portal-text","data-bind":{text:"$data"}}))),E.tsx("div",{class:"fxs-portal-svg fxs-menu-history-clear-icon fxs-display-none","data-bind":{image:"MsPortalFx.Base.Images.Close()",attr:{"aria-label":"$root.data.text.clearSearchHistory"}}})))),E.tsx(s.KoIf,{condition:"data.recentServices().length"},E.tsx("div",{class:"fxs-async-searchmenu-result-category"},E.tsx("div",{class:"fxs-async-searchmenu-result-category-title fxs-portal-text","data-bind":{text:"text.recentServices"}}),E.tsx("div",{class:"fxs-async-searchmenu-result-category-line"})),E.tsx("ul",{class:"fxs-menu-recent-services","data-bind":{foreach:"data.recentServices",attr:{"aria-label":"data.text.recentServices"}},role:"group"},E.tsx("li",{class:"fxs-menu-recent-services-item",role:"none"},E.tsx("a",{role:"option",class:"fxs-menu-recent-services-details fxs-search-menu-recent-content","data-bind":{attr:{id:"$data.id",href:"$data.deepLink",title:"$data.displayName","aria-label":"$data.displayName"}}},E.tsx("div",{class:"fxs-menu-recent-services-icon","data-bind":{image:"$data.icon"}}),E.tsx("div",{class:"fxs-menu-recent-services-title fxs-portal-text","data-bind":{text:"$data.displayName"}}))))),E.tsx(s.KoIf,{condition:"data.mruItems().length"},E.tsx("div",{class:"fxs-async-searchmenu-result-category"},E.tsx("div",{class:"fxs-async-searchmenu-result-category-title fxs-portal-text","data-bind":{text:"text.recentResources"}}),E.tsx("div",{class:"fxs-async-searchmenu-result-category-line"}),E.tsx(s.KoIf,{condition:"data.mruItems().length === 5"},E.tsx("a",{href:"#",class:"fxs-menu-recent-more-link fxs-menu-allresources","data-bind":{attr:{"aria-label":"data.text.seeMore"}},role:"option"},E.tsx("span",{"data-bind":{text:"data.text.seeMore",attr:{"aria-label":"data.text.seeMore"}}})))),E.tsx("ul",{class:"fxs-menu-mru","data-bind":{foreach:"data.mruItems",attr:{"aria-label":"text.recentResources"},id:"data.menuId"},role:"group"},E.tsx("li",{role:"none",class:"fxs-portal-hover"},E.tsx("a",{role:"option",class:"fxs-search-menu-recent-resources fxs-search-menu-content","data-bind":{attr:{title:"$data.toolTip",href:"$data.deepLink",id:"$data.id"}}},E.tsx("div",{class:"fxs-menu-result-details"},E.tsx("div",{class:"fxs-menu-result-icon","data-bind":{image:"$data.icon"}}),E.tsx("div",{class:"fxs-menu-result-name fxs-portal-text","data-bind":{text:"$data.displayName"}}),E.tsx("div",{class:"fxs-menu-result-type fxs-portal-subtext","data-bind":{text:"$data.typeName"}}))))))),E.tsx(s.KoIf,{condition:"data.showResults()"},E.tsx("div",{class:"fxs-search-menu-filter-pill","data-bind":{pcControl:"data.pillsCollection()"}}),E.tsx("div",{class:"fxs-menu-result-area"},E.tsx(s.KoTemplate,{options:"{ name: 'asyncSearchResultGroup', foreach: data.resultsPanel }"})),E.tsx(s.KoIf,{condition:"data.showNoResults() && data.text.allCategory.toLocaleLowerCase() === $root.data.currentPill()"},E.tsx("div",{class:"fxs-search-menu-noresults"},E.tsx("div",{class:"fxs-search-menu-noresultsicon","data-bind":{image:"emptySearchIcon"}}),E.tsx("div",{class:"fxs-search-menu-noresults-text fxs-portal-text","data-bind":{text:"data.noResultsMessage"}}),E.tsx(s.KoTemplate,{options:"{ name: 'noResultsTemplate'}"}))))),E.tsx(s.KoIf,{condition:"data.showResults() && data.isSearchComplete() && data.additionalSearchProviders().length"},E.tsx("div",{class:"fxs-portal-border fxs-search-menu-providers"},E.tsx("ul",{class:"fxs-search-menu-providers-list","data-bind":{foreach:"data.additionalSearchProviders",attr:{"aria-label":"data.text.additionalSearchProvidersHint"},id:"data.menuId"},role:"group"},E.tsx("li",{class:"fxs-portal-hover",role:"none"},E.tsx("a",{role:"option",href:"",class:"fxs-search-menu-provider fxs-search-menu-content","data-bind":{css:"$data.className",attr:{title:"$data.title",id:"$data.id"}}},E.tsx("div",{class:"fxs-menu-result-details"},E.tsx("div",{class:"fxs-menu-result-icon","data-bind":{image:"$data.icon"}}),E.tsx("div",{class:"fxs-menu-result-name fxs-portal-text","data-bind":{text:"$data.title"}}))))))),E.tsx("div",{class:"fxs-menu-subscription-summary fxs-portal-border","data-bind":{css:{"fxs-search-menu-border-reset":"data.showResults()"}}},E.tsx(s.KoIf,{condition:"data.showSubscriptionSummaryAndLink"},E.tsx("div",{class:"fxs-menu-subscription-text fxs-portal-subtext","data-bind":{text:"data.subscriptionSummary"}}),E.tsx(s.KoIf,{condition:"data.showChangeSubscriptions"},E.tsx("a",{href:"#menu/subscriptions",class:"fxs-menu-update-subscription","data-bind":{text:"data.text.change"}}))),E.tsx("div",{class:"fxs-search-menu-feedback"},E.tsx("span",{"data-bind":{image:"MsPortalFx.Base.Images.Feedback()"}}),E.tsx("a",{role:"button",tabindex:"0",class:"fxs-search-menu-feedback-link","data-bind":{click:"data.feedbackButtonClickHandler",text:"data.text.Feedback.title",attr:{title:"data.text.Feedback.title"}}}))))),be=E.tsx(s.Root,null,E.tsx("li",{class:"fxs-portal-hover fxs-menu-result-item",role:"none"},E.tsx("a",{role:"option",class:"fxs-menu-item fxs-search-menu-content","data-bind":{attr:{title:"$data.toolTip",href:"$data.deepLink",id:"$data.id","aria-label":"$data.displayName"}}},E.tsx("div",{class:"fxs-menu-result-details"},E.tsx("div",{class:"fxs-menu-result-icon","data-bind":{image:"$data.icon"}}),E.tsx("div",{class:"fxs-menu-result-text","data-bind":{css:{"fxs-menu-result-text-noicon":"!$data.icon"}}},E.tsx("div",{class:"fxs-menu-result-text-primary"},E.tsx(s.KoIf,{condition:"$data.resultType ==='BrowseItem'"},E.tsx("span",{class:"fxs-menu-result-name fxs-portal-text","data-bind":{html:"$data.displayName"}})),E.tsx(s.KoIfNot,{condition:"$data.resultType ==='BrowseItem'"},E.tsx("span",{class:"fxs-menu-result-name fxs-portal-text","data-bind":{text:"$data.displayName",css:{"msportalfx-text-primary":"$parent.displayName === $root.func._documentCategoryDisplayName"}}})),E.tsx(s.KoIf,{condition:"$data.isDisabled"},E.tsx("span",{class:"msportalfx-preview-text fxs-search-menu-disabled-tag","data-bind":{text:"$root.data.text.disabledServiceText",attr:{title:"$root.data.text.DisabledByPolicyMessage"}}})),E.tsx("div",{class:"fxs-menu-result-type fxs-portal-subtext","data-bind":{text:"$data.typeName"}})),E.tsx(s.KoIf,{condition:"$data.secondaryName"},E.tsx("div",{class:"fxs-menu-result-text-secondary fxs-portal-subtext","data-bind":{html:"$data.secondaryName",title:"$data.secondaryName"}}))),E.tsx(s.KoIf,{condition:"$data.isExternal"},E.tsx("div",{class:"fxs-search-external"},E.tsx("div",{class:"fxs-fill-secondary","data-bind":{image:"$root.data.icons.hyperlink"}}))))),E.tsx(s.KoIf,{condition:"$root.data.showServicesCommandsOnHover"},E.tsx("div",{class:"fxs-search-menu-commands fxs-display-none"},E.tsx(s.KoIf,{condition:"$data.commandsToolbar && !$data.isDisabled"},E.tsx("div",{tabindex:"0","data-bind":{pcControl:"$data.commandsToolbar"}})),E.tsx(s.KoIf,{condition:"$data.resultType ==='BrowseItem'"},E.tsx("div",{tabindex:"0",class:["fxs-search-menu-star fxs-portal-svg"],"data-bind":{image:"$data.isFavorite && ($data.isFavorite() && $data.isFavorite() ? $root.data.icons.favorite : $root.data.icons.notFavorite)",title:"$data.isFavorite && ($data.isFavorite() && $data.isFavorite() ? $root.data.text.unFavoriteCommandTitle : $root.data.text.favoriteCommandTitle"}})))))),ve=E.tsx(s.Root,null,E.tsx(s.KoIf,{condition:"$data.startRendering()"},E.tsx("div",null,E.tsx("div",{class:"fxs-async-searchmenu-result-category","data-bind":{visible:"$data.isVisible()",attr:{id:"$data.displayName"}}},E.tsx("div",{class:"fxs-async-searchmenu-result-category-title fxs-portal-text","data-bind":{html:"$data.displayName"}}),E.tsx("div",{class:"fxs-async-searchmenu-result-category-line"}),E.tsx(s.KoIf,{condition:"$data.showSeeMore()"},E.tsx("a",{class:"fxs-menu-result-category-more-link fxs-menu-allresources","data-bind":{visible:"!!$data.moreLinkType"}},E.tsx("span",{"data-bind":{html:"$data.moreResultsLinkText()"}})))),E.tsx(s.KoIf,{condition:"$data.isLoading()"},E.tsx("div",{class:"fxs-search-section-loading"},E.tsx("fxs-progress",{class:"fxs-progress-small"}))),E.tsx(s.KoIfNot,{condition:"$data.isLoading()"},E.tsx(s.KoIf,{condition:"!$data.totalResultsCount() && !$data.error()"},E.tsx(s.KoIf,{condition:"$data.displayName.toLocaleLowerCase() === $root.data.currentPill()"},E.tsx("div",{class:"fxs-search-menu-noresults"},E.tsx("div",{class:"fxs-search-menu-noresultsicon"},n.getSvgReferenceOrFallBackToData(i).outerHTML),E.tsx("div",{class:"fxs-search-menu-noresults-text fxs-portal-text","data-bind":{text:"$root.data.noResultsMessage"}}),E.tsx(s.KoTemplate,{options:"{ name: 'noResultsTemplate'}"})))),E.tsx(s.KoIf,{condition:"$data.error() && $data.showErrorMessage()"},E.tsx("div",{class:"fxs-search-menu-error fxs-portal-text","data-bind":{html:"$data.error()"}})),E.tsx(s.KoIf,{condition:"$data.warningMessage && $data.warningMessage() && $data.isVisible()"},E.tsx("div",{class:"fxs-search-warning-message"},E.tsx("div",{class:"fxs-menu-result-icon","data-bind":{image:"MsPortalFx.Base.Images.StatusBadge.Warning()"}}),E.tsx("div",{class:"fxs-menu-no-results fxs-portal-text","data-bind":{html:"$data.warningMessage()"}}))),E.tsx("ul",{"data-bind":{visible:"$data.isVisible()",attr:{"aria-label":"$data.displayName"}},class:"fxs-menu-results",role:"group"},E.tsx(s.KoTemplate,{options:"{ name: 'asyncSearchResultsList', foreach: $data.results }"}),E.tsx(s.KoIf,{condition:"$data.showAdditionalResults()"},E.tsx(s.KoTemplate,{options:"{ name: 'asyncSearchResultsList', foreach: $data.additionalResults }"}))))))),ye=1;let we,Se=0,Ce={version:ye,correlationId:Se,action:""};function ke(){le&&(clearTimeout(le),le=null)}function Me(e){return e.find(`.${W}`).first()}function Ie(e,t,s,a,r){t.removeClass(W),Pe(t,e),De(t,e),t.length&&s.length||(s=a),s.addClass(W),e.attr("aria-activedescendant",s.attr("id")),Le(s),Fe(s),r&&(s.focus(),e.focus())}function Re(e,t,s,r,o,i){const n=i||$(e.currentTarget),l=ko.dataFor(n[0]),c=l.deepLink;if(l.favoriteType&&o.addService({type:"favoriteType",favoriteType:l.favoriteType}),c&&a.isCtrlOrCommandOnly(e))return!0;e.preventDefault(),l.isExternal?window.open(c):s.route(c,{openedBy:3}),Ce.action="RecentServiceOpened",Ce.item={id:l.id,resultType:l.resultType,assetType:l.origAssetType||l.typeName,position:(i?i.index():n.parent("li").index())+1},r.isExpanded(!1),r.showMenu(!1),V({source:"Search",action:"RecentServiceOpened",data:{id:l.id,position:n.parent("li").index()+1,searchMenuWidth:t.width(),displayCount:n.parent("li").siblings().length+1}})}function Te(e,t,s,a){const r=ko.dataFor(e[0]),o=t.filter();s.route(`${r.deepLink}/${o}`,{openedBy:3}),V({source:"Search",action:"SearchAzureActivityDirectoryExecuted",data:o}),Ce.action="AdditionalDataProviderSectionClicked",Ce.item={id:r.id,resultType:r.resultType,assetType:r.deepLink},t.isExpanded(!1),t.showMenu(!1)}function Ae(e,t,s,a,r,o,i){if(pe){const n=t.find(".fxs-menu-results:not(.fxs-display-none)"),l=n?.length,c=!l||l>1?t.find(re):n.first().find(re),d=c.first(),u=Me(t),p=c.index(u);let x;switch(e.keyCode){case 13:if(He(s.val(),i),u){const n=u.is("a")?u:u.find("a");if(n.length&&n.is(":visible"))if(n.hasClass(q)){const e=Ve(s.val());a.route(e,{openedBy:3})}else if(n.hasClass(te)){const e=We();a.route(e,{openedBy:3})}else if(n.hasClass(ne))Ce.action="SearchHistoryClearAllEnter",Ge(r,i);else{const l=ko.dataFor(u[0]);if(n.hasClass(oe))Re(e,t,a,r,o,u);else if(n.hasClass("fxs-search-menu-provider"))Te(u,r,a);else if(n.hasClass(Z))V({source:"Search",action:"ChangeSubscriptionsLinkClicked"}),Ce.action="ChangeSubscriptionsLinkClicked",n[0].click();else if(n.hasClass("fxs-search-menu-feedback-link"))V({source:"Search",action:"FeedbackLinkClicked"}),Ce.action="FeedbackLinkClicked",n[0].click();else if(n.hasClass(Q))Oe({evt:e,vm:r,data:l,router:a,recentsManager:o,searchBoxTextField:s,diContainer:i});else{const t=n.hasClass("fxs-menu-search-history-item");Ze(r,e,u.index()+1,l,a,o,i,t),t?(s.val(l),r.filter(l)):(r.isExpanded(!1),r.showMenu(!1))}}}e.stopImmediatePropagation();break;case 40:x=$(c[p===c.length?0:p+1]),Ie(s,u,x,d,!0),e.stopImmediatePropagation(),e.preventDefault();break;case 38:x=$(c[0===p?c.length:p-1]),Ie(s,u,x,c.last(),!0),e.stopImmediatePropagation(),e.preventDefault();break;case 37:case 39:break;default:pe=!1}}}function $e(e,t,s,a){return V({source:"Search",action:t,data:e}),Ce.action=s,a}const Le=e=>{if(e){const t=(e instanceof jQuery?e:$(e.currentTarget)).find(".fxs-search-menu-commands");t&&$(t[0]).removeClass("fxs-display-none"),!(e instanceof jQuery)&&e.stopImmediatePropagation()}},Pe=(e,t)=>{if(e){const s=(e instanceof jQuery?e:$(e.currentTarget)).find(".fxs-search-menu-commands");s.find(".fxs-dropmenu-is-open")&&s.trigger("focusout"),t.focus(),s&&$(s[0]).addClass("fxs-display-none"),!(e instanceof jQuery)&&e.stopImmediatePropagation()}},Fe=e=>{if(e){const t=(e instanceof jQuery?e:$(e.currentTarget)).find(".fxs-menu-history-clear-icon");t&&$(t[0]).removeClass("fxs-display-none"),!(e instanceof jQuery)&&e.stopImmediatePropagation()}},De=(e,t)=>{if(e){const s=(e instanceof jQuery?e:$(e.currentTarget)).find(".fxs-menu-history-clear-icon");t.focus(),s&&$(s[0]).addClass("fxs-display-none"),!(e instanceof jQuery)&&e.stopImmediatePropagation()}};function Be(e,t,s){const a=e.getRootElement().find(`.${J}`).find(re).first();s.attr("aria-activedescendant",a.attr("id"))}function Ee(e,t){return{displayName:e,matchingPillName:t,results:ko.observableArray([]),additionalResults:ko.observableArray([]),totalResultsCount:ko.observable(0),moreLinkType:ko.observable(),isLoading:ko.observable(!0),startRendering:ko.observable(!0),moreLinkDetails:ko.observable(),showSeeMore:ko.observable(!1),moreResultsLinkText:ko.observable(""),error:ko.observable(""),isVisible:ko.observable(!0),showAdditionalResults:ko.observable(!1),warningMessage:ko.observable(""),showErrorMessage:ko.observable(!0)}}function Ne(e){const t=(0,e.get(m.GeneralSettings).searchHistory)();let s=[];try{s=t&&t.length&&JSON.parse(t)||[]}catch(e){}return s}function ze(e,t){(0,e.get(m.GeneralSettings).searchHistory)(JSON.stringify(t))}function He(e,t){if(e&&e.length){const s=Ne(t);s.includes(e)||(s.length>5&&s.pop(),s.unshift(e),ze(t,s))}}function Ge(e,t){t.get(m.GeneralSettings).searchHistory(""),e.searchHistory([])}function Ke(e){let t=!1;return ce.getRootElement().find(".fxc-pill").toArray().forEach((s=>{$(s).find(".fxc-pill-content-key").text().toLocaleLowerCase()===e&&(t=!0)})),t}function Oe(e){const t=e.evt.currentTarget,s=e.searchBoxTextField.val();He(s,e.diContainer);const r=3===e.evt.which||a.isCtrlOrCommandOnly(e.evt),i=$(t),n=i.is("a")?i:i.find("a"),l=t=>t(s,e.diContainer).then((t=>r?(n.attr("href",t),!0):(e.router.route(t,{openedBy:3}),!1))),c=je(),d=e.data.displayName.toLocaleLowerCase();if(c&&"All"!==c)(()=>{switch(K.trace({source:"Search",action:"SeeAllLinkClicked",data:{pillName:o.SectionStringToEnumValue[d]}}),e.data.moreLinkType()){case 1:Ce.action="SeeAllResources",e.recentsManager.addService({type:"assetType",assetId:"HubsExtension_BrowseAllResources"}),l(_e);break;case 2:e.recentsManager.addService({type:"assetType",assetId:"HubsExtension_ResourceGroups"}),Ce.action="SeeAllResourceGroups",l(Ue);break;case 3:{e.recentsManager.addService({type:"assetType",assetId:"Microsoft_Azure_Marketplace_Gallery"});const t=Ve(s,!0);if(r)return n.attr("href",t),!0;e.router.route(t,{openedBy:3});break}case 5:{const e=(0,h.getAllServicesDeeplink)(s);if(r)return n.attr("href",e),!0;window.location.href=e,Ce.action="SeeAllServices",V({source:"Search",action:"AllServicesMenuOpened"});break}case 6:{e.recentsManager.addService({type:"assetType",assetId:"Microsoft_AAD_IAM_AzureActiveDirectory"}),Ce.action="SeeAllAzureActiveDirectory";const t=e.data.moreLinkDetails();if(r)return n.attr("href",t),!0;e.router.route(t,{openedBy:3});break}default:e.data.displayName===U.documentation&&(V({source:"Search",action:"SearchDocumentationExecuted",data:s}),Ce.action="SeeAllDocumentation"),window.open(e.data.moreLinkDetails())}r||(e.vm.isExpanded(!1),e.vm.showMenu(!1))})();else if(K.trace({source:"Search",action:"SeeMoreLinkClicked",data:{pillName:o.SectionStringToEnumValue[d]}}),Ke(d))Qe(d,!0);else{ce.getRootElement().find(".fxc-pill-collection-moreOrLess").click();const e=setInterval((()=>{Ke(d)&&(clearInterval(e),Qe(d,!0))}),30)}}const _e=function(e,t){return(0,b.getBrowseBladeUri)(t,b.lowerCaseAllResourcesId).then((t=>$e(e,"SearchAllResourcesExecuted","SeeAllResources",`${t}/filter/${e}`)))};t.getAllResourcesBlade=_e;const Ue=function(e,t){return(0,b.getBrowseBladeUri)(t,b.lowerCaseResourceGroupsId).then((t=>$e(e,"SearchResourceGroupsExecuted","SeeAllResourceGroups",`${t}/filter/${e}`)))};t.getAllResourceGroupsBlade=Ue;const Ve=function(e,t){return $e(e,"SearchMarketplaceExecuted",t?"SeeAllMarketplace":"Marketplace","#blade/"+O+"/GalleryFeaturedMenuItemBlade/selectedMenuItemId/home/searchQuery/"+e)};t.getMarketplaceBlade=Ve;t.getAzureActiveDirectoryBlade=function(e,t){return $e(e,"SearchAzureActivityDirectoryExecuted","SeeAllAzureActiveDirectory",t)};const We=function(){return $e("","SearchAllRecentsExecuted","SeeAllRecents","#blade/HubsExtension/BrowseRecentResources.ReactView")};t.getRecentsBlade=We;const Ze=function(e,t,s,a,r,o,i,n){He(e.filter(),i);let l="SearchResultOpened";e.showResults()?Ce.action="Result":(Ce.action="Recent",l="RecentItemOpened"),n||(V({source:"Search",action:l,data:{id:a.id,resultType:a.resultType,type:a.origAssetType,deepLink:a.deepLink}}),Ce.item={id:a.id,displayName:a.origDisplayName||a.displayName||a,subName:a.origSubName||a.secondaryName,resultType:a.resultType,assetType:a.origAssetType||a.typeName,position:s}),"BrowseItem"===a.resultType&&1===a.detailsType&&a.favoriteType&&o.addService({type:"favoriteType",favoriteType:a.favoriteType}),n?e.showMenu(!0):a.isExternal?window.open(a.deepLink):r.route(a.deepLink,{openedBy:3})};t.openResultItemBlade=Ze;const je=e=>o.SectionStringToEnumValue[e||ce.currentPill()],Qe=(e,t)=>{const s=e?.toLocaleLowerCase();let a;if(ce.getRootElement().find(".fxc-pill").toArray().forEach((e=>{$(e).find(".fxc-pill-content-key").text().toLocaleLowerCase()===s?($(e).find(".fxc-pill-content").focus(),$(e).addClass(ie),a=!0):e.classList.contains(ie)&&$(e).removeClass(ie)})),!a){const e=document.activeElement;$(e).addClass(ie)}s===xe?ce.resultsPanel().forEach((e=>{e.error()?(e.showErrorMessage(!0),e.isVisible(!0)):e.isVisible(e.totalResultsCount()>0||!!e.warningMessage?.())})):ce.resultsPanel().forEach((e=>{e.displayName.toLocaleLowerCase()!==s?(e.isVisible(!1),e.showErrorMessage(!1)):(e.isVisible(!0),e.error()&&e.showErrorMessage(!0))})),ce.currentPill(s),t||K.trace({source:"Search",action:"SearchPillClicked",data:{pillName:o.SectionStringToEnumValue[s]}})};t.onClickHandler=Qe;let qe=function(e){return $.contains(e.getRootElement()[0],document.activeElement)};t.searchWidgetHasFocus=qe;const Je=function(e){const t=e.getRootElement().find(`.${se}`);return $.contains(t[0],document.activeElement)};t.searchBoxHasFocus=Je;const Xe=e=>e.getRootElement().find(`.${ie}`)[0]===document.activeElement;function Ye(e){F.delay(200).then((()=>{qe(e)||e.isExpanded(!1)}))}function et(e){const t=t=>{t.length&&!(i.length&&i.hasClass("fxs-search-menu-provider")||i.length)&&t.addClass(W),e.searchBoxTextField.attr("aria-activedescendant",t.attr("id"))},s=(t,s)=>s?e.searchMenu.find(t).last():e.searchMenu.find(t).first(),a=s(".fxs-menu-result-item",e.focusLastItem),r=s(".fxs-search-menu-history",e.focusLastItem),o=s(".fxs-menu-recent-services-item",e.focusLastItem),i=Me(e.searchMenu);e.focusLastItem?0!==a.length?t(a):0!==o.length?t(o):t(r):0!==r.length?t(r):0!==o.length?t(o):t(a),pe||(a.removeClass(W),r.removeClass(W),o.removeClass(W))}function tt(e,t){e.filter((t||"").trim())}function st(e,t,s,r,o,i,n,l){if(0===a.getModifierKeys(o)&&27===o.which){o.preventDefault();const s=t.val();(!s||1===s.length&&27===s.charCodeAt(0))&&(e.isExpanded(!1),e.showMenu(!1)),t.val(""),e.filter("")}else Ae(o,s,r,i,e,n,l)}}));