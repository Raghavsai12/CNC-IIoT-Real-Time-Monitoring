define("MsPortalImpl.Controls/Controls/Base/Loadable",["require","exports","MsPortalImpl.Controls/Controls/Base/OptionsBase"],(function(e,t,o){"use strict";t.Widget=void 0;class a extends o.Widget{constructor(e,t,o,a){super(e,t,o,a)}}t.Widget=a})),
define("MsPortalImpl.Controls/Controls/Base/WidgetBindingHandler",["require","exports","MsPortalImpl.Controls/Controls/Base/Base"],(function(e,t,o){"use strict";t.getBindingHandler=function(e,t){return t=t||{controlsDescendantBindings:!0},{init:function(e,o,a,i,l){return t},update:function(t,a,i,l,n){const s=ko.unwrap(a());ko.ignoreDependencies((()=>{let a=o.getWidget($(t),e);null!==a&&a.dispose(),s&&(a=new e($(t),s,{bindingContext:n}))}))}}}})),
define("MsPortalImpl/Weave/Builder",["require","exports"],(function(e,t){"use strict";t.Builder=void 0;class o{constructor(e){this._generator=e,this._dynamicClass=Object.create(null),this._style=Object.create(null),this._children=[],this._classes=Object.create(null),this._attributes=Object.create(null)}parent(){return this._parent}setClass(e){if(!e)throw new Error("empty string is not allowed");if(this._dynamicClass[e])throw new Error(`${e} was already added as dynamic class.`);if(e.includes(" "))throw new Error(`${e} contains empty space, which is not allowed, it only accepts one single class name`);return this._classes[e]=!0,this}setDynamicClass(e,t){if(!e)throw new Error("empty string is not allowed");if(this._classes[e])throw new Error(`${e} was already added as static class.`);if(e.includes(" "))throw new Error(`${e} contains empty space, which is not allowed, it only accepts one single class name`);return this._dynamicClass[e]=t,this}setStyle(e,t){return this._style[e]=t,this}setAttribute(e,t){return this._attributes[e]=t,this}insertAdjacentNode(e,t){if(t instanceof o&&t._parent)throw new Error("The newNode is already attached to a parent node.");switch(e){case"beforebegin":case"afterend":{if(!this._parent)throw new Error("This node doesn't have a parent.");const a=this._parent._children.indexOf(this);return this._parent._children.splice("beforebegin"===e?a:a+1,0,t),t instanceof o&&(t._parent=this._parent),this}default:return"beforeend"===e?this._children.push(t):this._children.unshift(t),t instanceof o&&(t._parent=this),this}}generateFinalTsx(){return this._generator({className:this.getClassName(),style:this._style,children:this._children.map((e=>e instanceof o?e.generateFinalTsx():e)),attributes:this._attributes})}getClassName(){return[this._dynamicClass,Object.keys(this._classes)]}warnOnStyleAndAttrExistence(){return this}}t.Builder=o})),
define("Viva.Controls/Controls/Base/Viva.Validators",["require","exports","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.ImplUtils","MsPortalFx/Globalization","FxInternal/Utils/DateUtils","luxon","FxInternal/Diagnostics","Fx"],(function(e,t,o,a,i,l,n,s,r){"use strict";t.ValueRange=t.Validator=t.Uri=t.Required=t.Numeric=t.NotMatch=t.NotContainsCharacters=t.NotContains=t.MinValue=t.MinLength=t.MaxValue=t.MaxLength=t.Match=t.LocaleAwareCaseInsensitiveComparison=t.LengthRange=t.Invalid=t.HasUpperCaseLetter=t.HasPunctuation=t.HasLowerCaseLetter=t.HasLetter=t.HasDigit=t.Equals=t.DateTimeRange=t.CustomAsyncValidator=t.ContainsCharacters=t.Contains=t.Compare=t.CaseInsensitiveComparison=void 0,t.getSupportedDateFormats=function(e){const t=[];let o="YYYY-MM-DD";const a=(0,l.sanitizeDateTimeLocaleString)(n.DateTime.fromObject({year:1978,month:12,day:31}).toLocaleString(n.DateTime.DATE_SHORT,{locale:i.formatCulture})).replace("31",e?"DD":"dd").replace("12","MM").replace("1978",e?"YYYY":"yyyy");t.push(a),e||(o="yyyy-MM-dd");t.includes(o)||t.push(o);return t},t.getSupportedTimeFormats=function(e,t){const o=[];let a=e?"h:mm:ss AM/PM":"h:mm AM/PM";const s={...e?n.DateTime.TIME_WITH_SECONDS:n.DateTime.TIME_SIMPLE,locale:i.formatCulture},r=(0,l.sanitizeDateTimeLocaleString)(n.DateTime.fromObject({hour:11,minute:22,second:33}).toLocaleString(s)).replace("11","h").replace("22","mm").replace("33","ss").replace((0,l.getMeridiems)(i.formatCulture)[0],t?"AM/PM":"a");o.push(r),t||(a=e?"h:mm:ss a":"h:mm a");o.includes(a)||o.push(a);return o},t.getValidationResults=function(e){return e().map((e=>{const t=e.validationState(),o=1!==t;let a=o?e?.passMessage():e.message();return o&&21===e.type&&(a=e.message()),{valid:o,message:a,state:t,type:e.type}})).filter((e=>e))};var c=o,d=MsPortalFx.Base,b=MsPortalFx.isNullOrUndefined;const h=o.Viva.Validators,p=h.DateTimeRange,u=d.Diagnostics.createLog(e),f=MsPortalFx.regexEscape;function m(e){return(e||"").toLowerCase()}function v(e){return(e||"").toLocaleLowerCase()}class g{constructor(e,t,o,a){const i=this._ltm=e.createChildLifetime();this.fxViewModel=t,this.lastValidate=null;let l=o;t&&t.message&&(l=t.message);let n=a;n=t&&t.successMessage?t.successMessage:a&&a.length?a:null,this.message=ko.observable(l),this.passMessage=ko.observable(n),this.validationState=ko.observable(0),this.isEmptyValid=ko.observable(!1),this.type=t?.type,this.valid=ko.computed(i,(()=>2===this.validationState()))}dispose(){this._ltm.dispose()}createValidationResult(e,t){return{valid:e=!!e,message:t=t||(e?this.passMessage():this.message()),state:e?2:1,type:this.type}}validate(e,t){if(!t){const t=this.lastValidate;if(t&&t.value===e)return t.result}const o=this._validate(e),a={value:e,result:o};return r.isPromise(o)?o.then((e=>{a.result=e})):this.validationState(o.valid?2:1),this.lastValidate=a,o}clear(){this.lastValidate=null,this.validationState(0)}}t.Validator=g;class x extends g{constructor(e,t,o,a,i,l){t&&2===t.type&&(o=t.pattern,a=void 0),super(e,t,i||h.match.format(t.pattern),l||"Match found."),this._expression=new RegExp(o,a)}_validate(e){if((b(e)||""===$.trim(e))&&this.isEmptyValid())return this.createValidationResult(!0);const t=this._expression.test(e||"");return this.createValidationResult(t)}}t.Match=x;class z extends g{constructor(e,t,o,a,i,l){t&&3===t.type&&(o=t.pattern,a=void 0),super(e,t,i||h.notMatch.format(t.pattern),l||h.Success.notMatch),this._expression=new RegExp(o,a)}_validate(e){if((b(e)||""===$.trim(e))&&this.isEmptyValid())return this.createValidationResult(!0);const t=!this._expression.test(e||"");return this.createValidationResult(t)}}t.NotMatch=z;t.Contains=class extends x{constructor(e,t){super(e,t,f(t.searchString),"i",h.contains.format(t.message),h.Success.contains.format(t.searchString))}};t.NotContains=class extends z{constructor(e,t){super(e,t,f(t.searchString),"i",h.notContains.format(t.searchString),h.Success.notMatch.format(t.searchString))}};class C extends x{constructor(e,t,o,a,i){t&&6===t.type&&(o=t.characters),super(e,t,"["+f(o)+"]","",a||h.containsCharacters.format(o),i||h.Success.containsCharacters.format(o))}}t.ContainsCharacters=C;t.NotContainsCharacters=class extends z{constructor(e,t){super(e,t,"["+f(t.characters)+"]","",h.notContainsCharacters.format(t.characters),h.Success.notContainsCharacters.format(t.characters))}};t.HasDigit=class extends x{constructor(e,t){super(e,t,"[0-9]",void 0,h.hasDigit,h.Success.hasDigit)}};t.HasLetter=class extends x{constructor(e,t){super(e,t,"[A-Za-z]",void 0,h.hasLetter,h.Success.hasLetter)}};t.HasUpperCaseLetter=class extends x{constructor(e,t){super(e,t,"[A-Z]",void 0,h.hasUpperCaseLetter,h.Success.hasUpperCaseLetter)}};t.HasLowerCaseLetter=class extends x{constructor(e,t){super(e,t,"[a-z]",void 0,h.hasLowerCaseLetter,h.Success.hasLowerCaseLetter)}};t.HasPunctuation=class extends C{constructor(e,t){super(e,t,"!@#$%^&*()_+-={}|[]\\:\";'<>,.?/~`",h.hasPunctuation,h.Success.hasPunctuation)}};class _ extends g{constructor(e,t,o,a){super(e,t,o,h.Success.equals.format(ko.unwrap(t.compareTo))),ko.isObservable(t.compareTo)?this._compareTo=t.compareTo:this._compareTo=()=>t.compareTo}_validate(e){if((b(e)||"string"==typeof e&&""===$.trim(e))&&this.isEmptyValid())return this.createValidationResult(!0);const t=this._compare(e,this._compareTo());return this.createValidationResult(t)}_compare(e,t){return!1}}t.Compare=_;t.Equals=class extends _{constructor(e,t){super(e,t,h.equals.format(ko.unwrap(t.compareTo)))}_compare(e,t){return e===t}};t.CaseInsensitiveComparison=class extends _{constructor(e,t){super(e,t,h.caseInsensitiveComparison)}_compare(e,t){return m(e)===m(t)}};t.LocaleAwareCaseInsensitiveComparison=class extends _{constructor(e,t){super(e,t,h.localeAwareCaseInsensitiveComparison)}_compare(e,t){return v(e)===v(t)}};class k extends g{constructor(e,t,o,a,i,l){t&&14===t.type&&(o=t.min,a=t.max),super(e,t,i||h.lengthRange.format(o,a),l||h.Success.lengthRange.format(o,a)),this._min=o,this._max=a}_validate(e){let t,o;if(e=$.trim(e),(b(e)||""===$.trim(e))&&this.isEmptyValid())return this.createValidationResult(!0);if(t=0,b(e)||(t=e.length),o=0,b(this._min)||(o=this._min),t>=o){if(b(this._max))return this.createValidationResult(!0);if(t<=this._max)return this.createValidationResult(!0)}return this.createValidationResult(!1)}}t.LengthRange=k;class w extends k{constructor(e,t,o,a,i){t&&15===t.type&&(o=t.min),super(e,t,o,null,a||h.minLength.format(o),h.Success.minLength.format(o))}}t.MinLength=w;t.MaxLength=class extends k{constructor(e,t){super(e,t,0,t.max,h.maxLength.format(t.max),h.Success.maxLength.format(t.max))}};t.Required=class extends w{constructor(e,t){super(e,t,1,h.required)}};t.Numeric=class extends g{constructor(e,t){super(e,t,h.numeric,h.Success.numeric)}_validate(e){return(b(e)||""===$.trim(e))&&this.isEmptyValid()?this.createValidationResult(!0):b(e)||""===e?this.createValidationResult(!1):this.createValidationResult(!isNaN(+e))}};class V extends g{constructor(e,t,o,a,i,l){t&&18===t.type&&(o=t.min,a=t.max);let n=o;ko.isObservable(n)||(n=()=>o);let s=a;ko.isObservable(s)||(s=()=>a),super(e,t,i||h.valueRange.format(n(),s()),l||h.Success.valueRange.format(n(),s())),this.min=n,this.max=s}_validate(e){let t;return(b(e)||""===$.trim(e))&&this.isEmptyValid()||(b(e)||""===e)&&b(this.min())&&b(this.max())?this.createValidationResult(!0):b(e)||"string"!=typeof e&&"number"!=typeof e||""===e||(t=+e,isNaN(t))||!b(this.min())&&t<this.min()||!b(this.max())&&t>this.max()?this.createValidationResult(!1):this.createValidationResult(!0)}}t.ValueRange=V;t.MinValue=class extends V{constructor(e,t,o){t&&19===t.type&&(o=t.min),super(e,t,o,null,h.minValue.format(o),h.Success.minValue.format(o))}};t.MaxValue=class extends V{constructor(e,t,o){t&&20===t.type&&(o=t.max),super(e,t,null,o,h.maxValue.format(o),h.Success.maxValue.format(o))}};t.DateTimeRange=class extends g{constructor(e,t,o,a){let l;const s={...n.DateTime.DATETIME_SHORT_WITH_SECONDS,locale:i.formatCulture};l=a||(t&&o?p.minMax.format(n.DateTime.fromJSDate(t).toLocaleString(s),n.DateTime.fromJSDate(o).toLocaleString(s)):t?p.min.format(n.DateTime.fromJSDate(t).toLocaleString(s)):o?p.max.format(n.DateTime.fromJSDate(o).toLocaleString(s)):p.valid),super(e,null,l),this.minDateTime=t,this.maxDateTime=o}_validate(e){if(b(e))return this.createValidationResult(this.isEmptyValid());const t=e.getTime();return!b(this.minDateTime)&&Math.floor(t/1e3)<Math.floor(this.minDateTime.getTime()/1e3)||!b(this.maxDateTime)&&Math.floor(t/1e3)>Math.floor(this.maxDateTime.getTime()/1e3)?this.createValidationResult(!1):this.createValidationResult(!0)}};class y{constructor(e,t){this.promise=e,this.asyncRequestId=t}}t.CustomAsyncValidator=class extends g{constructor(e,t,o){if(super(e,t,""),t?.type){const e=e=>t.validate(e);this._validationHandler=this._convertValidateFunction(e,o)}else this._validationHandler=t;this._pendingAsyncRequests=[],this._latestValidationAsyncRequestId=null}_validate(e){if(!this._validationHandler)return this.validationState(2),Promise.resolve(this.createValidationResult(!0));this._latestValidationAsyncRequestId=MsPortalFx.getUniqueId();const t=this._validationHandler(e);return this._pendingAsyncRequests.push(new y(t,this._latestValidationAsyncRequestId)),this.validationState(3),t.then((e=>(this._updateValidationResult(t,e),this.createValidationResult(e.valid,e.message)))).catch((e=>{const o=this.createValidationResult(!1,e?.message);return this._updateValidationResult(t,o),o}))}_convertValidateFunction(e,t){return(o,a)=>{const i=e(o);if(i)return Promise.resolve(i).then((e=>{if(!e){const e=FxImpl.createError(c.Field.invalidValidationResult,{data:{message:`CustomValidation function '${t}' was resolved with invalid ValidationResult. ValidationResult.message is required to inform customer why customer's input is invalid.`}});let o,a=-1;throw t&&(a=t.indexOf("-"))>0&&(o=t.slice(0,a)),FxImpl.Rpc.client.log(o||"fx",{level:2,code:0,area:"Viva.Validators",message:(0,s.decycle)(e)}),e}return e}));{const e=FxImpl.createError("Extension validation handler did not return a promise. Proxied observable id is: '{0}'".format(t));return u.error(e),Promise.reject(e)}}}_updateResult(e){const t=e.valid,o=e.message,a=t?2:1;o&&this.message(o),this.validationState(a)}_updateValidationResult(e,t){let o;o=this._pendingAsyncRequests.length<=1?this._pendingAsyncRequests.pop():this._removePendingAsyncRequest(e),o&&o.asyncRequestId===this._latestValidationAsyncRequestId&&this._updateResult(t)}_removePendingAsyncRequest(e){let t=0,o=-1,a=null;for(t=0;t<this._pendingAsyncRequests.length;t++)if(this._pendingAsyncRequests[t].promise===e){o=t;break}return o>=0?(a=this._pendingAsyncRequests[o],this._pendingAsyncRequests.splice(o,1),a):null}};t.Invalid=class extends g{constructor(e,t){t&&"string"!=typeof t?super(e,t,h.invalid):super(e,null,t||h.invalid),this.validationState(1)}_validate(e){return this.createValidationResult(!1)}};t.Uri=class extends g{constructor(e,t){super(e,t,h.uri,h.Success.uri),this._options=t.options}_validate(e){if((b(e)||""===$.trim(e))&&this.isEmptyValid())return this.createValidationResult(!0);const t=a.validateAbsoluteHttpUri(e,this._options);return this.createValidationResult(t)}}})),
define("MsPortalImpl/UI/UI.PopupPositioningMethods",["require","exports"],(function(e,t){"use strict";t.balloonPointerClass=void 0,t.getBestFitForDialogPosition=function(e,t,o,n,s){const r=()=>n.top>=t.height()+s,c=()=>n.top+n.height+t.height()+s<=o.offset().top+o.height();switch(e=e||0){case 1:case 5:return r()?l(n,t,o,e):l(n,t,o,a(n,o));case 2:return t.width()+s<=o.offset().left+o.width()-n.left-n.width?e:i(n,o);case 3:case 6:return c()?l(n,t,o,e):l(n,t,o,a(n,o));case 4:return n.left>=t.width()+s?e:i(n,o);default:return e}},t.getBestFitForTooltipPosition=function(e,t,o,a){let i=7,l=null;const n=t.offset(),s=n.left;let r=e.height();const c=e.width();r<32&&(r=32);const d=o.top-n.top<r+a,b=o.top-n.top<n.top+t.height()-(o.top+o.height);d&&b&&(i=8);const h=o.left+(o.width-c)/2;if(h<s)l=s;else{l=h;let e=l+c-(s+t.width());e>0&&(e++,l-=e),l<s&&(l=s)}return{tooltipPosition:i,locationLeft:l}},t.getBox=function(e){const t=$(e);return t.length?t[0].getBoundingClientRect():{top:0,left:0,width:0,height:0}},t.positionVPointerOnToolTip=function(e,t,a,i){let l=0;const n=e.width();let s=null;const r=a.left+(a.width-n)/2;if(r<t.left)s=t.left,l=t.left-r;else{s=r;let e=s+n-t.right;e>0&&(e++,s-=e,l=-e),s<t.left&&(l+=t.left-s,s=t.left)}const c=e.find(`.${o}`);if(c.css({left:l?`calc(50% + 2px - ${i}px - (${l}px))`:""}),l){let e=n/2+2-i-l;e<2*i?e=2*i:e>n-2*i&&(e=n-2*i),c.css({left:`${e}px`})}};const o=t.balloonPointerClass="azc-balloon-pointer2";function a(e,t){return e.top>t.offset().top+t.height()-e.top-e.height?1:3}function i(e,t){return e.left>t.offset().left+t.width()-e.left-e.width?4:2}function l(e,t,o,a){const i=o.offset().left+o.width()-e.left,l=e.left+e.width,n=t.width()<=i||l<=i;switch(a){case 1:case 5:default:return n?1:5;case 3:case 6:return n?3:6}}})),
define("_generated/Less/Viva.Controls/Controls/Base/Viva.Base.css",["module"],(function(e){"use strict";return{css:"body>div[data-popup='true'].azc-control{z-index:250}div.msportalfx-bgcolor-k0t2,.azc-color-index-76,div.azc-color-k0t2,.azc-before-color-index-76::before,div.azc-before-color-k0t2::before{background-color:#63707e!important}div.msportalfx-bgcolor-j0t2,.azc-color-index-75,div.azc-color-j0t2,.azc-before-color-index-75::before,div.azc-before-color-j0t2::before{background-color:#f0f7b2!important}div.msportalfx-bgcolor-i0t2,.azc-color-index-74,div.azc-color-i0t2,.azc-before-color-index-74::before,div.azc-before-color-i0t2::before{background-color:#ccecdb!important}div.msportalfx-bgcolor-h0t2,.azc-color-index-73,div.azc-color-h0t2,.azc-before-color-index-73::before,div.azc-before-color-h0t2::before{background-color:#ccf0ea!important}div.msportalfx-bgcolor-g0t2,.azc-color-index-72,div.azc-color-g0t2,.azc-before-color-index-72::before,div.azc-before-color-g0t2::before{background-color:#ccf2fc!important}div.msportalfx-bgcolor-f0t2,.azc-color-index-71,div.azc-color-f0t2,.azc-before-color-index-71::before,div.azc-before-color-f0t2::before{background-color:#ccd1e9!important}div.msportalfx-bgcolor-e0t2,.azc-color-index-70,div.azc-color-e0t2,.azc-before-color-index-70::before,div.azc-before-color-e0t2::before{background-color:#e1d3e4!important}div.msportalfx-bgcolor-d0t2,.azc-color-index-69,div.azc-color-d0t2,.azc-before-color-index-69::before,div.azc-before-color-d0t2::before{background-color:#fbcce8!important}div.msportalfx-bgcolor-c0t2,.azc-color-index-68,div.azc-color-c0t2,.azc-before-color-index-68::before,div.azc-before-color-c0t2::before{background-color:#facfd3!important}div.msportalfx-bgcolor-b0t2,.azc-color-index-67,div.azc-color-b0t2,.azc-before-color-index-67::before,div.azc-before-color-b0t2::before{background-color:#ffe8cc!important}div.msportalfx-bgcolor-a0t2,.azc-color-index-66,div.azc-color-a0t2,.azc-before-color-index-66::before,div.azc-before-color-a0t2::before{background-color:#fffccc!important}div.msportalfx-bgcolor-k0t1,.azc-color-index-65,div.azc-color-k0t1,.azc-before-color-index-65::before,div.azc-before-color-k0t1::before{background-color:#8f9ca8!important}div.msportalfx-bgcolor-j0t1,.azc-color-index-64,div.azc-color-j0t1,.azc-before-color-index-64::before,div.azc-before-color-j0t1::before{background-color:#d6e86c!important}div.msportalfx-bgcolor-i0t1,.azc-color-index-63,div.azc-color-i0t1,.azc-before-color-index-63::before,div.azc-before-color-i0t1::before{background-color:#66c592!important}div.msportalfx-bgcolor-h0t1,.azc-color-index-62,div.azc-color-h0t1,.azc-before-color-index-62::before,div.azc-before-color-h0t1::before{background-color:#66d1bf!important}div.msportalfx-bgcolor-g0t1,.azc-color-index-61,div.azc-color-g0t1,.azc-before-color-index-61::before,div.azc-before-color-g0t1::before{background-color:#66d7f7!important}div.msportalfx-bgcolor-f0t1,.azc-color-index-60,div.azc-color-f0t1,.azc-before-color-index-60::before,div.azc-before-color-f0t1::before{background-color:#6674bc!important}div.msportalfx-bgcolor-e0t1,.azc-color-index-59,div.azc-color-e0t1,.azc-before-color-index-59::before,div.azc-before-color-e0t1::before{background-color:#a47aaf!important}div.msportalfx-bgcolor-d0t1,.azc-color-index-58,div.azc-color-d0t1,.azc-before-color-index-58::before,div.azc-before-color-d0t1::before{background-color:#f466ba!important}div.msportalfx-bgcolor-c0t1,.azc-color-index-57,div.azc-color-c0t1,.azc-before-color-index-57::before,div.azc-before-color-c0t1::before{background-color:#f1707b!important}div.msportalfx-bgcolor-b0t1,.azc-color-index-56,div.azc-color-b0t1,.azc-before-color-index-56::before,div.azc-before-color-b0t1::before{background-color:#ffba66!important}div.msportalfx-bgcolor-a0t1,.azc-color-index-55,div.azc-color-a0t1,.azc-before-color-index-55::before,div.azc-before-color-a0t1::before{background-color:#fcf37e!important}div.msportalfx-bgcolor-k0s1,.azc-color-index-54,div.azc-color-k0s1,.azc-before-color-index-54::before,div.azc-before-color-k0s1::before{background-color:#464f59!important}div.msportalfx-bgcolor-j0s1,.azc-color-index-53,div.azc-color-j0s1,.azc-before-color-index-53::before,div.azc-before-color-j0s1::before{background-color:#8ba208!important}div.msportalfx-bgcolor-i0s1,.azc-color-index-52,div.azc-color-i0s1,.azc-before-color-index-52::before,div.azc-before-color-i0s1::before{background-color:#0f5b2f!important}div.msportalfx-bgcolor-h0s1,.azc-color-index-51,div.azc-color-h0s1,.azc-before-color-index-51::before,div.azc-before-color-h0s1::before{background-color:#00856f!important}div.msportalfx-bgcolor-g0s1,.azc-color-index-50,div.azc-color-g0s1,.azc-before-color-index-50::before,div.azc-before-color-g0s1::before{background-color:#008db5!important}div.msportalfx-bgcolor-f0s1,.azc-color-index-49,div.azc-color-f0s1,.azc-before-color-index-49::before,div.azc-before-color-f0s1::before{background-color:#00126b!important}div.msportalfx-bgcolor-e0s1,.azc-color-index-48,div.azc-color-e0s1,.azc-before-color-index-48::before,div.azc-before-color-e0s1::before{background-color:#4e195c!important}div.msportalfx-bgcolor-d0s1,.azc-color-index-47,div.azc-color-d0s1,.azc-before-color-index-47::before,div.azc-before-color-d0s1::before{background-color:#b10069!important}div.msportalfx-bgcolor-c0s1,.azc-color-index-46,div.azc-color-c0s1,.azc-before-color-index-46::before,div.azc-before-color-c0s1::before{background-color:#ae0d1a!important}div.msportalfx-bgcolor-b0s1,.azc-color-index-45,div.azc-color-b0s1,.azc-before-color-index-45::before,div.azc-before-color-b0s1::before{background-color:#bf6900!important}div.msportalfx-bgcolor-a0s1,.azc-color-index-44,div.azc-color-a0s1,.azc-before-color-index-44::before,div.azc-before-color-a0s1::before{background-color:#bfb500!important}div.msportalfx-bgcolor-k0s2,.azc-color-index-43,div.azc-color-k0s2,.azc-before-color-index-43::before,div.azc-before-color-k0s2::before{background-color:#32383f!important}div.msportalfx-bgcolor-j0s2,.azc-color-index-42,div.azc-color-j0s2,.azc-before-color-index-42::before,div.azc-before-color-j0s2::before{background-color:#3d460a!important}div.msportalfx-bgcolor-i0s2,.azc-color-index-41,div.azc-color-i0s2,.azc-before-color-index-41::before,div.azc-before-color-i0s2::before{background-color:#063d20!important}div.msportalfx-bgcolor-h0s2,.azc-color-index-40,div.azc-color-h0s2,.azc-before-color-index-40::before,div.azc-before-color-h0s2::before{background-color:#084c41!important}div.msportalfx-bgcolor-g0s2,.azc-color-index-39,div.azc-color-g0s2,.azc-before-color-index-39::before,div.azc-before-color-g0s2::before{background-color:#005e79!important}div.msportalfx-bgcolor-f0s2,.azc-color-index-38,div.azc-color-f0s2,.azc-before-color-index-38::before,div.azc-before-color-f0s2::before{background-color:#000c48!important}div.msportalfx-bgcolor-e0s2,.azc-color-index-37,div.azc-color-e0s2,.azc-before-color-index-37::before,div.azc-before-color-e0s2::before{background-color:#34113d!important}div.msportalfx-bgcolor-d0s2,.azc-color-index-36,div.azc-color-d0s2,.azc-before-color-index-36::before,div.azc-before-color-d0s2::before{background-color:#760046!important}div.msportalfx-bgcolor-c0s2,.azc-color-index-35,div.azc-color-c0s2,.azc-before-color-index-35::before,div.azc-before-color-c0s2::before{background-color:#740912!important}div.msportalfx-bgcolor-b0s2,.azc-color-index-34,div.azc-color-b0s2,.azc-before-color-index-34::before,div.azc-before-color-b0s2::before{background-color:#804600!important}div.msportalfx-bgcolor-a0s2,.azc-color-index-33,div.azc-color-a0s2,.azc-before-color-index-33::before,div.azc-before-color-a0s2::before{background-color:#807900!important}div.msportalfx-bgcolor-k2,.azc-color-index-32,div.azc-color-k2,.azc-before-color-index-32::before,div.azc-before-color-k2::before{background-color:#d6d7d8!important}div.msportalfx-bgcolor-j2,.azc-color-index-31,div.azc-color-j2,.azc-before-color-index-31::before,div.azc-before-color-j2::before{background-color:#e2e584!important}div.msportalfx-bgcolor-i2,.azc-color-index-30,div.azc-color-i2,.azc-before-color-index-30::before,div.azc-before-color-i2::before{background-color:#55d455!important}div.msportalfx-bgcolor-h2,.azc-color-index-29,div.azc-color-h2,.azc-before-color-index-29::before,div.azc-before-color-h2::before{background-color:#00d8cc!important}div.msportalfx-bgcolor-g2,.azc-color-index-28,div.azc-color-g2,.azc-before-color-index-28::before,div.azc-before-color-g2::before{background-color:#6dc2e9!important}div.msportalfx-bgcolor-f2,.azc-color-index-27,div.azc-color-f2,.azc-before-color-index-27::before,div.azc-before-color-f2::before{background-color:#4668c5!important}div.msportalfx-bgcolor-e2,.azc-color-index-26,div.azc-color-e2,.azc-before-color-index-26::before,div.azc-before-color-e2::before{background-color:#9b4f96!important}div.msportalfx-bgcolor-d2,.azc-color-index-25,div.azc-color-d2,.azc-before-color-index-25::before,div.azc-before-color-d2::before{background-color:#f472d0!important}div.msportalfx-bgcolor-c2,.azc-color-index-24,div.azc-color-c2,.azc-before-color-index-24::before,div.azc-before-color-c2::before{background-color:#dd5900!important}div.msportalfx-bgcolor-b2,.azc-color-index-23,div.azc-color-b2,.azc-before-color-index-23::before,div.azc-before-color-b2::before{background-color:#ffb900!important}div.msportalfx-bgcolor-a2,.azc-color-index-22,div.azc-color-a2,.azc-before-color-index-22::before,div.azc-before-color-a2::before{background-color:#fffc9e!important}div.msportalfx-bgcolor-k0,.azc-color-index-21,div.azc-color-k0,.azc-before-color-index-21::before,div.azc-before-color-k0::before{background-color:#bbc2ca!important}div.msportalfx-bgcolor-j0,.azc-color-index-20,div.azc-color-j0,.azc-before-color-index-20::before,div.azc-before-color-j0::before{background-color:#bad80a!important}div.msportalfx-bgcolor-i0,.azc-color-index-19,div.azc-color-i0,.azc-before-color-index-19::before,div.azc-before-color-i0::before{background-color:#009e49!important}div.msportalfx-bgcolor-h0,.azc-color-index-18,div.azc-color-h0,.azc-before-color-index-18::before,div.azc-before-color-h0::before{background-color:#00b294!important}div.msportalfx-bgcolor-g0,.azc-color-index-17,div.azc-color-g0,.azc-before-color-index-17::before,div.azc-before-color-g0::before{background-color:#00bcf2!important}div.msportalfx-bgcolor-f0,.azc-color-index-16,div.azc-color-f0,.azc-before-color-index-16::before,div.azc-before-color-f0::before{background-color:#00188f!important}div.msportalfx-bgcolor-e0,.azc-color-index-15,div.azc-color-e0,.azc-before-color-index-15::before,div.azc-before-color-e0::before{background-color:#68217a!important}div.msportalfx-bgcolor-d0,.azc-color-index-14,div.azc-color-d0,.azc-before-color-index-14::before,div.azc-before-color-d0::before{background-color:#ec008c!important}div.msportalfx-bgcolor-c0,.azc-color-index-13,div.azc-color-c0,.azc-before-color-index-13::before,div.azc-before-color-c0::before{background-color:#e81123!important}div.msportalfx-bgcolor-b0,.azc-color-index-12,div.azc-color-b0,.azc-before-color-index-12::before,div.azc-before-color-b0::before{background-color:#ff8c00!important}div.msportalfx-bgcolor-a0,.azc-color-index-11,div.azc-color-a0,.azc-before-color-index-11::before,div.azc-before-color-a0::before{background-color:#fff100!important}div.msportalfx-bgcolor-k1,.azc-color-index-10,div.azc-color-k1,.azc-before-color-index-10::before,div.azc-before-color-k1::before{background-color:#a0a5a8!important}div.msportalfx-bgcolor-j1,.azc-color-index-9,div.azc-color-j1,.azc-before-color-index-9::before,div.azc-before-color-j1::before{background-color:#7fba00!important}div.msportalfx-bgcolor-i1,.azc-color-index-8,div.azc-color-i1,.azc-before-color-index-8::before,div.azc-before-color-i1::before{background-color:#007233!important}div.msportalfx-bgcolor-h1,.azc-color-index-7,div.azc-color-h1,.azc-before-color-index-7::before,div.azc-before-color-h1::before{background-color:#008272!important}div.msportalfx-bgcolor-g1,.azc-color-index-6,div.azc-color-g1,.azc-before-color-index-6::before,div.azc-before-color-g1::before{background-color:#0072c6!important}div.msportalfx-bgcolor-f1,.azc-color-index-5,div.azc-color-f1,.azc-before-color-index-5::before,div.azc-before-color-f1::before{background-color:#002050!important}div.msportalfx-bgcolor-e1,.azc-color-index-4,div.azc-color-e1,.azc-before-color-index-4::before,div.azc-before-color-e1::before{background-color:#442359!important}div.msportalfx-bgcolor-d1,.azc-color-index-3,div.azc-color-d1,.azc-before-color-index-3::before,div.azc-before-color-d1::before{background-color:#b4009e!important}div.msportalfx-bgcolor-c1,.azc-color-index-2,div.azc-color-c1,.azc-before-color-index-2::before,div.azc-before-color-c1::before{background-color:#ba141a!important}div.msportalfx-bgcolor-b1,.azc-color-index-1,div.azc-color-b1,.azc-before-color-index-1::before,div.azc-before-color-b1::before{background-color:#eb3c00!important}div.msportalfx-bgcolor-a1,.azc-color-index-0,div.azc-color-a1,.azc-before-color-index-0::before,div.azc-before-color-a1::before{background-color:#fcd116!important}",moduleId:e.id}})),
define("Viva.Controls/Controls/Base/Viva.Base",["require","exports","MsPortalImpl/Base/JQueryHelper","MsPortalImpl.Controls/Controls/Base/OptionsBase","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Base/Viva.Base.css"],(function(e,t,o,a,i,l){"use strict";t.autoTooltipClass=t.Widget=t.ViewModel=void 0,t.ensureViewModel=b,(0,i.injectCss)(l);var n=MsPortalFx.initObservable,s=MsPortalFx.isNullOrUndefined;const r="azc-control",c="azc-control-disabled";t.autoTooltipClass="msportalfx-tooltip-overflow";class d extends MsPortalFx.ViewModels.Controls.Base.ViewModel{constructor(e){super(e.ltm),this.disabled=n(e.disabled,!1),this.loading=n(e.loading,!1)}populateFromObject(e){d.copyObject(e,this)}static copyObject(e,t){d._copyObject(e,t,[],[])}static _copyObject(e,t,o,a){const i=e,l=t;let n,s;o.push(e),a.push(t);for(const e in i)!i.hasOwnProperty(e)||e.startsWith("#")||e.startsWith("_")&&!e.startsWith("_msPortalFx")||(s=i[e],void 0!==s&&(Array.isArray(s)||s instanceof Date?l[e]=s:"object"==typeof s&&null!==s?(n=o.indexOf(s),n>=0?l[e]=a[n]:(l[e]||(l[e]={}),d._copyObject(s,l[e],o,a))):l[e]=s))}}function b(e,t,o){if(t instanceof o)return t;{const a=new o(MsPortalFx.extend({ltm:e},t));return a.populateFromObject(t),a}}t.ViewModel=d;class h extends a.Widget{constructor(e,t,o,a){const i=new FxImpl.TriggerableLifetimeManager,l=function(e){return(e=e||{}).viewModelType=e.viewModelType||d,e}(o);if(super(e,b(i,t,l.viewModelType),l,a),this._viewModelType=o&&o.viewModelType||d,this._dataFocusableCallback=ko.observable(),this._markFocusFirstElements=ko.observable(),this._supportsFocus=ko.observable(!1),!e||0===e.length)throw new Error("You must specify an element to associate a widget to it. Your element is either null or an empty collection.");const n=this.ltm;n.registerForDispose(i),this._disposablesLifetimeManager=n.createChildLifetime(),h.setupCleanData();const p=this.element;p.addClass(r).attr("data-control","true"),ko.computed(n,(()=>{this.widget().toggleClass(c,!!this.$disabled())})),ko.computed(n,(()=>{const e=this._dataFocusableCallback();s(e)?(p.removeAttr("data-canfocus"),delete p[0]["data-canfocus"]):(p.attr("data-canfocus","true"),p[0]["data-canfocus"]=()=>e.apply(this,[p,this]))})),ko.computed(n,(()=>{const e=this._supportsFocus(),t=this._dataFocusableCallback.peek();e?t!==this._setFocus&&this._dataFocusableCallback(this._setFocus):s(t)||this._dataFocusableCallback(null)})),ko.computed(n,(()=>{const e=this._markFocusFirstElements(),t=e?e():null;this._prevElement&&$(this._prevElement).removeAttr("data-focus-first"),t&&$(t).attr("data-focus-first","true"),this._prevElement=t})),this._initializeSubscriptions(this.options)}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(this._supportsFocus(!1),this._disposeSubscriptions(),this.element.removeClass(r).removeClass(c).removeAttr("data-control").removeAttr("role"),super.dispose())}get subLifetime(){return this._subLifetimeManager}get _disposables(){return this._disposablesLifetimeManager}_canSetFocus(){const e=this.element;return e.attr("data-canfocus")&&!this.$disabled.peek()&&o.isVisible(e)&&!e.is(":disabled")}_getElementToFocus(){return this.widget()[0]}_setFocus(e,t){if(this._canSetFocus()){const e=this._getElementToFocus();if(e)return e.focus(),!0}return!1}_disposeSubscriptions(){this._subLifetimeManager&&this._subLifetimeManager.dispose()}_initializeSubscriptions(e){this._disposeSubscriptions(),this._subLifetimeManager=this.ltm.createChildLifetime()}_afterCreate(){}static setupCleanData(){h._cleanData||(h._cleanData=$.cleanData,$.cleanData=function(e){let t;for(let o,a=0;null!==(o=e[a])&&void 0!==o;a++)$.hasData(o)&&($(o).triggerHandler(h._widgetRemoveEvent),t=!0);t&&h._cleanData.call($,e)})}}t.Widget=h,h._widgetEventNamespace=".azcWidget",h._widgetRemoveEvent="remove"+h._widgetEventNamespace})),
define("Viva.Controls/Util/Viva.Positioning",["require","exports"],(function(e,t){"use strict";t.Invert2DTransformationMatrix=function(e){const t=s(e),o=r(t);if(0===o)return i.assert(!1,"transform cannot be inverted. returning identity matrix instead."),[1,0,0,1,0,0];const a=t[1][1]/o,l=-t[0][1]/o,n=r([[t[0][1],t[0][2]],[t[1][1],t[1][2]]])/o,c=-t[1][0]/o,d=t[0][0]/o,b=-r([[t[0][0],t[0][2]],[t[1][0],t[1][2]]])/o;return[a,c,l,d,n,b]},t.Positioning=void 0,t.multiplyTransformArrays=function(e,t){const o=s(e),a=s(t),i=[[0,0,0],[0,0,0],[0,0,0]];for(let e=0;e<3;e++)for(let t=0;t<3;t++)for(let l=0;l<3;l++)i[e][t]+=o[e][l]*a[l][t];return l=i,[l[0][0],l[1][0],l[0][1],l[1][1],l[0][2],l[1][2]];var l};var o=MsPortalFx.Base.Diagnostics;const a=window,i=new o.Log("Positioning");function l(e,t){return!!(e&&t&&e&t)}var n;function s(e){return[[e[0],e[2],e[4]],[e[1],e[3],e[5]],[0,0,1]]}function r(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}!function(e){function t(e){return(e[0].getBoundingClientRect().width||0)/(e.width()||1)||1}function o(e,t){return{left:e.left/t,top:e.top/t}}function i(e,t){const o=$(a);return e-(o.height()+o.scrollTop())/t}e.position=function(e,n,s){s||(s={});const r=t(e),c=e.outerWidth(),d=e.outerHeight(),b=o(n.offset(),r),h=1*n.outerWidth(),p=1*n.outerHeight(),u=s.elementAlign||3,f=s.baseAlign||10,m=s.horizontalOverflowBehavior||2,v=s.verticalOverflowBehavior||3;l(f,4)&&(b.left+=h),l(f,8)&&(b.top+=p);const g=MsPortalFx.clone(b);if(l(u,4)&&(g.left-=c),l(u,8)&&(g.top-=d),g.left=Math.round(g.left),g.top=Math.round(g.top),1!==v){const e=function(e,t,o){let a=0,n=e.top;const s=o?(l(t.elementAlign,1)?-1:1)*t.elementSize:0;let r=0-n,c=0;if(r>0)n=o?n+s+t.baseElementSize:0,c=i(n+t.elementSize,t.scaleFactor),c>0&&(o&&c>=r?(n=e.top,a=r):a=c);else if(c=i(n+t.elementSize,t.scaleFactor),c>0){if(o){n+=s+(l(t.baseElementAlign,1)?1:-1)*t.baseElementSize}else n-=c;r=0-n,r>0&&(o&&r>=c?(n=e.top,a=c):(n=0,a=r))}return{top:n,shrinkAmount:a}}(g,{elementAlign:u,elementSize:d,baseElementAlign:f,baseElementSize:p,scaleFactor:r},3===v);g.top=e.top}1!==m&&function(e,t,o){const i=$(a),n=e.left+t.elementSize-(i.width()+i.scrollLeft())/t.scaleFactor;if(o){const o=l(t.elementAlign,2)?-t.elementSize:t.elementSize;e.left+=e.left<0?o+t.baseElementSize:n>0?o-t.baseElementSize:0}else e.left=n>0?Math.max(0,e.left-n):Math.max(0,e.left)}(g,{elementAlign:u,elementSize:c,baseElementAlign:f,baseElementSize:h,scaleFactor:r},3===m);const x=o(e.offset(),r),z=parseInt(e.css("top"),10)||0,C=parseInt(e.css("left"),10)||0,_={top:g.top-x.top+z,left:g.left-x.left+C};e.css(_)},e.getScaleFactor=t}(n||(t.Positioning=n={}))})),
define("_generated/Less/Viva.Controls/Controls/Viva.Balloon.css",["module"],(function(e){"use strict";return{css:".azc-balloon{position:fixed;word-wrap:break-word;height:auto;text-align:left;z-index:250;min-width:75px}.azc-balloon.azc-balloon-hidden{visibility:hidden}.azc-balloon.azc-balloon-forcedisplayblock{display:block!important}.azc-balloon .azc-balloon-help-title{font-weight:700;text-transform:uppercase;font-size:13px;line-height:1.385}.azc-balloon .azc-balloon-content{font-size:12px;line-height:16px;white-space:normal;overflow:auto;margin:8px;height:calc(100% - 16px)}.azc-balloon .azc-balloon-pointer2{position:absolute;width:16px;height:16px;transform:rotate(45deg);z-index:-1}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-0{display:none}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-1{bottom:0;transform-origin:left bottom;right:auto;right:unset;left:8px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-2{transform-origin:left top;top:8px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-3,.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-6{transform-origin:left top;transform:rotate(-45deg);right:auto;right:unset;left:8px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-4{right:0;transform:rotate(-45deg);transform-origin:right top;top:8px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-5{bottom:0;transform-origin:left bottom;left:auto;left:unset;right:16px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-6{transform-origin:left top;transform:rotate(-45deg);left:auto;left:unset;right:16px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-7,.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-8{transform-origin:center;transform:rotate(-45deg);left:calc(50% - 8px);top:-8px}.azc-balloon .azc-balloon-pointer2.azc-balloon-pointer2-7{top:auto;top:unset;bottom:-8px}.azc-balloon-pointer2,.azc-balloon-dialog{background-color:#fff;color:#1f2327;box-sizing:border-box;box-shadow:0 5px 15px 2px rgba(0,0,0,.3);border:1px solid}.azc-balloon-dialog{border-radius:2px}.azc-balloon-curtain{background-color:#fff}.azc-balloon-pointer-curtain{z-index:-1;width:100%;height:100%;position:absolute;border-radius:2px;background-color:inherit}.msportalfx-infoballoon-inline .azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor{position:relative}.msportalfx-infoballoon-inline .azc-dockedballoon-anchor-target{position:absolute;margin-top:6px}",moduleId:e.id}})),
define("Viva.Controls/Controls/Viva.Balloon",["require","exports","MsPortalImpl/Base/Base.KnockoutExtensions.SanitizedAttrBinding","MsPortalImpl/Base/Base.KnockoutExtensions.SanitizedHtmlBinding","MsPortalImpl/Base/Base.BrowserDetection","Viva.Controls/Util/Viva.Positioning","Viva.Controls/Util/Viva.Util","Viva.Controls/Controls/Base/Viva.Base","MsPortalImpl.Controls/Controls/Base/Base","MsPortalImpl/UI/UI.PopupPositioningMethods","MsPortalImpl/Weave/Util","Viva.Controls/Util/Viva.Resize","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Viva.Balloon.css"],(function(e,t,o,a,i,l,n,s,r,c,d,b,h,p){"use strict";t.backgroundMutationClass=t.WidgetUIState=t.Widget=t.ViewModel=void 0,t.hideAllBalloons=B,t.widgetBalloonPointer2Class=t.widgetBalloonLinkContentClass=t.widgetBalloonLinkClass=t.widgetBalloonContentClass=t.pointerCurtainClass=void 0;const u=t.widgetBalloonPointer2Class=c.balloonPointerClass;(0,h.injectCss)(p);const f=window,m="hidden",v="azc-balloon",g=t.widgetBalloonContentClass="azc-balloon-content",x=t.widgetBalloonLinkClass="azc-balloon-link",z=t.widgetBalloonLinkContentClass="azc-balloon-link-content",C="azc-balloon-hidden",_=t.backgroundMutationClass="azc-bg-muted-82-10",k=t.pointerCurtainClass="azc-balloon-pointer-curtain",w=`${_} fxs-text-white`,V=`<div class='fxs-portal-bg-txt-br ${u}'></div>\x3c!-- ko ifnot: data.renderMode--\x3e<div class='${k}'></div>\x3c!--/ko--\x3e<div class='${_} fxs-text-white ${g}'><div class='azc-balloon-text' data-bind='attr: { id: $ctl.state.balloonTextElemId }, untrustedContent: data.content'></div>\x3c!--ko if: data.link()--\x3e<div class='${z}' data-bind='if: data.link().linkUri && data.link().linkText'><a class='${x}' data-bind='sanitizedAttr: { href: data.link().linkUri }, sanitizedHtml: data.link().linkText' target='_blank'></a></div>\x3c!--/ko--\x3e</div>`,y=10,M=[];function B(e,t){let o;const a=M.splice(0),i=e?e.element[0]:null;for(let s=0,r=a.length;s<r;s++)if(o=a[s],o!==e&&o){if(t&&$.contains(o.element[0],t[0]))continue;if(i){const t=o.element[0],a=ko.unwrap(e.options.box);if($.contains(o.element[0],i)||(l=t,n=a?.(),l&&l.offsetTop<=n.top&&l.offsetLeft<=n.left&&l.offsetHeight>=n.height&&l.offsetWidth>=n.width))continue}o.options.visible(!1),o.element.find(".fxs-messagebox").trigger("closed")}var l,n;e&&(M[0]=e)}class I extends s.ViewModel{constructor(e){super(e),this.box=ko.observable((()=>({top:0,left:0,width:0,height:0}))),this.closeOtherBalloons=!1,this.renderMode=ko.observable(),this.content=e.content||ko.observable(""),this.link=e.link||ko.observable(),this.visible=e.visible||ko.observable(!1)}}t.ViewModel=I;const S={"aria-atomic":"true","data-popup":"true",hidden:"",role:"tooltip"};class L extends r.WidgetUIState{constructor(){super(...arguments),this.balloonTextElemId=MsPortalFx.getUniqueId()}}t.WidgetUIState=L;class E extends s.Widget{constructor(e,t,o,a){o.viewModelType=o.viewModelType||I,super(e,t,o,a);const i=this.ltm,l=this.options,n=this.element;n.attr(S).addClass(v).addClass(C).addClass("azc-balloon-forcedisplayblock"),this.weaveContext||(n.html(V),this._bindDescendants());let s=()=>{const e=n.find(".azc-balloon-text");l.visible()&&(e.length&&""!==$.trim(e.html().replace(/<!--.*?-->/g,""))||l.link()?.linkText&&l.link()?.linkUri)?this._toggle(!0):this._toggle(!1)};this.weaveContext&&(s=(0,d.wrapFnWaitForChangePropagation)(s,!0)),b.track(i,n.find(`.${g}`).first(),((e,t)=>{s()})),l.link.subscribe(i,(e=>{s()})),l.content.subscribeAndRun(i,(e=>{s()})),l.visible.subscribeAndRun(i,(e=>{s()})),l.box.subscribe(i,(e=>{void 0===n.attr(m)&&s()}))}dispose(){if(this._checkExistsOrRegisterDestroyId(super.dispose))return;const e=M.indexOf(this);-1!==e&&M.splice(e,1),this._cleanElement(v,C,"azc-balloon-forcedisplayblock"),this.element.removeAttr(Object.keys(S).join(" ")).css({top:"",left:"",opacity:"",display:"",width:""}),this._removePointerClassTransform(),this._detachEvents(),super.dispose()}_toggle(e){const t=this.element,o=this.options;if(e){const e=o.box(),a="function"==typeof e?e():e,s=t.find(`.${g}`);if(a){o.closeOtherBalloons&&B(this),this._removePointerClassTransform();const e=$.querySelectorAll("html");let r=e.find(".fxs-journey-layout");const d=r.offset();if(r.width()&&d&&(!d||d.top&&d.left)||(r=e.find(".fxs-portal-main")),0===r.length&&(r=e.find("body")),i.isSafari){const e=t.closest(".fxc-dropdown-popup");e[0]&&(r=e)}const b=r.length?r.offset():{left:0,top:0},h=a.left+a.width/2,p=e.width(),f=$(window).scrollTop();t.width("auto"),t.offset(b);const v=t.width()+1,g=t.find(`.${u}`),x={top:null,left:null};let z;const _=r.height(),k=r.width(),V=b.top,I=b.left,S=8,L=V+S,E=V+_-S,F=I+S,P=I+k-S,T=(e="")=>{t.css({height:e})},H=(e="")=>{t.css({width:e})};if(T(),H(),this.options.renderMode()||this.options.positionHint)z=(0,c.getBestFitForDialogPosition)(this.options.positionHint,t,r,a,y);else{const{tooltipPosition:e,locationLeft:o}=(0,c.getBestFitForTooltipPosition)(t,r,a,y);z=e,x.left=o}const A=()=>Math.min(a.left+a.width-t.width()-y,I+r.width()-t.width()-y),D=(e,o)=>{if(x.left<F&&(x.left=F),x.left+t.width()>P){let o=x.left+t.width()-P;x.left=x.left-o,x.left<F&&(o=F-x.left,x.left=F,H(t.width()-o),"top"===e&&(x.top=a.top-t.height()-y-2))}if("top"===e){if(x.top<L){const e=L-x.top;x.top=L,T(t.height()-e)}}else if(x.top+t.height()>E){const e=x.top+t.height()-E;T(t.height()-e)}};switch(z){case 8:x.top=a.top+a.height+y+2,D("bottom","left");break;case 7:x.top=a.top-t.height()-y-2,D("top","left");break;case 1:x.left=a.left,x.top=a.top-t.height()-y,D("top","left");break;case 2:x.left=a.left+a.width+y,x.top=a.top;break;case 3:x.left=a.left,x.top=a.top+a.height+y,D("bottom","left");break;case 4:x.left=a.left-t.width()-y,x.top=a.top;break;case 5:x.left=A(),x.top=a.top-t.height()-y,D("top","right");break;case 6:x.left=A(),x.top=a.top+a.height+y,D("bottom","right");break;default:{let e;e=v<p-h||!(v<h-b.left)&&h-b.left<(p-b.left)/2;const o=e=>{if(v<e)return v;const o={left:p-e};t.offset(o);const a=(t.width()>e?e:t.width())+1;t.width(a);const i=window.innerHeight,l=t.height(),n=t.offset().top,s=n+l-i;return s>0&&n<i&&t.height(l-s),a};if(e)o(p-h),x.left=h;else{const e=o(h-b.left);x.left=h-e}t.offset(x);const i=a.top-t.height()-9-f,l=a.top+a.height+9-f;x.top=i>b.top?i:l}}t.addClass("fxs-portal-bg-txt-br"),this._previousKnownPosition&&g.removeClass(`${u}-${this._previousKnownPosition}`),this._previousKnownPosition=z,g.addClass(`${u}-${z}`),s.addClass("azc-balloon-curtain"),this.options.renderMode()?t.addClass("azc-balloon-dialog"):s.addClass(w),function(e,t){const o=function(e){const t=e.element.parents("div[style*='transform']");if(t.length>0){let e=[1,0,0,1,0,0];for(let o=0;o<t.length;o++){const a=$(t[o]).css("transform").split(/[(),/s]+/).slice(1,-1).map((e=>+e));e=l.multiplyTransformArrays(e,a)}return e}return null}(e),a=e.element;if(o){const e=l.Invert2DTransformationMatrix(o);let i="matrix({0})".format(e.join(","));a.css("transform",i),a.offset(t);const n=a[0].getBoundingClientRect(),s=t.left-n.left,r=t.top-n.top;e[4]+=s*e[0],e[5]+=r*e[3],i="matrix({0})".format(e.join(",")),a.css("transform",i)}else a.offset(t)}(this,x),this.options.renderMode()||(0,c.positionVPointerOnToolTip)(t,{right:P,left:F},a,y),M.splice(0,0,this),this._attachEvents(),t.removeAttr(m).removeClass(C),n.forceScreenRead(t[0])}}else this._detachEvents(),t.attr(m,"").addClass(C)}_attachEvents(){if(!this._resizeEventLifeTime){const e=$(f);(this._resizeEventLifeTime=this.ltm.createChildLifetime()).registerForDispose(e.setEvents(["resize",e=>{M.length>0&&B()}]))}}_detachEvents(){MsPortalFx.disposeDisposable(this._resizeEventLifeTime)}_removePointerClassTransform(){const e=["azc-balloon-dialog"];for(let t=0;t<=4;t++)e.push(`${u}-${t}`);this.element.find(`.${u}`).removeClass(e.join(" ")).css({transform:""}),this.element.find(`.${g}`).removeClass(w)}}t.Widget=E})),
define("_generated/Less/Viva.Controls/Controls/Viva.DockedBalloon.css",["module"],(function(e){"use strict";return{css:'.azc-dockedballoon.azc-dockedballoon-info{display:inline-block;text-align:center;width:20px;height:20px;cursor:pointer;position:relative}.azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor{width:100%;height:100%;stroke:none}.azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor img{display:inline-block;margin-top:5px}.azc-text-label .azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor{padding:0 5px 5px 0;margin-left:5px}.azc-text-label .azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor .azc-dockedballoon-anchor-target{padding-top:.25px}.azc-text-label.azc-checkBoxField-inlineLabelContainer .azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor{padding-bottom:3px}.azc-dockedballoon-requiredwidget.azc-dockedballoon-required{display:inline-block;text-align:center;width:11px;height:6px;position:relative}.azc-required-anchor{height:10px;width:10px;margin-right:5px}.azc-required-anchor svg{vertical-align:4px;margin-left:4px}.azc-dockedballoon-anchor-target{height:10px;width:10px;padding:.75px 0 0 4px}.azc-dockedballoon-validation{display:inline-block;vertical-align:top;box-sizing:border-box}.azc-dockedballoon-validation .azc-dockedballoon-anchor{cursor:pointer;font-weight:bold;color:#fff;font-size:12px;line-height:16px;text-align:center;text-decoration:none;display:block}.azc-dockedballoon-validation .azc-dockedballoon-anchor svg{display:none}.azc-dockedballoon-validation .azc-dockedballoon-anchor::before{content:"!"}.azc-dockedballoon-required{fill:#e81123}.azc-dockedballoon-image{vertical-align:middle}.azc-fabric-check-svg{display:none!important}.azc-dockedballoon-balloon{border-radius:2px;min-height:32px}.fxs-mode-light .azc-dockedballoon-balloon .azc-balloon-pointer2{border-color:#fff}.fxs-mode-dark .azc-dockedballoon-balloon .azc-balloon-pointer2{border-color:#292929;background-color:#292929}',moduleId:e.id}})),
define("_generated/MsPortalImpl/Svg/Startup/RequiredField.svg",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data=t.type=void 0,t.type=1,t.data="<svg viewBox='0 0 6 6' class='msportalfx-svg-placeholder' role='presentation' focusable='false' xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><title></title><path d='m3.543 2.352 2.08-.716L6 2.687l-2.076.675L5.21 5.158l-.942.676-1.242-1.867-1.264 1.867-.97-.676 1.305-1.796L0 2.687.38 1.63l2.058.743V.233h1.105v2.119z' class='msportalfx-svg-c22'/></g></svg>"})),
define("Viva.Controls/Controls/Viva.DockedBalloon",["require","exports","MsPortalImpl.Controls/Controls/Base/WidgetBindingHandler","MsPortalImpl/Interactions/Interactions.DismissHandler","_generated/MsPortalImpl/Svg/Startup/RequiredField.svg","Viva.Controls/Util/Viva.Util","Viva.Controls/Controls/Base/Viva.Base","Viva.Controls/Controls/Viva.Balloon","MsPortalImpl/UI/UI.PopupPositioningMethods","MsPortalImpl/Base/Base.SvgHelper","MsPortalImpl.Controls/Controls/Base/Base","MsPortalImpl/Widgets/Widgets.Common","MsPortalImpl/Base/JQueryExtensions","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Viva.DockedBalloon.css","Fx"],(function(e,t,o,a,i,l,n,s,r,c,d,b,h,p,u,f){"use strict";t.DismissAllBalloons=function(e){const t=e.find(`.${v.anchor}`);for(let e=0;e<t.length;e++){const o=d.getWidget($(t[e]).parent());o.options.balloonVisible(!1),o._balloonPinned=!1}},t.requireSvgHtml=t.infoSvgHtml=t.classes=t.checkSvgHtml=t.WidgetUIState=t.Widget=t.ViewModel=void 0,(0,p.injectCss)(u);var m=MsPortalFx.Base.Images;const v=t.classes={widget:"azc-dockedballoon",requiredWidget:"azc-dockedballoon-requiredwidget",anchor:"azc-dockedballoon-anchor",anchorTarget:"azc-dockedballoon-anchor-target",balloon:"azc-dockedballoon-balloon",balloonContent:"azc-balloon-content",info:"azc-dockedballoon-info",required:"azc-dockedballoon-required",validation:"azc-dockedballoon-validation azc-bg-default",balloonVisible:"azc-dockedballoon-balloonVisible",balloonScope:"azc-balloon-scope"},g=MsPortalFx.getIdGenerator(v.balloon),x=window,z=v,C="scroll.dockedBalloon",_="fxs-portal-svg",k=t.requireSvgHtml=(()=>{const e=c.getSvgReferenceOrFallBackToData(i,{customClass:_});return e.setAttribute("width","6px"),e.setAttribute("height","6px"),e.outerHTML})(),w=t.infoSvgHtml=`<svg class="${_}" xmlns="http://www.w3.org/2000/svg" width="12" height="14" viewBox="0 0 14 14"><g data-name="Layer 2"><g data-name="icons"><path d="M7,14a6.68,6.68,0,0,1-1.86-.25,7.28,7.28,0,0,1-1.68-.7A6.49,6.49,0,0,1,2.05,12,7.55,7.55,0,0,1,1,10.54,6.32,6.32,0,0,1,.25,8.87,7.21,7.21,0,0,1,0,7,6.68,6.68,0,0,1,.25,5.14,7.28,7.28,0,0,1,1,3.46,6.49,6.49,0,0,1,2,2.05,7.55,7.55,0,0,1,3.46,1,6.32,6.32,0,0,1,5.13.25,7.21,7.21,0,0,1,7,0,6.68,6.68,0,0,1,8.86.25a7.28,7.28,0,0,1,1.68.7A6.49,6.49,0,0,1,12,2,7.55,7.55,0,0,1,13,3.46a6.32,6.32,0,0,1,.71,1.67A7.21,7.21,0,0,1,14,7a6.68,6.68,0,0,1-.25,1.86,7.28,7.28,0,0,1-.7,1.68A6.49,6.49,0,0,1,12,12,7.55,7.55,0,0,1,10.54,13a6.32,6.32,0,0,1-1.67.71A7.21,7.21,0,0,1,7,14ZM7,.93a6.08,6.08,0,0,0-1.61.22,6.44,6.44,0,0,0-1.45.61,7,7,0,0,0-1.23,1,6,6,0,0,0-.95,1.23,6.72,6.72,0,0,0-.61,1.45A5.79,5.79,0,0,0,.93,7a6.06,6.06,0,0,0,.22,1.6,6.72,6.72,0,0,0,.61,1.46,6.1,6.1,0,0,0,2.18,2.18A6.11,6.11,0,0,0,7,13.07a6.06,6.06,0,0,0,1.6-.22,6.72,6.72,0,0,0,1.46-.61,6.1,6.1,0,0,0,2.18-2.18A6.11,6.11,0,0,0,13.07,7a6.06,6.06,0,0,0-.22-1.6,6.72,6.72,0,0,0-.61-1.46,6.1,6.1,0,0,0-2.18-2.18A6.11,6.11,0,0,0,7,.93ZM6.53,5.6h.94v4.67H6.53Zm0-1.87h.94v.94H6.53Z"/></g></g></svg>`,V=t.checkSvgHtml="<svg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' focusable='false' class='azc-fabric-check-svg' viewBox='0 0 12.7 9.1'><path d='M12.7.7,4.4,9.1,0,4.7.7,4,4.4,7.6,12,0Z'/></svg>",y=`<div class='${v.anchor}' data-tabster='{"uncontrolled": {"completely": true}}' data-bind='attr: { "aria-hidden" : $ctl._isCheckPopulated() || $ctl._isRequired(), "aria-label": data._ariaLabel(), "aria-expanded": data.balloonVisible().toString(), "aria-controls": data.balloonId }' role='button'>\x3c!-- ko if: $ctl._isImageShown() --\x3e<div class='${_}-secondary azc-fill-hovered-heavy ${v.anchorTarget}' data-bind='css: { "azc-fill-heavy": data.balloonVisible() }'><span class='azc-dockedballoon-image'>`+w+'</span></div>\x3c!-- /ko --\x3e\x3c!-- ko if: $ctl._isCheckPopulated() --\x3e<span data-bind="image: $ctl._checkIcon" class="azc-nonFabric-svg"></span>'+V+"\x3c!-- /ko --\x3e\x3c!-- ko if: $ctl._isRequired() --\x3e<div class='azc-required-anchor'>"+k+"</div>\x3c!-- /ko --\x3e</div>"+`<div role='tooltip' aria-live='polite' class='${v.balloon} ${s.backgroundMutationClass} msportalfx-shadow-level2' data-bind='attr: { id: data.balloonId }'></div>`,M=`<div class='${v.anchor}' aria-hidden="true"><div class='azc-required-anchor'>`+k+"</div></div>",B=[];B[0]="info",B[2]="validation",B[3]="required";class I extends n.ViewModel{constructor(e){super(e),this.stopClickPropagation=ko.observable(!0),this.isTabbable=ko.observable(!0),this.balloonId=`${v.balloon}-${g()}`,this.content=e.content||ko.observable(""),this.link=e.link||ko.observable(),this.type=e.type||0,this.ariaLabel=e.ariaLabel||ko.observable(""),this.balloonVisible=e.balloonVisible||ko.observable(!1),this._ariaLabel=ko.pureComputed((()=>ko.unwrap(this.ariaLabel).trim()||(0,b.getStringFromHtmlContent)(e.diContainer,ko.unwrap(this.content)))),this.triggerFadeOut=MsPortalFx.initObservable(e.triggerFadeOut,!1).extend({notify:"always"}),this.balloonViewModel=new s.ViewModel({ltm:e.ltm,link:this.link,content:this.content,visible:this.balloonVisible}),this.balloonViewModel.closeOtherBalloons=!0}}t.ViewModel=I;class S extends d.WidgetUIState{constructor(){super(...arguments),this.balloonState=new s.WidgetUIState}}t.WidgetUIState=S;class L extends n.Widget{constructor(e,t,o,a){(o=o||{}).viewModelType=o.viewModelType||I,super(e,t,o,a||new S),this._checkIcon=m.Check({palette:4}),this._typeString=B[t.type],this._balloonShowTimeoutHandle=null,this._balloonHideTimeoutHandle=null,this._firstFocusableInContent=jQuery(),this._focusInTooltip=!1,this.element.addClass(3===t.type?v.requiredWidget:v.widget).addClass(z[this._typeString]).attr("aria-owns",3===t.type?null:this._options.balloonId),this.weaveContext||(3===t.type?this.element.html(M):this.element.html(y));const i=this.element.find("."+v.balloon).addClass(z[this._typeString]);this.weaveContext||this._bindDescendants(),3!==t.type&&(this._appendBalloon(i),this._initializeBalloonWidget(),this._initializeKoDependencies(),this._attachEvents(),this.weaveContext||F($.querySelectorAll(`#${this._options.balloonId}`)),t.triggerFadeOut?.subscribe(this.ltm,(e=>{e?this._mouseLeave():this._clearBalloonTimeouts&&this._clearBalloonTimeouts()})))}_appendBalloon(e){const t=$(document.body),o=(0,b.getCssScope)(this.element);if(o){let a=$.querySelectorAll(`.${v.balloonScope}.${o.split(" ").join(".")}`).first();if(!a[0]){const e=document.createElement("DIV");e.className=`${v.balloonScope} ${o}`,t.append(e),a=$(e)}a.append(e)}else t.append(e)}dispose(){if(this._checkExistsOrRegisterDestroyId(super.dispose))return;this._detachEvents(),this._cleanElement();for(const e in z)this.element.removeClass(z[e]);const e=$.querySelectorAll(`#${this._options.balloonId}`),t=e.parent(),o=t[0];o&&"BODY"!==o.tagName&&o.className.includes("css-scope-")&&1===o.childElementCount?t.remove():e.remove(),super.dispose()}_initializeKoDependencies(){const e=this.options.balloonViewModel,t=this.ltm,o=this.options;ko.computed(this.ltm,e.visible,(e=>{e||(this._balloonPinned=!1)})),o.isTabbable.subscribeAndRun(t,(e=>{this.tabindex(e?0:-1)})),ko.computed(t,this.$enabledTabIndex,(e=>{this.element.find(`.${v.anchor}`).attr("tabindex",e)})),e.box((()=>(0,r.getBox)(this.element.find(`.${v.anchor}`))));const i={dismissFn:()=>{o.balloonVisible(!1),this._balloonPinned=!1},logName:"dockedballoon"};t.registerForDispose((()=>{a.unregister(i)})),ko.computed(t,o.balloonVisible,(e=>{this._clearBalloonTimeouts(),this._scrollableParents&&(this._scrollableParents.off(C,this._parentScrollHandler),this._scrollableParents=null,this._parentScrollHandler=null),e?(a.register(i),this._scrollableParents=l.getScrollableParents(this.element,!0),this._scrollableParents.on(C,this._parentScrollHandler=e=>{this._scrollOrResizeWindow()})):(a.unregister(i),this._focusInTooltip&&(this._focusInTooltip=!1)),this.element.toggleClass(v.balloonVisible,e)}));const n=$.querySelectorAll(`#${this._options.balloonId}`);this.weaveContext||o.content.subscribe(t,(()=>{F(n)})),this.$disabled.subscribe(t,(t=>{if(t!==e.disabled()){e.disabled(t),this._balloonPinned=!1;const o=this.options;t&&o.balloonVisible()&&o.balloonVisible(!1)}}))}_initializeBalloonWidget(){const e=$.querySelectorAll(`#${this._options.balloonId}`),t=this.options.balloonViewModel,o=new s.Widget(e,t,{weaveContext:this.weaveContext},this.state.balloonState);this.ltm.registerForDispose([o,()=>{e[0].addEventListener("click",(e=>{E(this.element[0],e.target)&&(t.visible(!1),this._balloonPinned=!1,e.stopPropagation())}),!0)}]),this.balloonTextElemId=o.state.balloonTextElemId,this.weaveContext||this.element.children("div."+v.anchor).attr("aria-describedby",this.balloonTextElemId)}_attachEvents(){this._detachEvents(),this._mouseEnterHandler=e=>{this._mouseEnter()},this._mouseLeaveHandler=e=>{this._mouseLeave()},this._balloonKeydownHandler=e=>{if(27===e.keyCode){e.preventDefault(),e.stopPropagation();const t=this.element.find(`.${v.anchor}`);this._anchorTabOut(!0),t.triggerHandler("focus"),t.focus()}},this._anchorClickHandler=e=>{e.preventDefault(),this._anchorClick(e)},this._balloonClickHandler=e=>{this._balloonClick(e)},this._anchorFocusInHandler=e=>{this._anchorFocusIn()},this._anchorFocusOutHandler=e=>{this._anchorFocusOut()},this._keyDownHandler=e=>{this._keyDown(e)},this.element.find(`.${v.anchor}`).on("click",this._anchorClickHandler).end().on("focusin",this._anchorFocusInHandler).on("focusout",this._anchorFocusOutHandler).on("keydown",this._keyDownHandler).on("mouseenter",this._mouseEnterHandler).on("mouseleave",this._mouseLeaveHandler),$.querySelectorAll(`#${this._options.balloonId}`).on("click",this._balloonClickHandler).on("mouseenter",this._mouseEnterHandler).on("mouseleave",this._mouseLeaveHandler).on("keydown",this._balloonKeydownHandler),$(x).on("resize",this._resizeEventHandler=e=>{this._scrollOrResizeWindow()}).on("mousedown",this._documentMouseDownHandler=e=>{this._documentMouseDown(e)}),this._updateContentTabbing()}_updateContentTabbing(){let e;ko.reactor(this.ltm,[this._options.content,this._options.link],((t,o)=>{e&&e.dispose(),t||o?(e=this.ltm.createChildLifetime(),f.delay(100).then((()=>{const t=$.querySelectorAll(`#${this._options.balloonId}`).find(h.focusableSelector),o=this._firstFocusableInContent=t.first(),a=t.last();let i=null,l=null;o[0]&&o.on("keydown",i=e=>{if(9===e.which&&e.shiftKey){e.preventDefault(),e.stopPropagation(),this._focusInTooltip=!1;const t=this.element.find(`.${v.anchor}`);t.triggerHandler("focus"),t.focus()}}),a[0]&&a.on("keydown",l=e=>{if(9===e.which&&!e.shiftKey){e.preventDefault(),e.stopPropagation(),this._focusInTooltip=!1,this._anchorTabOut(!0);const t=this.element.find(`.${v.anchor}`);t.triggerHandler("focus"),t.focus()}}),e.registerForDispose((()=>{i&&o.off("keydown","",i),l&&a.off("keydown","",l)}))}))):this._firstFocusableInContent=jQuery()}))}_detachEvents(){const e=this.element.find(`.${v.anchor}`),t=$(document.body).find(`#${this._options.balloonId}`);this._mouseEnterHandler&&(this.element.off("mouseenter",this._mouseEnterHandler),t.off("mouseenter",this._mouseEnterHandler),this._mouseEnterHandler=null),this._mouseLeaveHandler&&(this.element.off("mouseleave",this._mouseLeaveHandler),t.off("mouseleave",this._mouseLeaveHandler),this._mouseLeaveHandler=null),this._balloonKeydownHandler&&(t.off("keydown",this._balloonKeydownHandler),this._balloonKeydownHandler=null),this._anchorClickHandler&&(e.off("click",this._anchorClickHandler),this._anchorClickHandler=null),this._balloonClickHandler&&(t.off("click",this._balloonClickHandler),this._balloonClickHandler=null),this._anchorFocusInHandler&&(this.element.off("focusin",this._anchorFocusInHandler),this._anchorFocusInHandler=null),this._anchorFocusOutHandler&&(this.element.off("focusout",this._anchorFocusOutHandler),this._anchorFocusOutHandler=null),this._keyDownHandler&&(this.element.off("keydown",this._keyDownHandler),this._keyDownHandler=null),this._resizeEventHandler&&($(x).off("resize",this._resizeEventHandler),this._resizeEventHandler=null),this._documentMouseDownHandler&&($(x).off("mousedown",this._documentMouseDownHandler),this._documentMouseDownHandler=null)}_mouseEnter(){this._clearBalloonTimeouts(),this._balloonPinned||this._balloonShowTimeoutHandle||(this._balloonShowTimeoutHandle=setTimeout((()=>{this.options.balloonVisible(!0)}),200))}_anchorClick(e){e.preventDefault();const t=this.options;t.stopClickPropagation()&&e.stopPropagation(),this._balloonPinned?(t.balloonVisible(!1),this._balloonPinned=!1):(t.balloonVisible(!0),this._balloonPinned=!0)}_balloonClick(e){E($(document.body).find(`#${this._options.balloonId}`)[0],e.target)&&(e.stopPropagation(),this.element.find(`.${v.anchor}`).focus())}_mouseLeave(){this._clearBalloonTimeouts(),this._balloonPinned||this._balloonHideTimeoutHandle||(this._balloonHideTimeoutHandle=setTimeout((()=>{this.options.balloonVisible(!1)}),200))}_keyDown(e){switch(e.keyCode){case 13:case 32:case 112:{e.stopImmediatePropagation();const t=this.options.balloonVisible();this.options.balloonVisible(!t),this._balloonPinned=!t,13!==e.keyCode&&e.preventDefault();break}case 9:{const t=this._firstFocusableInContent;t[0]&&this.options.balloonVisible()&&!e.shiftKey?(t.focus(),this._focusInTooltip=!0,e.preventDefault(),e.stopPropagation()):this._anchorTabOut();break}}}_clearBalloonTimeouts(){this._balloonShowTimeoutHandle&&(clearTimeout(this._balloonShowTimeoutHandle),this._balloonShowTimeoutHandle=null),this._balloonHideTimeoutHandle&&(clearTimeout(this._balloonHideTimeoutHandle),this._balloonHideTimeoutHandle=null)}_anchorFocusIn(){this.element.find(`.${v.anchorTarget}`).addClass("azc-fill-heavy")}_anchorFocusOut(){this.element.find(`.${v.anchorTarget}`).removeClass("azc-fill-heavy")}_anchorTabOut(e){setTimeout((()=>{const t=document.activeElement;(e||null!==t)&&(e||0===this.element.has(t).length)&&(this.options.balloonVisible(!1),this._balloonPinned=!1)}),1)}_scrollOrResizeWindow(){this._balloonPinned=!1,this.options.balloonVisible(!1)}_documentMouseDown(e){const t=$(document.body).find(`#${this._options.balloonId}`);E(this.element[0],e.target)||t.length&&E(t[0],e.target)||(this._balloonPinned=!1,this.options.balloonVisible(!1))}_isImageShown(){return 0===this.options.type}_isRequired(){return 3===this.options.type}_isCheckPopulated(){return 2===this.options.type}}function E(e,t){return t===e||$.contains(e,t)}function F(e){e.find("[data-bind*='fxclick']").each(((e,t)=>{t.setAttribute("tabindex","0")}))}t.Widget=L,ko.bindingHandlers.azcDockedBalloon=o.getBindingHandler(L)})),
define("Viva.Controls/Controls/Viva.Balloon.Component",["require","exports","Weave","Weave/DirectMode","Viva.Controls/Controls/Viva.Balloon","MsPortalImpl/Weave/Components","FxInternal/Weave"],(function(e,t,o,a,i,l,n){"use strict";t.BalloonInner=function(t){const{vm:s,state:r}=t,c=(0,n.toComputation)(s.link),d=(0,o.composeComputation)([(0,n.toComputation)(s.renderMode)],(e=>1===e)),b=(0,o.composeComputation)([c],(e=>!!(e&&e.linkUri&&e.linkText))),h=(0,o.composeComputation)([c],(e=>e&&e.linkUri)),p=(0,o.composeComputation)([c],(e=>e&&e.linkText));return a(o.Fragment,null,a("div",{className:["fxs-portal-bg-txt-br",i.widgetBalloonPointer2Class]}),a(o.If,{condition:d,concealmentBehavior:"remove",falseFn:()=>a("div",{className:[i.pointerCurtainClass]})}),a("div",{className:[i.backgroundMutationClass,"fxs-text-white",i.widgetBalloonContentClass]},a("div",{className:"azc-balloon-text",id:r.balloonTextElemId},a(o.SetContext,{disabled:void 0,tabIndex:void 0},a(l.HtmlOrKo,{content:(0,n.toComputation)(s.content),require:e}))),a(o.If,{condition:b,concealmentBehavior:"remove",trueFn:()=>a("div",{className:i.widgetBalloonLinkContentClass},a("a",{className:i.widgetBalloonLinkClass,href:h,target:"_blank"},p))})))}})),
define("_generated/MsPortalImpl/Svg/Startup/Check.svg",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data=t.type=void 0,t.type=12,t.data="<svg viewBox='0 0 12.7 9.1' class='msportalfx-svg-placeholder' role='presentation' focusable='false' xmlns:svg='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><g><title></title><path d='M12.7.7 4.4 9.1 0 4.7.7 4l3.7 3.6L12 0z'/></g></svg>"})),
define("Viva.Controls/Controls/Viva.DockedBalloon.Component",["require","exports","Weave/DirectMode","MsPortalImpl/Widgets/Widgets.Common","Viva.Controls/Controls/Viva.DockedBalloon","Viva.Controls/Controls/Viva.Balloon","Weave","_generated/MsPortalImpl/Svg/Startup/Check.svg","Viva.Controls/Controls/Viva.Balloon.Component","FxInternal/Weave","MsPortalImpl/Weave/Util","MsPortalImpl/Weave/Components"],(function(e,t,o,a,i,l,n,s,r,c,d,b){"use strict";function h(t){const{vm:h,state:p}=t;return o(n.GetContext,{fn:u=>3===h.type?o("div",{className:i.classes.anchor,"aria-hidden":"true"},o("div",{className:"azc-required-anchor"},o(b.ShellHtml,{content:i.requireSvgHtml,skipSanitization:!0,require:e}))):o(n.Fragment,null,o("div",{className:i.classes.anchor,"data-tabster":'{"uncontrolled": {"completely": true}}',tabindex:t.tabIndex||(0,d.aggregateContext)(u,h,p).tabIndex,"aria-describedby":p.balloonState.balloonTextElemId,"aria-hidden":2===h.type,"aria-label":(0,n.composeComputation)([(0,c.toComputation)(h.ariaLabel),(0,c.toComputation)(h.content)],((e,t)=>e.trim()||(0,a.getStringFromHtmlContent)(u.diContainer,t))),"aria-expanded":(0,c.toComputation)(h.balloonVisible),"aria-controls":h.balloonId,"aria-owns":h.balloonId,role:"button"},0===h.type?o("div",{className:["fxs-portal-svg-secondary","azc-fill-hovered-heavy",i.classes.anchorTarget,{"azc-fill-heavy":(0,c.toComputation)(h.balloonVisible)}]},o("span",{className:"azc-dockedballoon-image"},o(b.ShellHtml,{content:i.infoSvgHtml,skipSanitization:!0,require:e}))):null,2===h.type?o(n.Fragment,null,o("span",{image:MsPortalFx.Base.Images.CustomImageWithOptions(s,{palette:4}),className:"azc-nonFabric-svg"}),o("span",null,o(b.ShellHtml,{content:i.checkSvgHtml,skipSanitization:!0,require:e}))):null),o("div",{role:"tooltip","aria-live":"polite",className:[i.classes.balloon,l.backgroundMutationClass,"msportalfx-shadow-level2"],id:h.balloonId},o(r.BalloonInner,{vm:h.balloonViewModel,state:p.balloonState})))})}t.DockedBalloonInner=h,t.VivaDockedBalloon=void 0;t.VivaDockedBalloon=(0,d.createControlComponent)({widgetCtor:i.Widget,widgetUIStateCtor:i.WidgetUIState,innerComponent:h})})),
define("_generated/Less/Viva.Controls/Controls/Base/Viva.ValidationPlacements.css",["module"],(function(e){"use strict";return{css:'.azc-validatableControl .azc-dockedballoon-validation,.azc-validatableControl-valid-validated .azc-dockedballoon-anchor::before{display:none}div.azc-validationBelowCtrl .azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation,span.azc-validationBelowCtrl .azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation,div.azc-validationBelowCtrl.azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation,span.azc-validationBelowCtrl.azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-inputbox.azc-validatableControl-invalid,.azc-inputbox.azc-validatableControl-pending,.azc-inputbox.azc-validatableControl-valid-validated,.azc-editableCombo.azc-validatableControl-invalid,.azc-dropdown.azc-validatableControl-invalid{padding-right:14px}.azc-inputbox.azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation,.azc-inputbox.azc-validatableControl-pending div.azc-dockedballoon.azc-dockedballoon-validation,.azc-inputbox.azc-validatableControl-valid-validated div.azc-dockedballoon.azc-dockedballoon-validation,.azc-editableCombo.azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation,.azc-dropdown.azc-validatableControl-invalid div.azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-checkBox.azc-validatableControl-invalid .azc-dockedballoon-validation{display:inline-block}div.fxc-base.azc-validationBelowCtrl div.azc-validatableControl-invalid{padding-right:0}div.fxc-base.azc-validationBelowCtrl div.azc-validatableControl-invalid .azc-validatableControl-invalid{padding-right:0}div.fxc-base.azc-validationBelowCtrl div.azc-validatableControl-invalid.azc-validation-border{border-width:2px;border-style:solid;border-color:#e81123;width:100%}div.fxc-base.azc-validationBelowCtrl div.azc-validatableControl-invalid.azc-validation-border.azc-optionPicker{width:calc(100% - 4px)}div.fxc-base.azc-validationBelowCtrl div.azc-validatableControl-invalid .azc-validation-border{border-width:2px;border-style:solid;border-color:#e81123;width:100%}.fxc-fabric-validation{width:100%;display:table;margin-top:4px;position:relative}.fxc-fabric-validation-svg{height:14px;width:14px;position:absolute;top:2px;left:0}.fxc-validation{display:block;margin-left:22px;overflow-wrap:anywhere}.fxc-validation a{text-decoration:underline}.azc-validatableControl.azc-textBox{box-sizing:border-box}.azc-validatableControl-invalid .azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-top:3px;line-height:normal}.azc-checkBox .azc-dockedballoon-validation .azc-dockedballoon-anchor{padding:0 2px 0 0}.azc-validatableControl-invalid .azc-inputbox-wrapper{display:inline-block}.azc-validatableControl-pending{overflow:visible;position:relative}.azc-validatableControl-pending .azc-dockedballoon-validation .azc-dockedballoon-anchor::before{content:url("Content/static/azc-validatableControl-pending.gif");position:absolute;top:4px;right:3px}.azc-validatableControl-pending .azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-validatableControl-valid-validated .azc-dockedballoon-validation .azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0}.fxc-selector-requiredBalloon .azc-dockedballoon-anchor{padding:0}.azc-validatableControl-valid-validated .azc-inputbox-wrapper,.azc-validatableControl-pending .azc-inputbox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;border-right-color:transparent;float:left}.azc-validatableControl-valid-validated .azc-dockedballoon-validation,.azc-validatableControl-pending .azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-inputbox.azc-validatableControl-valid-validated .azc-inputbox-wrapper .azc-input,.azc-inputbox.azc-validatableControl-pending .azc-inputbox-wrapper .azc-input{border-right-width:0}.azc-validatableControl-valid-validated .azc-dockedballoon-validation .azc-dockedballoon-anchor svg{display:block;height:10px;width:10px;margin-top:5px}.azc-multiLineTextBox .azc-dockedballoon-validation{height:auto!important}.azc-fabric .azc-inputbox .azc-input{text-overflow:ellipsis}.azc-fabric .azc-inputbox.azc-validatableControl-valid-validated,.azc-fabric .azc-inputbox.azc-validatableControl-invalid,.azc-fabric .azc-inputbox.azc-validatableControl-pending{padding-right:0;position:relative}.azc-fabric .azc-inputbox.azc-validatableControl-pending .azc-dockedballoon-validation .azc-dockedballoon-anchor::before{top:2px}.azc-fabric .azc-inputbox.azc-validatableControl-valid-validated .azc-inputbox-wrapper .azc-input{border-right-width:1px;padding-right:18px}.azc-fabric .azc-inputbox.azc-validatableControl-valid-validated>.azc-dockedballoon-validation.azc-control-disabled .azc-fabric-check-svg{display:inherit!important}.azc-fabric .azc-inputbox>.fxc-base.azc-dockedballoon.azc-dockedballoon-validation{position:absolute;right:1px;margin-right:0;background-clip:padding-box;border:3px solid transparent}.azc-fabric .azc-inputbox>.fxc-base.azc-dockedballoon.azc-dockedballoon-validation .azc-nonFabric-svg{display:none}.azc-fabric .azc-inputbox>.fxc-base.azc-dockedballoon.azc-dockedballoon-validation .azc-fabric-check-svg{width:12px;height:12px;padding:6px;margin:-4px 0 0 -12px}.azc-fabric .azc-inputbox.azc-is-edited.azc-has-focus .azc-dockedballoon-validation{border-color:transparent!important}',moduleId:e.id}})),
define("MsPortalImpl.Controls/Fields/Base/LabelAndBalloonWidget",["require","exports","Weave/DirectMode","MsPortalImpl/Base/JQueryHelper","MsPortalImpl/Resources/ImplScriptResources","Viva.Controls/Controls/Viva.DockedBalloon","MsPortalImpl.Controls/Controls/Base/WidgetBinding","Viva.Controls/Controls/Base/Viva.Validators","MsPortalImpl/Weave/Builder","Weave","MsPortalImpl/Weave/Components","Viva.Controls/Controls/Viva.DockedBalloon.Component","FxInternal/Weave","MsPortalImpl/Widgets/Widgets.Common","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Base/Viva.ValidationPlacements.css","Fx/Controls/InfoBox"],(function(e,t,o,a,i,l,n,s,r,c,d,b,h,p,u,f,m){"use strict";t.errorSvgClass=t.errorLabel=t.LabelAndBalloonWidgetHelper=void 0,t.getErrorMessages=q,t.toggleAriaErrorMessage=function(e,t,o){o||e.removeAttr("aria-errormessage")},t.validationMessageBelowControlClass=void 0,(0,u.injectCss)(f);var v=MsPortalFx.ViewModels,g=v.Forms.LabelPosition,x=v.Forms.SubLabelPosition;const z="azc-text-label",C="azc-text-sublabel",_="msportalfx-tooltip-overflow",k="msportalfx-text-ellipsis",w="azc-text-sublabel-neighbor",V="fxc-left-label",y="fxc-right-sublabel",M="azc-form-label",B="azc-form-labelcontainer",I="azc-required-balloon",S="azc-checkBoxField-inlineLabelContainer",L="fxs-display-none",E="msportalfx-form-formelement",F="azc-formElementSubLabelContainer",P="fxc-has-sublabel",T=(t.validationMessageBelowControlClass="azc-validationBelowCtrl",t.errorSvgClass="fxc-fabric-validation-svg"),H=t.errorLabel=i.Blade.error;let A=0;const D=i.Blade.helpText,R=".azc-dockedballoon-anchor",W="msportalfx-nested-control";function O(){return MsPortalFx.Base.Images.StatusBadge.Critical({customClass:T})}function q(e,t){const o=e.filter((e=>!!e&&0!==e.state&&!e.valid&&!!e.message)).map((e=>e.message));return o?.length?t?o:[o[0]]:[]}t.LabelAndBalloonWidgetHelper=class{constructor(e,t,o,a){this._diContainer=e,this._infoBalloonTabIndex=a,this._belowControl=ko.observable(!1),this._errMsgElemInjected=!1,this.labelId="form-label-id-"+A++,this.errMsgId=this.labelId+"-err",this.inputWarningId=this.labelId+"-warn",this.balloonId=this.labelId+"-balloon";const i=this.ltm=t.createChildLifetime();this.vmBaseOptions={ltm:i},this._options=o,this._initializeRequiredComputed(),t.registerForDispose(this)}_initializeRequiredComputed(){const e=this._options.validations;e&&(this.required=ko.pureComputed((()=>{const t=ko.unwrap(e)||[],o=MsPortalFx.findIndex(t,(e=>!!e&&!!e.type&&1===e.type))>=0,a=this._options._msPortalFxRequired;return a&&a(o),o})))}appendWidgetToDom(e,t){if(this._options.subLabel){const o=$(FxImpl.createElement("div")).addClass(F).append(t);e.append(o)}else e.append(t)}appendWidgetToDom_TSX(e,t){if(this._options.subLabel){const a=new r.Builder((e=>o("div",{className:F},e.children)));a.insertAdjacentNode("beforeend",t),e.insertAdjacentNode("beforeend",a)}else e.insertAdjacentNode("beforeend",t)}attachSubLabelClass(e){const t=this._options;if(t.subLabel){ko.isObservable(t.subLabel)&&t.subLabel.subscribe(this.ltm,(t=>{e.toggleClass(P,!!t&&t.length>0)}));const o=ko.unwrap(t.subLabel);o&&("string"==typeof o&&o.length&&e.addClass(P),"object"==typeof o&&o.htmlTemplate&&e.addClass(P).addClass("fxc-has-sublabel-html"))}if(t.label){const o=t=>{const o=t&&("string"==typeof t&&t.length||"object"==typeof t&&t.htmlTemplate);e.toggleClass("fxc-has-label",!!o)};ko.isObservable(t.label)?t.label.subscribeAndRun(this.ltm,(e=>{o(e)})):o(t.label)}}attachKeyboardEvents(e){this.ltm.registerForDispose(e.setEvents(["keydown",t=>t.shiftKey||112!==t.which?27===t.which?(this.toggleBalloon(!1),!1):void(9===t.which&&setTimeout((()=>{this.ltm.isDisposed()||$.contains(e[0],document.activeElement)||this.toggleBalloon(!1)}))):(this.toggleBalloon(),!1)]))}insertLabelBefore(e,t={}){const o=this._options.subLabel&&!t.inlineLabel?e.parent():e;this.labelContainer=this._createLabelContainer(t.inlineLabel?S:B);const a=this.labelContainer;a&&(t.inlineLabel?o.after(a):o.before(a),t.emptyLabel||this._appendLabelContent(a))}insertLabelBefore_TSX(e,t={}){const o=this._options.subLabel&&!t.inlineLabel?e.parent():e,a=this.labelContainer_TSX=this._createLabelContainer_TSX(t.inlineLabel?S:B);a&&(t.inlineLabel?o.insertAdjacentNode("afterend",a):o.insertAdjacentNode("beforebegin",a),t.emptyLabel||this._appendLabelContent_TSX(a),a.parent().setDynamicClass(V,(0,c.composeComputation)([(0,h.toValueOrComputation)(this._options.label),(0,h.toComputation)(this._options.labelPosition)],((e,t)=>t===g.Left&&!!e))))}_createLabelContainer(e){let t=null;const o=this._options;return(o.label||o.infoBalloonContent||o.infoBalloonLinkContent)&&(t=$(FxImpl.createElement("div")).addClass(e).addClass(z),ko.reactor(this.ltm,(()=>{const e=ko.unwrap(o.label),a=ko.unwrap(o.labelPosition),i=(e||ko.unwrap(o.infoBalloonContent)||o.infoBalloonLinkContent())&&a!==g.Hidden;t.toggleClass(L,!i),t.attr("aria-hidden",!i||null),t.parent().toggleClass(V,a===g.Left&&!!e)}))),t}_createLabelContainer_TSX(e){const t=this._options;if(t.label||t.infoBalloonContent||t.infoBalloonLinkContent){const a=new r.Builder((e=>o("div",{className:e.className,style:e.style,...e.attributes},e.children))).setClass(e).setClass(z),i=(0,c.composeComputation)([(0,h.toValueOrComputation)(t.label),(0,h.toComputation)(t.labelPosition),(0,h.toComputation)(t.infoBalloonContent),(0,h.toComputation)(t.infoBalloonLinkContent)],((e,t,o,a)=>!((e||o||a)&&t!==g.Hidden)));return a.setDynamicClass(L,i),a.setAttribute("aria-hidden",i),a}return null}_appendLabelContent(e){const t=this._options,o=t.label,s=t.infoBalloonTabbable||!1;if(o){if(this.required){const t=$(FxImpl.createElement("div")).addClass(I);let o=null;this.required.subscribeAndRun(this.ltm,(n=>{n&&!o&&(o=new l.ViewModel({diContainer:this._diContainer,ltm:this.vmBaseOptions.ltm,type:3,content:ko.observable(i.requiredField)}),o.isTabbable(!1),this.ltm.registerForDispose(new l.Widget(t,o)),e.prepend(t),e.prepend(e.find(`.${M}`))),a.toggle(t,n)}))}const s=e.parent();s.toggleClass(V,ko.unwrap(t.labelPosition)===g.Left&&!!ko.unwrap(o));const r=t._msPortalFxLeftLabelWidth;r.subscribeAndRun(this.ltm,(t=>{if(t){const o=t-(s.hasClass(W)?45:0);e.attr("style",`width: ${o}px; min-width: ${o}px;`),s.find(`> .${F}`).attr("style",`width: calc(100% - ${o}px); min-width: calc(100% - ${o}px);`)}}));const c=t.cssClass;c&&ko.isObservable(c)&&c.subscribe(this.ltm,(t=>{const o=r();if(o){const a=o-(t.split(" ").includes(W)?45:0);e.attr("style",`width: ${a}px; min-width: ${a}px;`),s.find(`> .${F}`).attr("style",`width: calc(100% - ${a}px); min-width: calc(100% - ${a}px);`)}}));const d=$(FxImpl.createElement("label",{class:M,id:this.labelId,for:`${this.labelId}-for`,"data-bind":"untrustedContent: label, attr: { title: 1 === $ko.unwrap(overflowMode) && 'string' === typeof $ko.unwrap(label) && $ko.unwrap(label) }"}));let b=!1;const h=()=>{if(!b){const a=ko.unwrap(o);a&&(a.htmlTemplate||a.length)&&(b=!0,!d.parent()[0]&&e.prepend(d),t.overflowMode&&t.overflowMode.subscribeAndRun(this.ltm,(t=>{e.toggleClass(`${_} ${k}`,1===t)})),ko.applyBindings(n.createChildContext(e,{label:o,overflowMode:t.overflowMode}),d[0]))}};ko.isObservable(o)?o.subscribeAndRun(this.ltm,(e=>{h()})):h()}const r=t.infoBalloonContent,c=t.infoBalloonLinkContent;if(r||c){const o=$(FxImpl.createElement("div",{id:this.balloonId})),a=new l.ViewModel({diContainer:this._diContainer,ltm:this.vmBaseOptions.ltm,type:0,content:r,link:c});a.isTabbable(s),this._widget=new l.Widget(o,a),this.balloonTextElemId=this._widget.balloonTextElemId,this.ltm.registerForDispose(this._widget),e.append(o),this._infoBalloonTabIndex&&this._infoBalloonTabIndex.subscribeAndRun(this.vmBaseOptions.ltm,(e=>{a.isTabbable(!e)})),this._setUpDockedBalloonAriaLabel(a);const i=this._widget.element.find(R).last(),n=`${this.labelId}-anchor`;i[0].id=n,a.ariaLabel.subscribeAndRun(this.vmBaseOptions.ltm,(e=>{const o=ko.unwrap(t.label);i.attr("aria-labelledby",`${t.infoBalloonAriaLabel&&t.infoBalloonAriaLabel()||o&&o.trim&&o.trim().toLowerCase()===e?.trim().toLowerCase()?"":this.labelId} ${n}`.trim())})),ko.reactor(this.ltm,(()=>{o.toggleClass(L,!ko.unwrap(r)&&!ko.unwrap(c))}))}}_appendLabelContent_TSX(t){const a=this._options,n=a.label,s=a.infoBalloonTabbable||!1;if(n){if(this.required){const e=new l.ViewModel({diContainer:this._diContainer,ltm:this.vmBaseOptions.ltm,type:3,content:ko.observable(i.requiredField)});e.isTabbable(!1),t.insertAdjacentNode("afterbegin",new r.Builder((()=>o(c.If,{condition:(0,h.toComputation)(this.required),trueFn:()=>o(b.VivaDockedBalloon,{className:I,vm:e})}))))}const s=a._msPortalFxLeftLabelWidth,p=(0,c.composeComputation)([(0,h.toComputation)(s)],(e=>e?`${e}px`:null));t.setStyle("width",p).setStyle("min-width",p),t.setAttribute("afterMount",((e,t)=>{const o=$(e).parent();(0,c.subscribeAndRun)(t,[p],(t=>{const a=s()-(o.hasClass(W)?45:0);$(e).attr("style",`width: ${a}px; min-width: ${a}px;`),t&&o.find(`> .${F}`).attr("style",`width: calc(100% - ${a}px); min-width: calc(100% - ${a}px);`)}));const i=a.cssClass;i&&ko.isObservable(i)&&i.subscribe(this.ltm,(t=>{const a=s();if(a){const i=a-(t.split(" ").includes(W)?45:0);$(e).attr("style",`width: ${i}px; min-width: ${i}px;`),o.find(`> .${F}`).attr("style",`width: calc(100% - ${i}px); min-width: calc(100% - ${i}px);`)}}))}));const u=a.overflowMode&&(0,c.composeComputation)([(0,h.toComputation)(a.overflowMode)],(e=>1===e)),f=u&&(0,c.composeComputation)([u,(0,h.toValueOrComputation)(n)],((e,t)=>e&&"string"==typeof t?t:null));let m=!1;const v=(0,c.composeComputation)([(0,h.toValueOrComputation)(n)],(e=>!!m||(m=!(!e||!e.htmlTemplate&&!e.length)))),g=new r.Builder((t=>o(c.If,{condition:v,concealmentBehavior:"remove",trueFn:()=>o("label",{className:M,id:this.labelId,for:`${this.labelId}-for`,title:f},o(d.TextOrKo,{content:(0,h.toValueOrComputation)(n),require:e}))})));if(t.insertAdjacentNode("afterbegin",g),u){const e=(0,c.composeComputation)([v,u],((e,t)=>e&&t));t.setDynamicClass(_,e).setDynamicClass(k,e)}}const p=a.infoBalloonContent,u=a.infoBalloonLinkContent;if(p||u){const e=new l.ViewModel({diContainer:this._diContainer,ltm:this.vmBaseOptions.ltm,type:0,content:p,link:u});e.isTabbable(s);const i=new l.WidgetUIState,n=new r.Builder((t=>o(c.GetContext,{fn:a=>o("div",{className:t.className,id:this.balloonId,afterMount:(t,o)=>{o.registerForDispose(this._widget=new l.Widget($(t),e,{weaveContext:a},i)),d&&d()}},o(b.DockedBalloonInner,{vm:e,state:i,tabIndex:this._infoBalloonTabIndex&&(0,h.toComputation)(this._infoBalloonTabIndex)}))})));n.setDynamicClass(L,(0,c.composeComputation)([(0,h.toComputation)(p),(0,h.toComputation)(u)],((e,t)=>!e&&!t))),t.insertAdjacentNode("beforeend",n),this.balloonTextElemId=i.balloonState.balloonTextElemId,this._infoBalloonTabIndex&&this._infoBalloonTabIndex.subscribeAndRun(this.vmBaseOptions.ltm,(t=>{e.isTabbable(!t)}));const d=()=>{this._setUpDockedBalloonAriaLabel(e);const t=this._widget.element.find(R).last(),o=`${this.labelId}-anchor`;t[0].id=o,e.ariaLabel.subscribeAndRun(this.vmBaseOptions.ltm,(e=>{const i=ko.unwrap(a.label);t.attr("aria-labelledby",`${a.infoBalloonAriaLabel&&a.infoBalloonAriaLabel()||i&&i.trim&&i.trim().toLowerCase()===e?.trim().toLowerCase()?"":this.labelId} ${o}`.trim())}))}}}_setUpDockedBalloonAriaLabel(e){const t=this._options,o=e.content;ko.reactor(this.vmBaseOptions.ltm,(()=>{const a=ko.unwrap(t.label),i=ko.unwrap(o),l=this._widget&&this._widget.element[0],n=ko.unwrap(t.infoBalloonAriaLabel)||(0,p.getStringFromHtmlContent)(this._diContainer,a||i,l)||a&&(0,p.getStringFromHtmlContent)(this._diContainer,i,l)||D;e.ariaLabel(n)}))}insertSubLabelAfter(e){const t=this._options,o=(e,t)=>{e.closest("."+E).toggleClass(y,t)};if(t.subLabel){const a=ko.utils.wrap(t.subLabel);this._subLabelElement=$(FxImpl.createElement("label",{class:`${C} ${_}`,"data-bind":"untrustedContent: $data"})),t.subLabelPosition&&(ko.isObservable(t.subLabelPosition)?t.subLabelPosition.subscribeAndRun(this.ltm,(t=>{o(e,t===x.Right)})):o(e,ko.unwrap(t.subLabelPosition)===x.Right)),e.after(this._subLabelElement),ko.applyBindings(n.createChildContext(e,a),this._subLabelElement[0]),a.subscribeAndRun(this.ltm,(e=>{const t=this._subLabelElement.html().length>0;this.labelContainer&&this.labelContainer.toggleClass(w,t),this._subLabelElement.attr("aria-hidden",!t||null)}))}}insertSubLabelAfter_TSX(t){const a=this._options;if(a.subLabel){const i=new r.Builder((t=>o("label",{className:[C,_],afterMount:(e,t)=>{const o=$(e);if(a.subLabelPosition){const e=e=>{o.closest("."+E).toggleClass(y,e)};ko.isObservable(a.subLabelPosition)?a.subLabelPosition.subscribeAndRun(t,(t=>{e(t===x.Right)})):e(ko.unwrap(a.subLabelPosition)===x.Right)}ko.utils.wrap(a.subLabel).subscribeAndRun(this.ltm,(e=>{const t=o.html().length>0;l(t),o.attr("aria-hidden",!t||null)}))}},o(d.TextOrKo,{content:(0,h.toValueOrComputation)(a.subLabel),require:e})))),l=(0,c.makeWritableComputation)(!1);this.labelContainer_TSX&&this.labelContainer_TSX.setDynamicClass(w,l),t.insertAdjacentNode("afterend",i)}}insertValidationMessageBelowControlAfter(e,t){const o=$(FxImpl.createElement("label",{class:`azc-validation-messages ${_}`,id:this.errMsgId,"aria-live":"polite","aria-atomic":"true",trustedInnerHTML:`\x3c!-- ko foreach: items --\x3e\x3c!-- ko if: state === 1 --\x3e<div class='fxc-fabric-validation'><svg aria-label=${H} title=${H} role="img" class=${T} data-bind="image: $parent.errorIcon"></svg><span class='fxc-validation' data-bind="untrustedContent: $data.message"></span></div>\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e`}));e.after(o),this._belowControl(!0),ko.applyBindings({items:t,errorIcon:O()},o[0])}insertInvalidUserInputWarningAfter(e,t){const o=$(FxImpl.createElement("div",{id:this.inputWarningId,"data-bind":"pcControl: warningBox"}));e.after(o),ko.applyBindings({warningBox:m.createInline(this.ltm,{style:4,text:i.userInputWarning,visible:t})},o[0])}insertValidationMessageBelowControlAfter_TSX(t,a){const i=new r.Builder((t=>o("label",{className:["azc-validation-messages",_],id:this.errMsgId,"aria-live":"polite","aria-atomic":"true"},o(c.ForEach,{collection:(0,h.toComputation)(a),fn:({item:t})=>{if(1===t.state){const a=t.message||"";return o("div",{className:"fxc-fabric-validation"},o("svg",{className:T,image:O(),"aria-label":H,title:H,role:"img"}),o("span",{className:"fxc-validation"},o(d.TextOrKo,{content:a,require:e})))}return null}}))));t.insertAdjacentNode("afterend",i),this._belowControl(!0)}insertValidationMessageHidden(e,t){if(this._errMsgElemInjected)return;const o=$(FxImpl.createElement("label",{class:"fxs-hide-accessible-label",id:this.errMsgId,"aria-live":"polite","aria-atomic":"true",trustedInnerHTML:'\x3c!-- ko foreach: errorMessages --\x3e<span data-bind="untrustedContent: $data"></span>\x3c!-- /ko --\x3e'}));e.append(o);const a=ko.computed(this.ltm,[t,this._belowControl],((e,t)=>q(e,t)));ko.applyBindings({errorMessages:a},o[0]),this._errMsgElemInjected=!0}insertValidationMessageHidden_TSX(t,a){if(this._errMsgElemInjected)return;const i=(0,c.composeComputation)([(0,h.toComputation)(a),(0,h.toComputation)(this._belowControl)],((e,t)=>q(e,t)));t.insertAdjacentNode("beforeend",o("label",{className:"fxs-hide-accessible-label",id:this.errMsgId,"aria-live":"polite","aria-atomic":"true"},o(c.ForEach,{collection:i,fn:({item:t})=>o("span",null,o(d.TextOrKo,{content:t,require:e}))}))),this._errMsgElemInjected=!0}toggleBalloon(e){const t=this._widget&&this._widget.options;if(t){const o=t.balloonVisible;MsPortalFx.isNullOrUndefined(e)&&(e=!o()),e!==o()&&this._widget.element.filter(":visible").length&&(e&&this._widget.element.find(R).focus(),o(e))}}dispose(){const e=this.labelContainer,t=this._subLabelElement;e&&(e.parent().removeClass(V),e.remove()),t&&t.remove(),this.ltm&&this.ltm.dispose()}}})),
define("MsPortalImpl/Controls/Helpers/Validation",["require","exports","Viva.Controls/Controls/Base/Viva.Validators"],(function(e,t,o){"use strict";t.convertValidation=function(e,t){let i;switch(t?.type){case 0:i=new o.Invalid(e,t);break;case 2:i=new o.Match(e,t);break;case 3:i=new o.NotMatch(e,t);break;case 4:i=new o.Contains(e,t);break;case 5:i=new o.NotContains(e,t);break;case 6:i=new o.ContainsCharacters(e,t);break;case 7:i=new o.NotContainsCharacters(e,t);break;case 8:i=new o.HasDigit(e,t);break;case 9:i=new o.HasLetter(e,t);break;case 10:i=new o.HasUpperCaseLetter(e,t);break;case 11:i=new o.HasLowerCaseLetter(e,t);break;case 12:i=new o.HasPunctuation(e,t);break;case 13:i=new o.Equals(e,t);break;case 22:i=new o.CaseInsensitiveComparison(e,t);break;case 23:i=new o.LocaleAwareCaseInsensitiveComparison(e,t);break;case 14:i=new o.LengthRange(e,t);break;case 15:i=new o.MinLength(e,t);break;case 16:i=new o.MaxLength(e,t);break;case 1:i=new o.Required(e,t);break;case 17:i=new o.Numeric(e,t);break;case 18:i=new o.ValueRange(e,t);break;case 19:i=new o.MinValue(e,t);break;case 20:i=new o.MaxValue(e,t);break;case 21:{const l=a.getMetadataId(t);i=new o.CustomAsyncValidator(e,t,l);break}case 24:i=new o.Uri(e,t)}i&&t.isEmptyValid&&(i.isEmptyValid=t.isEmptyValid);return i},t.removeValidations=function(e,t){const o=e.validators();for(let e=0;e<t.length;e++)for(let a=0;a<o.length;a++)if(t[e]===o[a].fxViewModel){o.splice(a,1);break}e.validators(o)},t.shouldValidate=function(e,t,o,a){const i=ko.unwrap(e.validations),l=ko.unwrap(e.visible);if(e.enableValidation&&e.enableValidation()&&l&&i&&i.length>0&&!t&&!o)return!0;if(a&&!o)return!0;return!1},t.validateValidators=function(e,t,o){return e.map((e=>{const a=e?.fxViewModel?.map;let i;const l=t=>(null===t&&(t=void 0),t!==e.lastValidate?.value?e.validate(t):void 0===t&&t===e.lastValidate?.value||o||21===e.type&&MsPortalFx.isUndefined(o)?e.validate(t,!0):(void 0!==i&&e.validationState(i),e.createValidationResult(1!==e.validationState())));return a?(i=void 0,3!==e.validationState()&&(i=e.validationState(),e.validationState(3)),Promise.resolve(a(t)).then(l).catch((()=>(3===e.validationState()&&e.validationState(i),e.createValidationResult(1!==i))))):l(t)}))};var a=FxImpl.Po})),
define("_generated/Less/MsPortalImpl.Controls/Fields/Fields.css",["module"],(function(e){"use strict";return{css:".fxs-hubPane .azc-form-labelcontainer,.fxs-bladestyle-context .azc-form-labelcontainer{color:#fff}.azc-checkBoxField.azc-checkBoxField-inlineLabel:not(.azc-fabric) .azc-checkBox{display:inline-block;width:auto}.azc-form-labelcontainer.azc-text-label{padding-right:6px}.azc-dateTimePicker>.azc-form-labelcontainer.azc-text-label{padding-right:0}.azc-checkBoxField-inlineLabel .azc-form-labelcontainer{display:none}.azc-checkBoxField-inlineLabel .azc-text-label{margin-left:6px}.azc-checkBoxField-inlineLabel label{line-height:16px;max-width:100%}.azc-fabric.azc-checkBoxField-inlineLabel .azc-text-label{margin-left:8px}.azc-checkBoxField-inlineLabelContainer{display:inline-block;max-width:calc(100% - 17px - 6px)}.fxc-CheckBoxField .azc-formElementSubLabelContainer{min-height:17px}.fxc-hide-check .azc-validatableControl-valid-validated div.azc-dockedballoon-anchor{display:none}.azc-text-label{margin-bottom:4px}.azc-text-sublabel{margin-top:1px}.msportalfx-form-formelement-disabled .azc-required-balloon{display:none}.fxc-base.msportalfx-form-formelement.fxc-left-label .azc-form-labelcontainer.azc-text-label{vertical-align:top}.fxc-base.msportalfx-form-formelement.fxc-left-label:not(.fxc-CheckBoxField) .azc-form-labelcontainer.azc-text-label{margin-top:3px}",moduleId:e.id}})),
define("MsPortalImpl.Controls/Fields/Base/Field",["require","exports","MsPortalImpl.Controls/Fields/Base/FormValidation","MsPortalImpl.Controls/Fields/Base/LabelAndBalloonWidget","MsPortalImpl.Controls/Controls/Base/Loadable","MsPortalImpl.Controls/Controls/Base/Base","MsPortalImpl/Controls/Helpers/Validation","MsPortalImpl/Weave/Util","Fx","FxInternal/Css","_generated/Less/MsPortalImpl.Controls/Fields/Fields.css"],(function(e,t,o,a,i,l,n,s,r,c,d){"use strict";t.hideCheckClass=t.formElementContainerClass=t.formElementAndSublabelContainerClass=t.WidgetUIState=t.FieldWidget=void 0,(0,c.injectCss)(d);const b="aria-busy",h="azc-input",p="msportalfx-form-formelement",u="msportalfx-form-formelement-disabled",f=t.formElementAndSublabelContainerClass="azc-formElementSubLabelContainer",m=t.formElementContainerClass="azc-formElementContainer",v=t.hideCheckClass="fxc-hide-check",g="aria-label",x="aria-labelledby",z="aria-describedby",C=["checkbox","combobox","gridcell","listbox","radiogroup","spinbutton","textbox","tree"];let _=0;class k extends l.WidgetUIState{constructor(e){super(),this.controlRootId=`__field__${_++}__`,this.labelHelper=new a.LabelAndBalloonWidgetHelper(e.diContainer,this._ltm,e.vm,ko.computed(this._ltm,e.vm.disabled,(e=>e?0:-1)))}}t.WidgetUIState=k;class w extends i.Widget{constructor(e,t,o,a){super(e,t,o,a||new k({diContainer:o?.diContainer,vm:t})),this.hasInternalValidators=ko.observable(!1),this.options._msPortalFxClearValidation((()=>this._clearValidation())),this.options._msPortalFxTriggerValidation((()=>this.triggerValidation())),this.valid=this.options.valid,this._initializeWidgets()}_initializeField(){this.element.addClass(p),this.options.disabled.subscribeAndRun(this.ltm,(e=>{this.element.toggleClass(u,!!e),this.weaveContext||this.element.find(".azc-dockedballoon-info > .azc-dockedballoon-anchor").attr("tabindex",e?"0":"-1")})),this.options.loading.subscribe(this.ltm,(e=>{e||this._clearValidation()})),this._widgetInstances=[],this.weaveContext||(this._container=$(FxImpl.createElement("div")).addClass(m),this.state.labelHelper.appendWidgetToDom(this.element,this._container),this._container.toggleClass(f,!this.options.subLabel)),this.state.labelHelper.attachSubLabelClass(this.element),this.state.labelHelper.attachKeyboardEvents(this.element)}_initializeWidgets(){this._required=this.state.labelHelper.required,this._initializeField(),ko.isObservable(this.options.hideValidationCheck)?this.options.hideValidationCheck.subscribeAndRun(this.ltm,(e=>{this.element.toggleClass(v,e)})):this.element.toggleClass(v,this.options.hideValidationCheck),this.options.showValidationMessagesBelowControl&&this.element.addClass(a.validationMessageBelowControlClass),this._createLabelAndSubLabel(),this.element.find(".azc-dockedballoon-info > .azc-dockedballoon-anchor").attr("tabindex",this.options.disabled()?"0":"-1"),o.markFormFieldElement(this.element[0],this.options,this.validatableViewModel,this)}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(this._widgetInstances=null,this.element.removeClass(p),this.element.removeClass(u),this.element.removeClass(v),this._container?.remove(),super.dispose())}get validatableViewModel(){return this._widgets[0].validatableViewModel}get validatableWidget(){return null}getPerformValidationFromViewModel(){return null===this.options.performValidation()||this.options.performValidation()}addValidations(){ko.unwrap(this.options.validations).forEach((e=>{const t=n.convertValidation(this.ltm,e);t&&this.validatableViewModel.validators.push(t)}))}removeValidations(e){n.removeValidations(this.validatableViewModel,e)}linkValidatableControlViewModels(){const e=this.ltm,t=this.validatableViewModel,o=this.options,a=this.element.find(`.${h}`);this.linkFieldViewModels(),t.valid.subscribe(e,(e=>{const i=t.validators().some((e=>!e.valid())),l=!(e||i)||3===t.validationState();!e&&l&&a.attr(b,!0),a.attr("aria-invalid",!e),a.attr(b,l),o.valid(e)})),this.addValidations(),ko.isObservable(o.validations)&&o.validations.subscribeArrayEdits(e,(o=>{const a=[],i=[];o.forEach((t=>{if("added"===t.status){const o=n.convertValidation(e,t.value);o&&i.push(o)}else"deleted"===t.status&&a.push(t.value)})),t.validators([...t.validators(),...i]),a.length&&this.removeValidations(a)})),t.enableValidation=o.enableValidation,t.enableValidation.subscribe(e,(e=>{e||t.validators().forEach((e=>{e.validationState(0)}))}));const i=o.validationResults;t.validationResults.subscribe(e,(e=>{i(e)}))}validateField(e){return this.getPerformValidationFromViewModel()&&(this.validatableViewModel&&!this.validatableViewModel.enableValidation()&&(this.validatableViewModel.enableValidation(!0),e=!0),this.validatableWidget)?this.validatableWidget.validate(e):[]}setupValidationBindings(){this.options.validate.subscribe(this.ltm,(()=>{this.validateField(!0)})),this.options.ensureValidation.subscribe(this.ltm,(()=>{this.validateField()})),this.options.performValidation.subscribeAndRun(this.ltm,(e=>{null!==this.options.performValidation()&&(this.validatableViewModel.enableValidation(e),e&&this.validatableWidget?.validate(!0))}))}linkFieldViewModels(){this.options.enabled.subscribeAndRun(this.ltm,(e=>{this.validatableViewModel.disabled(!e)})),this.options.loading.subscribeAndRun(this.ltm,this.validatableViewModel.loading),this.options.dirty.subscribeAndRun(this.ltm,this.validatableViewModel.dirty)}appendControl(e){return this._container.append(e),this}triggerValidation(){const e=this.options,t=this.validatableViewModel;if(e&&ko.unwrap(e.loading)&&n.shouldValidate(e,!1,!1,!1))return t.valid(!1),Promise.resolve(!1);if(n.shouldValidate(e,this.$disabled(),this.isDisposed?.(),this.hasInternalValidators())){const e=this.validateField(!0),o=e.some((e=>!r.isPromise(e)&&!e.valid)),a=Promise.resolve(!o),i=e.filter((e=>r.isPromise(e)));if(i.length){const e=i.map((e=>e.then((e=>e.valid))));return e.push(a),Promise.all(e).then((e=>e.every(MsPortalFx.identity)))}return t.valid(!o),a}return Promise.resolve(!0)}_getLabelId(){return this.state.labelHelper.labelId}_getBalloonTextElemId(){return this.state.labelHelper.balloonTextElemId}_getErrorMessageLabelId(){return this.state.labelHelper.errMsgId}_addWidget(e){e&&this._widgetInstances.push(e)}_createLabelAndSubLabel(){this.weaveContext||this._attachLabelAndSubLabel(),this._attachAriaBindings()}_attachLabelAndSubLabel(e={}){const t=this.state.labelHelper,o=this.options,a=this.element.find(`.${e.controlClassName||h}`),i=this.validatableWidget,l=i?._showInvalidUserInputWarning;!e.inhibitLabel&&t.insertLabelBefore(e.insertLabelBefore||this._container,e),l&&t.insertInvalidUserInputWarningAfter(this._container,l),!e.emptyLabel&&o.showValidationMessagesBelowControl&&t.insertValidationMessageBelowControlAfter(this._container,o.validationResults),a.length&&!o.showValidationMessagesBelowControl&&t.insertValidationMessageHidden($(a[0]).parent(),o.validationResults),!e.inhibitSubLabel&&t.insertSubLabelAfter(e.insertSubLabelAfter||this._container)}_attachAriaBindings(e={}){const t=this.state.labelHelper,o=this.options,i=this.element.find(`.${e.controlClassName||h}`),l=e.toAriaLabel||i,n=l.attr(x)||"",r=e.ariaLabel||ko.observable();4===l.length&&l.closest(".azc-fabric-duration")[0]||ko.computed(this.ltm,[o.label,r],((e,o)=>{if(o=(o||"").trim(),l.removeAttr(x).removeAttr(g),o)l.attr(g,o);else{const o=(n+" "+(V(e)&&t.labelId||"")).trim();o&&l.attr(x,o)}}));const c=this.validatableWidget,d=c?._showInvalidUserInputWarning;l.each(((e,a)=>{const i=$(a).attr(z)||"";ko.computed(this.ltm,[o.infoBalloonContent,o.infoBalloonLinkContent,d],((e,o,l)=>{const n=[];l&&n.push(t.inputWarningId),n.push(t.errMsgId),i&&n.push(i),(V(e)||o)&&n.push(t.balloonTextElemId);const s=n.join(" ").trim();$(a).attr(z,s||null)}))}));const b=i.attr("id");b&&!(0,s.isTsxElemId)?.(b)||$(i[0]).attr("id",`${t.labelId}-for`),i[0]&&("DIV"!==i[0].tagName||C.includes(i.attr("role").toLowerCase()))&&this._required?.subscribeAndRun(this.ltm,(e=>{i.attr("aria-required",e||null)})),o.valid&&i.attr("aria-invalid",!o.valid()),i!==l&&(!o.showValidationMessagesBelowControl&&o.valid?i.attr(z,((i.attr(z)||"")+" "+t.errMsgId).trim()):o.showValidationMessagesBelowControl&&i.each(((e,o)=>{const a=$(o);a.attr(z,[a.attr(z)||"",t.errMsgId].join(" ").trim())}))),this.validatableViewModel&&this.validatableViewModel.validationResults.subscribeAndRun(this.ltm,(e=>{const n=!!(0,a.getErrorMessages)(e,o.showValidationMessagesBelowControl).length,s=t.errMsgId;(0,a.toggleAriaErrorMessage)(i,s,n),i!==l&&(0,a.toggleAriaErrorMessage)(l,s,n)}))}_clearValidation(){return this.validatableViewModel&&this.validatableViewModel.validators().forEach((e=>{e.validationState(0)})),Promise.resolve()}}function V(e){const t=ko.unwrap(e);let o="";return o="string"==typeof t?(t||"").trim():t&&(t.htmlTemplate||"").trim(),o}t.FieldWidget=w})),
define("MsPortalImpl.Controls/Fields/Base/Field.ComponentBuilder",["require","exports","Weave/DirectMode","MsPortalImpl.Controls/Fields/Base/Field","MsPortalImpl/Weave/Builder","Weave"],(function(e,t,o,a,i,l){"use strict";t.attachLabelAndSubLabel=function(e){const{vm:t,labelHelper:o,container:a,controlRoot:i}=e;!e.inhibitLabel&&o.insertLabelBefore_TSX(e.insertLabelBefore||a,e),!e.emptyLabel&&t.showValidationMessagesBelowControl&&o.insertValidationMessageBelowControlAfter_TSX(a,t.validationResults),!t.showValidationMessagesBelowControl&&o.insertValidationMessageHidden_TSX(i,t.validationResults),!e.inhibitSubLabel&&o.insertSubLabelAfter_TSX(e.insertSubLabelAfter||a)},t.getFieldTsxBuilder=function(e,t){const n=new i.Builder((e=>o(l.Fragment,null,e.children))),s=new i.Builder((e=>o("div",{className:e.className,style:e.style,...e.attributes},e.children)));s.setClass(a.formElementContainerClass),e.subLabel||s.setClass(a.formElementAndSublabelContainerClass);return t.appendWidgetToDom_TSX(n,s),{root:n,container:s}}})),
define("Viva.Controls/Controls/Base/ValidationPlacements/Viva.Base",["require","exports","Viva.Controls/Util/Viva.Util","FxInternal/Css","_generated/Less/Viva.Controls/Controls/Base/Viva.ValidationPlacements.css"],(function(e,t,o,a,i){"use strict";t.Base=void 0,(0,a.injectCss)(i);t.Base=class{constructor(e){this._destroyIds=[],this._container=e,this._ltm=e.createChildLifetime()}_checkExistsOrRegisterDestroyId(e){return o.existsOrRegisterId(this._destroyIds,e)}isDestroyed(){return this._destroyIds.length>0}dispose(){this._checkExistsOrRegisterDestroyId(null)||this._ltm&&(this._ltm.dispose(),this._ltm=this._container.createChildLifetime())}initialize(e,t){this._element=e,this._validatable={enableValidation:t.enableValidation,valid:t.valid,validationState:t.validationState,validators:t.validators};const o=this._ltm;this._errorMessage||(this._errorMessage=ko.computed(o,(()=>{let e="";const t=this._validatable.validators();if(t)for(let o=0;o<t.length;o++){const a=t[o],i=a.valid(),l=a.message();if(!i&&l){e=l;break}}return e}))),this._initializeSubscriptions(o)}onErrorMessageChanged(e){}onValidationStateChanged(e){}_initializeSubscriptions(e){this._validatable.validationState.subscribeAndRun(e,(e=>{this.onValidationStateChanged(e)})),this._errorMessage.subscribeAndRun(e,(e=>{this.onErrorMessageChanged(e)}))}}})),
define("Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css",["require","exports","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Base"],(function(e,t,o){"use strict";t.Css=void 0;const a=[],i="azc-validatableControl-none",l="azc-validatableControl-invalid",n="azc-validatableControl-pending",s="azc-validatableControl-valid-validated",r="data-validatable-control-valid";a[0]="none",a[1]="invalid",a[2]="valid",a[3]="pending";class c extends o.Base{constructor(){super(...arguments),this._input=null}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(super.dispose(),this._element&&this._element.removeClass([i,l,n,s].join(" ")),this._input&&this._input.removeAttr(r))}initialize(e,t){super.initialize(e,t);const o=this._ltm;this._valid=ko.computed(o,(()=>this._validatable.enableValidation()&&this._validatable.validators().length>0&&2===this._validatable.validationState())),this._valid.subscribe(o,(e=>{this._element.toggleClass(s,e)})),this._input=this._element.find("input, select, textarea"),this._validatable.validationState.notifySubscribers(this._validatable.validationState()),this._setValidationAttribute(this._validatable.validationState())}onValidationStateChanged(e){const t=this._element;t.toggleClass(i,0===e),t.toggleClass(l,1===e),t.toggleClass(n,3===e),t.toggleClass(s,this._valid&&this._valid()),this._setValidationAttribute(e)}_setValidationAttribute(e){this._input&&(this._input.attr(r,2===e||0===this._validatable.validators().length),this._input.attr("data-validatable-control-validation-state",a[e]))}}t.Css=c})),
define("Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon",["require","exports","Viva.Controls/Controls/Viva.DockedBalloon","Viva.Controls/Controls/Base/Viva.Validators","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Base"],(function(e,t,o,a,i){"use strict";t.DockedBalloon=void 0;const l={length:4,0:"none",1:"invalid",2:"valid",3:"pending"};class n extends i.Base{constructor(e,t,o){super(t),this._diContainer=e,this._inputSelector="input, select",this._settings=o}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(super.dispose(),this._detachEvents(),this._widget&&(this._widget.dispose(),this._widget=null),this._element&&this._widgetElement&&(ko.cleanNode(this._widgetElement[0]),this._widgetElement.remove()),this._errorMessagesListWidget&&(this._errorMessagesListWidget.dispose(),this._errorMessagesListWidget=null))}onValidationStateChanged(e){if(super.onValidationStateChanged(e),!this._widgetElement){if(0===e)return;this._createDockedBalloon()}if(this._widgetElement.removeClass("fxs-bg-error"),this._inputElement)switch(e){case 0:case 1:this._widgetElement.addClass("fxs-bg-error");case 2:case 3:this._widgetViewModel.disabled(!this._validationStateBalloonOptions[l[e]].balloonVisible)}}_setInputSelector(e){this._inputSelector=e}_createDockedBalloon(){this._inputElement=this._element.find(this._inputSelector),this._widgetElement||(this._widgetElement=$(FxImpl.createElement("div")));const e=new FxImpl.TriggerableLifetimeManager;this._widgetViewModel=new o.ViewModel({diContainer:this._diContainer,ltm:e,content:this._errorMessage,type:2}),this._widgetViewModel.isTabbable(!1),this._initializeValidationStateDockedBalloonOptions(this._settings),this._element.append(this._widgetElement);const t=this._element.innerHeight();(this._widget=new o.Widget(this._widgetElement,this._widgetViewModel)).ltm.registerForDispose(e),this._widgetElement.css("height",t),this._attachEvents(),this.onValidationStateChanged(this._validatable.validationState())}_initializeValidationStateDockedBalloonOptions(e){const t=e=>null!=e,o=e=>({balloonVisible:e});if(this._validationStateBalloonOptions={none:o(!1),invalid:o(!0),valid:o(!1),pending:{}},e&&e.validationStateBalloonOptions){const o=e.validationStateBalloonOptions,a=o.none,i=o.invalid,l=o.valid,n=o.pending,s=this._validationStateBalloonOptions;a&&(s.none.balloonVisible=t(a.balloonVisible)?!0===a.balloonVisible:s.none.balloonVisible),i&&(s.invalid.balloonVisible=t(i.balloonVisible)?!0===i.balloonVisible:s.invalid.balloonVisible),l&&(s.valid.balloonVisible=t(l.balloonVisible)?!0===l.balloonVisible:s.valid.balloonVisible),n&&(s.pending.balloonVisible=t(n.balloonVisible)?!0===n.balloonVisible:s.pending.balloonVisible)}}_attachEvents(){this._detachEvents(),this._inputElementFocusHandler=e=>{this._onInputElementFocus()},this._inputElementBlurHandler=e=>{this._onInputElementBlur()},this._inputElementKeysHandler=e=>{if(this._widget&&!this._validatable.valid()){if(e.shiftKey&&112===e.which){const t=this._widget.options.balloonVisible();this._widget.options.balloonVisible(!t),e.preventDefault()}27===e.which&&this._widget.options.balloonVisible(!1)}},this._widgetAnchorElementClickHandler=e=>{e.preventDefault()},this._element.find("input,select,textarea,div.azc-input").on("focus",this._inputElementFocusHandler).on("pseudofocus",this._inputElementFocusHandler).on("blur",this._inputElementBlurHandler).on("pseudoblur",this._inputElementBlurHandler).on("keydown",this._inputElementKeysHandler),this._widgetElement.find("a").on("click",this._widgetAnchorElementClickHandler)}_detachEvents(){this._inputElementFocusHandler&&(this._inputElement.off("focus",this._inputElementFocusHandler),this._inputElementFocusHandler=null),this._inputElementBlurHandler&&(this._inputElement.off("blur",this._inputElementBlurHandler),this._inputElementBlurHandler=null),this._widgetAnchorElementClickHandler&&(this._widgetElement.find("a").off("blur",this._widgetAnchorElementClickHandler),this._widgetAnchorElementClickHandler=null)}_onInputElementFocus(){!this._widget||this._validatable.valid()||this._element.closest(".azc-validationBelowCtrl").length||this._widget.options.balloonVisible(!0)}_onInputElementBlur(){this._widget&&this._widget.options.balloonVisible(!1)}}t.DockedBalloon=n,n.defaultOptions={validationStateBalloonOptions:{pending:{balloonVisible:!1}}}})),
define("Viva.Controls/Controls/Base/Viva.EditableControl",["require","exports","Viva.Controls/Controls/Base/Viva.Base"],(function(e,t,o){"use strict";t.Widget=t.ViewModel=void 0;const a="azc-editableControl",i="azc-is-edited";class l extends o.ViewModel{constructor(e){super(e),this.name=null,this.value=e.value||ko.observable(),this.dirty=e.dirty||ko.observable(!1),this.focused=ko.observable(!1)}}t.ViewModel=l;class n extends o.Widget{constructor(e,t,o,i){(o=o||{}).viewModelType=o.viewModelType||l,super(e,t,o,i),this._ready=!0,this.element.addClass(a).attr("data-editable","true"),this.weaveContext||this.element.html(""),this._initializeSubscriptions(this.options),this._supportsFocus(!0)}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(this.element.removeClass(a).removeClass(i).removeAttr("data-editable"),super.dispose())}_isSameValue(e,t){return e==t}_initializeSubscriptions(e){if(super._initializeSubscriptions(e),this._ready){const t=e=>{this.element.toggleClass(i,e)};t(e.dirty());const o=this.subLifetime;e.dirty.subscribe(o,t),this.options.focused.subscribe(o,(e=>{e||this.element.trigger("editableControl-blur",{widget:this,model:this.options})}))}}}t.Widget=n})),
define("Viva.Controls/Controls/Base/Viva.ValidatableControl",["require","exports","Viva.Controls/Controls/Base/Viva.EditableControl","Viva.Controls/Controls/Base/Viva.Validators","MsPortalImpl/Controls/Helpers/Validation"],(function(e,t,o,a,i){"use strict";t.Widget=t.ViewModel=void 0;const l="azc-validatableControl";class n extends o.ViewModel{constructor(e){super(e),this.validationState=ko.observable(0),this.enableValidation=ko.observable(!0),this.validators=ko.observableArray(),this.validationPlacements=ko.observableArray(),this.validationResults=ko.observableArray();const t=this.validationState(),o=this.validators().length,a=!this.enableValidation()||0===o||this.enableValidation()&&o>0&&(0===t||2===t);this.valid=ko.observable(a)}}t.ViewModel=n;class s extends o.Widget{constructor(e,t,o,a){(o=o||{}).viewModelType=o.viewModelType||n,super(e,t,o,a),this._validationStateInternal=null,this.element.addClass(l),this._initializeValidation(),this._initializeSubscriptions(this.options),this._initialized=!0,this.options.dirty()&&this.validate(!0),this._validationState.notifySubscribers(this._validationState())}dispose(){this._checkExistsOrRegisterDestroyId(super.dispose)||(super.dispose(),this.element.removeClass(l),MsPortalFx.disposeDisposable([...this.options.validators.removeAll(),...this.options.validationPlacements.removeAll()]))}validate(e){if(this._shouldValidate()){const t=!!e,o=this.options,a=o.validators();return i.validateValidators(a,o.value(),t)}return[]}_initializeSubscriptions(e){super._initializeSubscriptions(e);const t=this.options,o=this.ltm;t.value.subscribe(o,(e=>{this._onValueChanged(e)}));let a=this._validationState;if(a||(a=this._validationState=ko.observable(0)),a.subscribe(o,(e=>{t.validationState(e)})),this._validationStateInternal){const e=e=>{let i=this._validationLifetimeManager;i&&i.dispose(),e&&(i=this._validationLifetimeManager=o.createChildLifetime(),this._validationStateInternal.subscribe(i,(e=>{a(e)})),t.dirty()&&this.validate(!0))};t.enableValidation.subscribe(o,e),e(t.enableValidation())}e.validators.subscribeArrayChanges(o,(e=>{this._onValidatorsChanged()}),(e=>{this._onValidatorsChanged()}))}_afterCreate(){super._afterCreate(),this._initializeValidationPlacements()}_onValueChanged(e){this._hasValidators()&&this._valueChangeValidation()}_valueChangeValidation(){this.validate()}_initializeValidationPlacements(){const e=this.options.validationPlacements.removeAll();this.options.validationPlacements.subscribeArrayChanges(this.ltm,(e=>{e.initialize(this.element,this.options)}),(e=>{e.dispose()})),this.options.validationPlacements(e)}_hasValidators(){const e=this.options.validators();return this.options.enableValidation()&&!this.$disabled()&&e&&e.length>0}_initializeValidation(){const e=this.options,t=this.ltm;ko.reactor(t,(()=>{const t=!e.enableValidation()||0===e.validators().length||e.enableValidation()&&e.validators().length>0&&(0===e.validationState()||2===e.validationState());t!==e.valid.peek()&&e.valid(t)})),this._validationStateInternal=ko.computed(t,(()=>{let t=0;if(this._shouldValidate()&&(e.validators().some((e=>(t=e.validationState(),1===t||3===t||0===t))),1===t)){let o=0,a=0,i=!0;e.validators().forEach((e=>{const t=e.validationState();e.maxDateTime?(o++,2===t&&a++):2!==t&&(i=!1)})),i&&o>0&&a>0&&(t=2)}return t})),ko.reactor(t,(()=>{e.validationResults(a.getValidationResults(e.validators))}))}_onValidatorsChanged(){this._initialized&&this.validate(!0)}_shouldValidate(){const e=this.options.validators();return!!(this.options.enableValidation()&&!this.$disabled()&&e&&e.length>0)}}t.Widget=s}));